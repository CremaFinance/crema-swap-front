(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{2064:function(t,e,r){"use strict";r.d(e,"e",(function(){return h})),r.d(e,"f",(function(){return c})),r.d(e,"c",(function(){return l})),r.d(e,"b",(function(){return f})),r.d(e,"a",(function(){return d})),r.d(e,"d",(function(){return w}));r(17),r(18),r(980);var n=r(73),o=1e12;function h(t){var e=Math.pow(1.0001,.5);return Math.floor(Math.log(t)/Math.log(e))}function c(t){var e=Math.abs(t),r=1;return 0!=(1&e)&&(r=Math.pow(1.0001,.5)),0!=(2&e)&&(r*=Math.pow(1.0001,1)),0!=(4&e)&&(r*=Math.pow(1.0001,2)),0!=(8&e)&&(r*=Math.pow(1.0001,4)),0!=(16&e)&&(r*=Math.pow(1.0001,8)),0!=(32&e)&&(r*=Math.pow(1.0001,16)),0!=(64&e)&&(r*=Math.pow(1.0001,32)),0!=(128&e)&&(r*=Math.pow(1.0001,64)),0!=(256&e)&&(r*=Math.pow(1.0001,128)),0!=(512&e)&&(r*=Math.pow(1.0001,256)),0!=(1024&e)&&(r*=Math.pow(1.0001,512)),0!=(2048&e)&&(r*=Math.pow(1.0001,1024)),0!=(4096&e)&&(r*=Math.pow(1.0001,2048)),0!=(8192&e)&&(r*=Math.pow(1.0001,4096)),0!=(16384&e)&&(r*=Math.pow(1.0001,8192)),0!=(32768&e)&&(r*=Math.pow(1.0001,16384)),0!=(65536&e)&&(r*=Math.pow(1.0001,32768)),0!=(131072&e)&&(r*=Math.pow(1.0001,65536)),0!=(262144&e)&&(r*=Math.pow(1.0001,131072)),0!=(524288&e)&&(r*=Math.pow(1.0001,262144)),t<0&&(r=1/r),r}function l(t,e,r,n,h){var l=c(t),f=c(e),d=n.toNumber()/o,w=0;return{dst:0==h?(w=r/(1/d-1/f))*(d-l):(w=r/(d-l))*(1/d-1/f),delta_liquity:w}}function f(t,e,r){var n=c(t);return r/(c(e)-n)}function d(t,e,r){return r/(1/c(t)-1/c(e))}function w(t,e,r){var c=t.get_tick_info(e.lower_tick),l=t.get_tick_info(e.upper_tick);if(null==c||null==l)return{token_a_fee:new n.b(0),token_b_fee:new n.b(0)};var f,d,w,_,m=new n.b(1e8),v=new n.b(1e8),y=m.mul(v);h(r.current_price.toNumber()/o),e.lower_tick,e.upper_tick;c.tick_price.lt(r.current_price)?(f=c.feeGrowthOutside0,d=c.feeGrowthOutside1):(f=r.fee_growth_global0.sub(c.feeGrowthOutside0),d=r.fee_growth_global1.sub(c.feeGrowthOutside1)),l.tick_price.lt(r.current_price)?(w=r.fee_growth_global0.sub(l.feeGrowthOutside0),_=r.fee_growth_global1.sub(l.feeGrowthOutside1)):(w=l.feeGrowthOutside0,_=l.feeGrowthOutside1);var C=r.fee_growth_global0.sub(f).sub(w),M=r.fee_growth_global1.sub(d).sub(_);return{token_a_fee:C.sub(e.fee_growth_inside_a_last).mul(e.liquity).div(y).add(e.token_a_fee),token_b_fee:M.sub(e.fee_growth_inside_b_last).mul(e.liquity).div(y).add(e.token_b_fee)}}},2295:function(t,e,r){var content=r(2540);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(96).default)("3dbcc5ec",content,!0,{sourceMap:!1})},2539:function(t,e,r){"use strict";r(2295)},2540:function(t,e,r){var n=r(95)(!1);n.push([t.i,".set-price-range>.title{font-size:14px;color:#fff}.set-price-range .range-chart{width:460px;height:195px}@media screen and (max-width:750px){.set-price-range{display:none}}",""]),t.exports=n},2582:function(t,e,r){"use strict";r.r(e);var n=r(38),o=(r(332),r(142),r(195),r(194)),h=r(2080),c=r(2064),l=r(91),f=o.Vue.extend({props:{poolInfo:{type:Object,default:function(){return{}}},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0}},data:function(){return{myChart:null,currentChartData:[],isDraw:!1}},computed:{},watch:{poolInfo:{handler:"poolInfoWatch",immediate:!0},minPrice:{handler:"minPriceWatch",immediate:!0},maxPrice:{handler:"maxPriceWatch",immediate:!0},direction:function(t){this.poolInfo&&!Object(l.b)(this.poolInfo)&&this.dataProcessing(this.poolInfo)}},mounted:function(){this.isDraw||!this.poolInfo||Object(l.b)(this.poolInfo)||this.dataProcessing(this.poolInfo)},methods:{poolInfoWatch:function(t,e){t&&!Object(l.b)(t)&&t!==e&&this.dataProcessing(t)},minPriceWatch:function(t){this.currentChartData&&this.currentChartData.length>0&&this.updateChartRange(t,this.maxPrice)},maxPriceWatch:function(t){this.currentChartData&&this.currentChartData.length>0&&("âˆž"!==t?this.updateChartRange(this.minPrice,t):this.updateChartRange(this.minPrice,String(this.currentChartData[this.currentChartData.length-1][0])))},updateChartRange:function(t,e){var r=this.getCoordinate(Number(t)),n=this.getCoordinate(Number(e));this.myChart&&this.myChart.dispatchAction({type:"brush",areas:[{brushType:"lineX",coordRange:[r,n],xAxisIndex:0}]})},getCoordinate:function(t){var e=this.currentChartData;if(!e||e.length<1)return 0;if(t<e[0][0])return 0;if(t>e[e.length-1][0])return e.length-1;for(var i=0;i<e.length-1;i++)if(t>=e[i][0]&&t<=e[i+1][0])return i;return 0},dataProcessing:function(t){if(t&&t.coin){for(var e=t.currentPriceView,r=Object(c.e)(Math.sqrt(e)),o=t.current_liquity.toNumber(),h=t.tick_info_array,l=[],f=[],d={},i=0;i<h.length;i++)(d=h[i]).tick<r?l.unshift(d):f.push(d);for(var w=[],_=r,m=o,v=0;v<l.length;v++){var y=this.generateArray(l[v].tick,_,m,-800,800);w=[].concat(Object(n.a)(y),Object(n.a)(w)),_=l[v].tick,m-=l[v].liquity_net.toNumber()}for(var C=[],M=r,x=o,k=0;k<f.length;k++){var O=this.generateArray(M,f[k].tick,x,-800,800);C=[].concat(Object(n.a)(C),Object(n.a)(O)),M=f[k].tick,x+=f[k].liquity_net.toNumber()}var P=[];P=[].concat(Object(n.a)(w),Object(n.a)(C)),this.direction||(P=P.reverse()),this.currentChartData=P,this.drawChart(P)}},getUnilateralArray:function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=[],i=0;i<e.length;i++)t=0===i?r:"left"===n?r-e[i].liquity_net.toNumber():r+e[i].liquity_net.toNumber(),this.direction?o.push([e[i].tick,t]):o.unshift([e[i].tick,t]);return o},generateArray:function(t,e,r,n,o){for(var h=[],l=e>o?o:e,i=t<n?n:t;i<l;i+=10)this.direction?h.push([Math.pow(Object(c.f)(i),2),r]):h.push([1/Math.pow(Object(c.f)(i),2),r]);return h},drawChart:function(t){var option,e=this,r=document.getElementById("rangeChart");r&&(this.myChart=h.c(r),(option={legend:{left:0,right:0,top:0,bottom:0},grid:{left:0,right:0,top:0,bottom:30},xAxis:{type:"category",axisLabel:{showMinLabel:!1,padding:[3,10],formatter:function(t){return Object(l.d)(t,6)}}},yAxis:{show:!1,type:"value"},toolbox:{show:!1},brush:{toolbox:["lineX"],brushType:"lineX",xAxisIndex:"all",brushLink:"all",outOfBrush:{color:"#2C4A57"},brushStyle:{borderWidth:1,color:"rgba(95, 230, 208, 0.1)"}},dataZoom:[{type:"inside"}],series:[{data:t,type:"bar",itemStyle:{color:"#2C4A57"},barCategoryGap:"0%"}]})&&this.myChart.setOption(option),this.myChart.on("brushEnd",(function(r){var n=r.areas[0].coordRange,o=t[n[0]],h=t[n[1]];e.$emit("onChangeMinPrice",String(o[0])),e.$emit("onChangeMaxPrice",String(h[0]))})),setTimeout((function(){e.updateChartRange(e.minPrice,e.maxPrice)}),1500))}}}),d=f,w=(r(2539),r(102)),component=Object(w.a)(d,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"set-price-range"},[r("div",{staticClass:"title"},[t._v("Set Price Range")]),t._v(" "),r("div",{staticClass:"range-chart",attrs:{id:"rangeChart"}})])}],!1,null,null,null);e.default=component.exports}}]);