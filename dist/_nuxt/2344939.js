(window.webpackJsonp=window.webpackJsonp||[]).push([[35,23,25,29,31,36],{1176:function(t,e,n){var content=n(1201);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(51).default)("42feb4b2",content,!0,{sourceMap:!1})},1177:function(t,e,n){var content=n(1203);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(51).default)("1f87f313",content,!0,{sourceMap:!1})},1179:function(t,e,n){var content=n(1210);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(51).default)("4ad56dde",content,!0,{sourceMap:!1})},1180:function(t,e,n){var content=n(1212);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(51).default)("15e1582e",content,!0,{sourceMap:!1})},1200:function(t,e,n){"use strict";n(1176)},1201:function(t,e,n){var o=n(50)(!1);o.push([t.i,".waiting-container[data-v-73101c4d]{text-align:center}.waiting-container img[data-v-73101c4d]{width:56px;height:56px;margin-top:60px;margin-bottom:47px}.waiting-container .waiting-title[data-v-73101c4d]{font-size:14px;color:#fff;margin-bottom:20px}.waiting-container .waiting-text[data-v-73101c4d]{font-size:14px;color:hsla(0,0%,100%,.75)}",""]),t.exports=o},1202:function(t,e,n){"use strict";n(1177)},1203:function(t,e,n){var o=n(50)(!1);o.push([t.i,".waiting-container[data-v-42df0c8c]{text-align:center}.waiting-container img[data-v-42df0c8c]{width:64px;height:64px;margin-top:59px;margin-bottom:25px}.waiting-container .waiting-title[data-v-42df0c8c]{font-size:14px;color:#fff}.waiting-container .waiting-text[data-v-42df0c8c]{font-size:14px;color:#07ebad}",""]),t.exports=o},1204:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return F})),n.d(e,"c",(function(){return D}));n(109);var o=n(8),r=n(113),c=n(22),l=n(32),d=n(252),f=n(37),m=n(58),h=n(24),v=(n(33),n(214),n(126),n(59),n(27),n(84),n(10)),x=n.n(v),C=n(1),y=n(40),w=n.n(y),k=n(18),P=n(9),_=n(4),A=n(68),O=n(267),j=n(16),S=n(38),M=n(44),L=n(154),K=n(374),T=n(26);function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(h.a)(t);if(e){var r=Object(h.a)(this).constructor;Reflect.construct(o,arguments,r)}else o.apply(this,arguments);return Object(m.a)(this,n)}}var $=new _.Account([145,101,210,147,165,195,23,69,182,224,218,4,144,61,168,176,20,187,204,236,117,88,182,47,231,219,50,169,28,175,124,100,103,10,24,183,209,36,230,201,249,29,188,155,200,187,54,151,203,137,135,31,160,75,250,72,225,22,173,88,38,147,165,53]);Object(C.struct)([Object(P.u64)("status"),Object(P.u64)("nonce"),Object(P.u64)("orderNum"),Object(P.u64)("depth"),Object(P.u64)("coinDecimals"),Object(P.u64)("pcDecimals"),Object(P.u64)("state"),Object(P.u64)("resetFlag"),Object(P.u64)("minSize"),Object(P.u64)("volMaxCutRatio"),Object(P.u64)("amountWaveRatio"),Object(P.u64)("coinLotSize"),Object(P.u64)("pcLotSize"),Object(P.u64)("minPriceMultiplier"),Object(P.u64)("maxPriceMultiplier"),Object(P.u64)("systemDecimalsValue"),Object(P.u64)("minSeparateNumerator"),Object(P.u64)("minSeparateDenominator"),Object(P.u64)("tradeFeeNumerator"),Object(P.u64)("tradeFeeDenominator"),Object(P.u64)("pnlNumerator"),Object(P.u64)("pnlDenominator"),Object(P.u64)("swapFeeNumerator"),Object(P.u64)("swapFeeDenominator"),Object(P.u64)("needTakePnlCoin"),Object(P.u64)("needTakePnlPc"),Object(P.u64)("totalPnlPc"),Object(P.u64)("totalPnlCoin"),Object(P.u128)("poolTotalDepositPc"),Object(P.u128)("poolTotalDepositCoin"),Object(P.u128)("swapCoinInAmount"),Object(P.u128)("swapPcOutAmount"),Object(P.u64)("swapCoin2PcFee"),Object(P.u128)("swapPcInAmount"),Object(P.u128)("swapCoinOutAmount"),Object(P.u64)("swapPc2CoinFee"),Object(P.publicKey)("poolCoinTokenAccount"),Object(P.publicKey)("poolPcTokenAccount"),Object(P.publicKey)("coinMintAddress"),Object(P.publicKey)("pcMintAddress"),Object(P.publicKey)("lpMintAddress"),Object(P.publicKey)("ammOpenOrders"),Object(P.publicKey)("serumMarket"),Object(P.publicKey)("serumProgramId"),Object(P.publicKey)("ammTargetOrders"),Object(P.publicKey)("poolWithdrawQueue"),Object(P.publicKey)("poolTempLpTokenAccount"),Object(P.publicKey)("ammOwner"),Object(P.publicKey)("pnlOwner")]),w.a,C.struct([k.b("nft_token_id"),C.s32("lower_tick"),C.s32("upper_tick"),k.c("liquity"),k.c("fee_growth_inside_a_last"),k.c("fee_growth_inside_b_last"),k.c("token_a_fee"),k.c("token_b_fee")]);function I(t,e,n,o,r,c,l,d,f,m,h,v,x,C){return W.apply(this,arguments)}function W(){return(W=Object(o.a)(regeneratorRuntime.mark((function t(e,n,o,r,c,l,d,f,m,h,v,x,C,y){var w,k,P,O,N,$,I,W,F,E,B,data,D,z,H,U,V;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("addLiquidity###connection###",e),console.log("addLiquidity###wallet###",n),console.log("addLiquidity###poolInfo###",o),console.log("addLiquidity###nftMintToken###",r),console.log("addLiquidity###userNftPubkey###",c),console.log("addLiquidity###fromCoinAccount###",l),console.log("addLiquidity###toCoinAccount###",d),console.log("addLiquidity###fromCoin###",f),console.log("addLiquidity###toCoin###",m),console.log("addLiquidity###fromAmount###",h),console.log("addLiquidity###toAmount###",v),console.log("addLiquidity###tick_lower###",x),console.log("addLiquidity###tick_upper###",C),console.log("addLiquidity###liquityAmount###",y),e&&n){t.next=16;break}throw new Error("Miss connection");case 16:if(o&&f&&m){t.next=18;break}throw new Error("Miss pool infomations");case 18:if(l&&d&&o.tokenSwapAccount){t.next=20;break}throw new Error("Miss account infomations");case 20:if(c){t.next=22;break}throw new Error("Miss userNftPubkey");case 22:if(r){t.next=24;break}throw new Error("Miss nftMintToken");case 24:if(y){t.next=26;break}throw new Error("Miss liquityAmount");case 26:if(w=new _.Transaction,k=[],P=n.publicKey,O=[new _.PublicKey(l),new _.PublicKey(d)],N=[h,v],o.coin.mintAddress===m.mintAddress&&o.pc.mintAddress===f.mintAddress&&(O.reverse(),N.reverse()),$=O[0],I=O[1],N[0]&&(W=new M.a(N[0],o.coin.decimals,!1).wei.toNumber()),N[1]&&(F=new M.a(N[1],o.pc.decimals,!1).wei.toNumber()),o.coin.mintAddress!==A.b.mintAddress){t.next=40;break}return t.next=39,Object(S.d)(e,E,P,A.d.WSOL.mintAddress,W+1e7,w,k);case 39:E=t.sent;case 40:if(o.pc.mintAddress!==A.b.mintAddress){t.next=44;break}return t.next=43,Object(S.d)(e,B,P,A.d.WSOL.mintAddress,F+1e7,w,k);case 43:B=t.sent;case 44:return t.next=46,Object(L.a)(e,new _.PublicKey(o.tokenSwapAccount),T.f);case 46:return data=t.sent,D=j.e.decode(data),z=D.user_position_index,t.next=51,j.f.getUserPositionIdx(e,new _.PublicKey(o.userPositionKey),c,T.f,z);case 51:return H=t.sent,U=H.index,V=H.new_flag,w.add(R(new _.PublicKey(o.tokenSwapAccount),new _.PublicKey(o.authority),P,E||$,B||I,new _.PublicKey(o.poolCoinTokenAccount),new _.PublicKey(o.poolPcTokenAccount),r,c,new _.PublicKey(o.tickDetailKey),new _.PublicKey(o.userPositionKey),new _.PublicKey(o.tokenSwapToken),new _.PublicKey(o.programId),V,x,C,y,W?Math.ceil(W):0,F?Math.ceil(F):0,U)),E&&w.add(Object(K.closeAccount)({source:E,destination:P,owner:P})),B&&w.add(Object(K.closeAccount)({source:B,destination:P,owner:P})),t.next=59,Object(S.g)(e,n,w,k);case 59:return t.abrupt("return",t.sent);case 60:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(e,n,o,r,c,l,d,f,m,h,v,x,y,w,P,A,O,S,M,L){console.log("depositAllTokenTypesInstruction###tick_lower###",P),console.log("depositAllTokenTypesInstruction####tick_upper###",A),console.log("depositAllTokenTypesInstruction####maximumTokenA###",S),console.log("depositAllTokenTypesInstruction###maximumTokenB###",M);var K=C.struct([C.u8("instruction"),C.u8("new_position"),k.d("liquity_amount"),C.s32("tick_lower"),C.s32("tick_upper"),k.d("maximumTokenA"),k.d("maximumTokenB"),k.d("user_position_index")]),data=t.alloc(K.span);K.encode({instruction:2,new_position:w,liquity_amount:new j.b(String(O)).toBuffer(),tick_lower:P,tick_upper:A,maximumTokenA:new j.b(S).toBuffer(),maximumTokenB:new j.b(M).toBuffer(),user_position_index:new j.b(L).toBuffer()},data);var T=K.decode(data);console.log("test####",T);var N=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1}];return new _.TransactionInstruction({keys:N,programId:x,data:data})}function F(t,e,n,o,r){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(regeneratorRuntime.mark((function t(e,n,o,r,c){var l,d,f,m,h,v,data,x,C,y,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&n){t.next=2;break}throw new Error("Miss connection");case 2:if(r&&c&&o.tokenSwapAccount){t.next=4;break}throw new Error("Miss account infomations");case 4:return l=new _.Transaction,d=[],f=n.publicKey,m=[new _.PublicKey(r),new _.PublicKey(c)],h=m[0],v=m[1],t.next=12,Object(L.a)(e,new _.PublicKey(o.tokenSwapAccount),T.f);case 12:return data=t.sent,x=j.e.decode(data),C=x.user_position_index,t.next=17,j.f.getUserPositionIdx(e,new _.PublicKey(o.userPositionKey),o.nft_token_id,T.f,C);case 17:return y=t.sent,w=y.index,y.new_flag,l.add(B(new _.PublicKey(o.tokenSwapAccount),new _.PublicKey(o.authority),f,new _.PublicKey(o.poolCoinTokenAccount),new _.PublicKey(o.poolPcTokenAccount),h,v,o.nft_token_id,new _.PublicKey(o.tickDetailKey),new _.PublicKey(o.userPositionKey),new _.PublicKey(o.tokenSwapToken),new _.PublicKey(o.programId),w)),t.next=23,Object(S.g)(e,n,l,d);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function B(e,n,o,r,c,l,d,f,m,h,v,x,y){var w=C.struct([C.u8("instruction"),k.d("user_position_index")]),data=t.alloc(w.span);w.encode({instruction:4,user_position_index:new j.b(y).toBuffer()},data);var P=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!1}];return new _.TransactionInstruction({keys:P,programId:v,data:data})}function D(t,e,n,o,r,c,l,d,f,m,h,v){return z.apply(this,arguments)}function z(){return(z=Object(o.a)(regeneratorRuntime.mark((function t(e,n,o,r,c,l,d,f,m,h,v,x){var C,y,w,k,P,N,I,W,R,F,E,data,B,D,z,U,V;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("removeLiquidity###connection###",e),console.log("removeLiquidity###wallet###",n),console.log("removeLiquidity###poolInfo###",o),console.log("removeLiquidity###nftMintToken###",r),console.log("removeLiquidity###userNftPubkey###",c),console.log("removeLiquidity###fromCoinAccount###",l),console.log("removeLiquidity###toCoinAccount###",d),console.log("removeLiquidity###fromCoin###",f),console.log("removeLiquidity###toCoin###",m),console.log("removeLiquidity###fromAmount###",h),console.log("removeLiquidity###toAmount###",v),console.log("removeLiquidity###liquityAmount###",x),e&&n){t.next=14;break}throw new Error("Miss connection");case 14:if(o&&f&&m){t.next=16;break}throw new Error("Miss pool infomations");case 16:if(l&&d&&o.tokenSwapAccount){t.next=18;break}throw new Error("Miss account infomations");case 18:if(c){t.next=20;break}throw new Error("Miss userNftPubkey");case 20:if(r){t.next=22;break}throw new Error("Miss nftMintToken");case 22:if(x){t.next=24;break}throw new Error("Miss liquityAmount");case 24:if(C=new _.Transaction,y=[],w=n.publicKey,k=[new _.PublicKey(l),new _.PublicKey(d)],P=[h,v],o.coin.mintAddress===m.mintAddress&&o.pc.mintAddress===f.mintAddress&&(k.reverse(),P.reverse()),N=k[0],I=k[1],P[0]&&(W=new M.a(P[0],o.coin.decimals,!1).wei.toNumber()),P[1]&&(R=new M.a(P[1],o.pc.decimals,!1).wei.toNumber()),o.coin.mintAddress!==A.b.mintAddress){t.next=38;break}return t.next=37,Object(S.d)(e,F,w,A.d.WSOL.mintAddress,W+1e7,C,y);case 37:F=t.sent;case 38:if(o.pc.mintAddress!==A.b.mintAddress){t.next=42;break}return t.next=41,Object(S.d)(e,E,w,A.d.WSOL.mintAddress,R+1e7,C,y);case 41:E=t.sent;case 42:return t.next=44,Object(L.a)(e,new _.PublicKey(o.tokenSwapAccount),T.f);case 44:return data=t.sent,B=j.e.decode(data),D=B.user_position_index,t.next=49,j.f.getUserPositionIdx(e,new _.PublicKey(o.userPositionKey),c,T.f,D);case 49:return z=t.sent,U=z.index,z.new_flag,V=new O.b(e,r,O.a,$),C.add(H(new _.PublicKey(o.tokenSwapAccount),new _.PublicKey(o.authority),w,new _.PublicKey(o.poolCoinTokenAccount),new _.PublicKey(o.poolPcTokenAccount),F||N,E||I,V.publicKey,c,new _.PublicKey(o.tickDetailKey),new _.PublicKey(o.userPositionKey),new _.PublicKey(o.tokenSwapToken),new _.PublicKey(o.programId),Math.floor(x),W?Math.floor(W):0,R?Math.floor(R):0,U)),F&&C.add(Object(K.closeAccount)({source:F,destination:w,owner:w})),E&&C.add(Object(K.closeAccount)({source:E,destination:w,owner:w})),t.next=58,Object(S.g)(e,n,C,y);case 58:return t.abrupt("return",t.sent);case 59:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(e,n,o,r,c,l,d,f,m,h,v,x,y,w,P,A,O){var S=C.struct([C.u8("instruction"),k.d("liquity_amount"),k.d("minimumTokenA"),k.d("minimumTokenB"),k.d("user_position_index")]),data=t.alloc(S.span);S.encode({instruction:3,liquity_amount:new j.b(w).toBuffer(),minimumTokenA:new j.b(P).toBuffer(),minimumTokenB:new j.b(A).toBuffer(),user_position_index:new j.b(O).toBuffer()},data),console.log("nft_mint_pubkey##string####",f.toString()),console.log("user_nft_pubkey##string####",m.toString());var M=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1}];return new _.TransactionInstruction({keys:M,programId:x,data:data})}}).call(this,n(5).Buffer)},1205:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return r}));n(556),n(97),n(84),n(141);var o=RegExp("^\\d*(?:\\\\[.])?\\d*$");function r(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},1206:function(t,e,n){var content=n(1237);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(51).default)("a547ccca",content,!0,{sourceMap:!1})},1209:function(t,e,n){"use strict";n(1179)},1210:function(t,e,n){var o=n(50)(!1);o.push([t.i,".gradient-btn-large[data-v-10d90206]{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:none;color:#fff}.gradient-btn-large[data-v-10d90206]:hover{background:linear-gradient(214deg,#a4fff0,#8996ff 61%,#c9c0ff 76%,#f1c3ff)}.gradient-btn-large[data-v-10d90206]:disabled{cursor:not-allowed}.gradient-btn-large[data-v-10d90206]:disabled,.gradient-btn-large[data-v-10d90206]:disabled:hover{background:hsla(0,0%,100%,.1)}.set-price-range[data-v-10d90206]{margin-top:20px;position:relative}.set-price-range>h3[data-v-10d90206]{font-size:14px;color:#fff}.set-price-range .set-form-box[data-v-10d90206]{width:100%;display:flex;justify-content:space-between}.set-price-range .set-form-box .max-price[data-v-10d90206],.set-price-range .set-form-box>.min-price[data-v-10d90206]{width:50%;height:84px;background:hsla(0,0%,100%,.04);border-radius:10px;text-align:center;padding:0 20px;display:flex;flex-direction:column;justify-content:center}.set-price-range .set-form-box .max-price[data-v-10d90206]:first-child,.set-price-range .set-form-box>.min-price[data-v-10d90206]:first-child{margin-right:10px}.set-price-range .set-form-box .max-price>div[data-v-10d90206],.set-price-range .set-form-box>.min-price>div[data-v-10d90206]{display:flex;align-items:center;justify-content:center}.set-price-range .set-form-box .max-price>div .icon[data-v-10d90206],.set-price-range .set-form-box>.min-price>div .icon[data-v-10d90206]{width:16px;height:16px}.set-price-range .set-form-box .max-price>p[data-v-10d90206],.set-price-range .set-form-box>.min-price>p[data-v-10d90206]{font-size:12px;color:hsla(0,0%,100%,.8);margin:0}.set-price-range .set-form-box .max-price input[data-v-10d90206],.set-price-range .set-form-box>.min-price input[data-v-10d90206]{width:150px;color:#fff;font-size:14px;border:none;outline:none;margin:8px 0;background:none;text-align:center;padding:0 10px}.set-price-range .set-form-box .max-price .focus-input[data-v-10d90206]::-webkit-input-placeholder,.set-price-range .set-form-box>.min-price .focus-input[data-v-10d90206]::-webkit-input-placeholder{color:#fff}.set-price-range .full-range-hint[data-v-10d90206]{position:absolute;top:0;left:0;background:rgba(50,50,50,.88);border-radius:10px;padding:20px}.set-price-range .full-range-hint .full-range-hint-title[data-v-10d90206]{font-weight:700;color:#fb0;font-size:14px}.set-price-range .full-range-hint .full-range-hint-title img[data-v-10d90206]{margin-right:11px}.set-price-range .full-range-hint .full-range-hint-text[data-v-10d90206]{margin-top:14px;color:#fb0;font-size:14px}.set-price-range .full-range-hint .full-range-hint-btn-box[data-v-10d90206]{text-align:center}.set-price-range .full-range-hint .full-range-hint-btn-box .full-range-hint-btn[data-v-10d90206]{margin:15px auto 0;width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:none;width:120px;height:32px;color:#fff;font-size:12px;border-radius:8px}.set-price-range .full-range-hint .full-range-hint-btn-box .full-range-hint-btn[data-v-10d90206]:hover{background:linear-gradient(214deg,#a4fff0,#8996ff 61%,#c9c0ff 76%,#f1c3ff)}.set-price-range .full-range-hint .full-range-hint-btn-box .full-range-hint-btn[data-v-10d90206]:disabled{background:hsla(0,0%,100%,.1);cursor:not-allowed}.set-price-range .full-range-hint .full-range-hint-btn-box .full-range-hint-btn[data-v-10d90206]:disabled:hover{background:hsla(0,0%,100%,.1)}.set-price-range .full-range[data-v-10d90206]{width:452px;height:40px;background:hsla(0,0%,100%,.05);border-radius:10px;font-size:14px;color:#fff;margin-top:10px}@media screen and (max-width:750px){.set-price-range .full-range[data-v-10d90206]{width:100%}.set-price-range .set-form-box .max-price[data-v-10d90206],.set-price-range .set-form-box .min-price[data-v-10d90206]{width:50%}.set-price-range .set-form-box .max-price input[data-v-10d90206],.set-price-range .set-form-box .min-price input[data-v-10d90206]{width:100%}}",""]),t.exports=o},1211:function(t,e,n){"use strict";n(1180)},1212:function(t,e,n){var o=n(50)(!1);o.push([t.i,".price-range-hint[data-v-18df2919]{margin-top:10px;padding:20px;background:hsla(0,0%,100%,.03);border-radius:10px;border:1px solid hsla(0,0%,100%,.1);font-size:14px;font-family:ArialMT;color:#fa3131;display:flex}.price-range-hint img[data-v-18df2919]{margin-right:10px}",""]),t.exports=o},1223:function(t,e,n){"use strict";n.r(e);n(369);var o=n(181),r=n.n(o),c=n(12);c.default.use(r.a);var l=c.default.extend({components:{Modal:r.a}}),d=(n(1200),n(55)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Modal",{attrs:{title:"",centered:"",visible:!0,footer:null,"dialog-style":{top:"30%"}},on:{cancel:function(e){return t.$emit("onClose")}}},[o("div",{staticClass:"waiting-container"},[o("img",{attrs:{src:n(564),alt:""}}),t._v(" "),o("p",{staticClass:"waiting-title"},[t._v("Waiting For Confirmation")]),t._v(" "),o("p",{staticClass:"waiting-title"},[t._v("Supplying 0.0240357 CSV and 26.4235 USDT")]),t._v(" "),o("p",{staticClass:"waiting-text"},[t._v("Confirm this transaction in your wallet")])])])}),[],!1,null,"73101c4d",null);e.default=component.exports},1224:function(t,e,n){"use strict";n.r(e);n(369);var o=n(181),r=n.n(o),c=n(12);c.default.use(r.a);var l=c.default.extend({components:{Modal:r.a}}),d=(n(1202),n(55)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Modal",{attrs:{title:"",centered:"",visible:!0,footer:null,"dialog-style":{top:"30%"}},on:{cancel:function(e){return t.$emit("onClose")}}},[o("div",{staticClass:"waiting-container"},[o("img",{attrs:{src:n(562),alt:""}}),t._v(" "),o("p",{staticClass:"waiting-title"},[t._v("Transaction Submitted")])])])}),[],!1,null,"42df0c8c",null);e.default=component.exports},1225:function(t,e,n){"use strict";n.r(e);var o=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"full-range-hint-title"},[o("img",{attrs:{src:n(566),alt:""}}),t._v("\n      Lower Efficiency\n    ")])}],r=(n(212),n(137)),c=n.n(r),l=(n(544),n(12)),d=n(96),f=n(265);l.default.use(c.a);var m=l.default.extend({components:{Button:c.a},props:["fromCoin","toCoin","currentPrice","direction"],data:function(){return{minPrice:"0",maxPrice:"∞",isFullRange:!1,isShowFullRangeHint:!1,step:0}},watch:{currentPrice:{handler:"watchCurrentPrice",immediate:!0},minPrice:function(t){this.$emit("onChangeMin",t)},maxPrice:function(t){this.$emit("onChangeMax",t)},direction:function(t){if(console.log("SetPriceRange###directiong##value###",t),"∞"===this.maxPrice)this.onChangeMax("∞"),this.onChangeMin("0");else{var e=Number(this.minPrice),n=Number(this.maxPrice);this.onChangeMin(String(1/n)),this.onChangeMax(String(1/e))}var o=1/this.currentPrice;this.step=o/100},fromCoin:{handler:"watchFromCoin",immediate:!0},toCoin:{handler:"watchToCoin",immediate:!0}},methods:{watchFromCoin:function(t){t||(this.onChangeMin("0"),this.onChangeMax("0"),this.minPrice="0",this.maxPrice="0")},watchToCoin:function(t){t||(this.onChangeMin("0"),this.onChangeMax("0"),this.minPrice="0",this.maxPrice="0")},addMinPrice:function(){var t=Object(f.h)(Number(this.minPrice)),e=Object(f.i)(t+6);this.onChangeMin(String(e))},minusMinPrice:function(){var t=Object(f.h)(Number(this.minPrice)),e=Object(f.i)(t-6);this.onChangeMin(String(e))},addMaxPrice:function(){var t=Object(f.h)(Number(this.maxPrice)),e=Object(f.i)(t+6);this.onChangeMax(String(e))},minusMaxPrice:function(){var t=Object(f.h)(Number(this.maxPrice)),e=Object(f.i)(t-6);this.onChangeMax(String(e))},watchCurrentPrice:function(t){if(t){var e=Math.pow(t/Math.pow(10,12),2);this.step=Number(e)/100;var n=String(e-.01*e),o=String(e+.01*e);this.onChangeMin(n),this.onChangeMax(o),this.minPrice=n,this.maxPrice=o}},fullRange:function(){Object(d.b)(Math.pow(this.currentPrice/Math.pow(10,12),2),12);this.isFullRange=!0,this.isShowFullRangeHint=!this.isShowFullRangeHint,this.minPrice="0",this.maxPrice="∞",this.$emit("onChangeMin","0"),this.$emit("onChangeMax","∞")},onChangeMin:function(t){if("0"!==t){var e=Object(f.h)(Number(t)),n=Object(f.i)(e);this.minPrice=String(Object(d.a)(String(n),6))}else this.minPrice="0"},onChangeMax:function(t){if("∞"!==t){var e=Object(f.h)(Number(t)),n=Object(f.i)(e);this.maxPrice=String(Object(d.a)(String(n),6))}else this.maxPrice="∞"}}}),h=(n(1209),n(55)),component=Object(h.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"set-price-range"},[n("h3",[t._v("Set Price Range")]),t._v(" "),n("div",{staticClass:"set-form-box"},[n("div",{staticClass:"min-price"},[n("p",[t._v("Min Price")]),t._v(" "),n("div",[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:t.minusMinPrice}},[n("use",{attrs:{"xlink:href":"#icon-icon-Reduction"}})]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.minPrice,expression:"minPrice"}],class:t.isFullRange?"focus-input":"",attrs:{type:"number",placeholder:t.minPrice,autocomplete:"off",autocorrect:"off",pattern:"^[0-9]*[.,∞]?[0-9]*$",minlength:"1",maxlength:"79",spellcheck:"false"},domProps:{value:t.minPrice},on:{blur:function(e){return t.onChangeMin(e.target.value)},input:function(e){e.target.composing||(t.minPrice=e.target.value)}}}),t._v(" "),n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:t.addMinPrice}},[n("use",{attrs:{"xlink:href":"#icon-a-icon-AddCustomMarket"}})])]),t._v(" "),n("p",[t._v(t._s(t.toCoin&&t.toCoin.symbol)+" per "+t._s(t.fromCoin&&t.fromCoin.symbol))])]),t._v(" "),n("div",{staticClass:"max-price"},[n("p",[t._v("Max Price")]),t._v(" "),n("div",[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:t.minusMaxPrice}},[n("use",{attrs:{"xlink:href":"#icon-icon-Reduction"}})]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.maxPrice,expression:"maxPrice"}],class:t.isFullRange?"focus-input":"",attrs:{type:"number",placeholder:t.maxPrice,autocomplete:"off",autocorrect:"off",pattern:"^[0-9]*[.,∞]?[0-9]*$",minlength:"1",maxlength:"79",spellcheck:"false"},domProps:{value:t.maxPrice},on:{blur:function(e){return t.onChangeMax(e.target.value)},input:function(e){e.target.composing||(t.maxPrice=e.target.value)}}}),t._v(" "),n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:t.addMaxPrice}},[n("use",{attrs:{"xlink:href":"#icon-a-icon-AddCustomMarket"}})])]),t._v(" "),n("p",[t._v(t._s(t.toCoin&&t.toCoin.symbol)+" per "+t._s(t.fromCoin&&t.fromCoin.symbol))])])]),t._v(" "),t.isShowFullRangeHint?n("div",{staticClass:"full-range-hint"},[t._m(0),t._v(" "),n("div",{staticClass:"full-range-hint-text"},[t._v("\n      Please note that full range positions may earn less fees than concentrated liquidity.\n    ")]),t._v(" "),n("div",{staticClass:"full-range-hint-btn-box"},[n("Button",{staticClass:"full-range-hint-btn",on:{click:function(e){t.isShowFullRangeHint=!t.isShowFullRangeHint}}},[t._v("I understand")])],1)]):t._e(),t._v(" "),n("button",{staticClass:"full-range",on:{click:t.fullRange}},[t._v("Full Range")])])}),o,!1,null,"10d90206",null);e.default=component.exports},1226:function(t,e,n){"use strict";n.r(e);var o=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"price-range-hint"},[o("img",{attrs:{src:n(565),alt:""}}),t._v("\n  The range you specified is invalid. The max price must be higher than the min price.\n")])}],r=n(12).default.extend({}),c=(n(1211),n(55)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),o,!1,null,"18df2919",null);e.default=component.exports},1236:function(t,e,n){"use strict";n(1206)},1237:function(t,e,n){var o=n(50),r=n(372),c=n(561),l=o(!1),d=r(c);l.push([t.i,".gradient-btn-large[data-v-67752d56]{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:none;color:#fff}.gradient-btn-large[data-v-67752d56]:hover{background:linear-gradient(214deg,#a4fff0,#8996ff 61%,#c9c0ff 76%,#f1c3ff)}.gradient-btn-large[data-v-67752d56]:disabled{cursor:not-allowed}.gradient-btn-large[data-v-67752d56]:disabled,.gradient-btn-large[data-v-67752d56]:disabled:hover{background:hsla(0,0%,100%,.1)}.pool-container[data-v-67752d56]{width:492px;background:hsla(0,0%,100%,.06);border-radius:30px}.pool-container .form-block .add-icon[data-v-67752d56]{display:flex;align-items:center;justify-content:center;padding-top:20px}.pool-container .form-block .add-icon a[data-v-67752d56]{display:block;width:40px;height:40px;background-position:50%;background-repeat:no-repeat;background-size:100% 100%;background-image:url("+d+")}.pool-container .coin-rate[data-v-67752d56]{display:flex;justify-content:space-between;align-items:center;line-height:1;margin-bottom:20px}.pool-container .coin-rate .coin-text[data-v-67752d56]{font-weight:700;color:#fff;font-size:16px;background:linear-gradient(90deg,#59bdad,#6676f5,#9a89f9,#eba7ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.pool-container .coin-rate .tab-coin[data-v-67752d56]{display:flex;align-items:center;padding:3px;height:26px;border-radius:4px;background:hsla(0,0%,100%,.1)}.pool-container .coin-rate .tab-coin div[data-v-67752d56]{height:20px;padding:4px 10px;cursor:pointer}.pool-container .coin-rate .tab-coin div.active[data-v-67752d56]{padding:4px 12px;height:20px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:4px;cursor:pointer}.pool-container .add-liquidity-btn[data-v-67752d56]{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:none;color:#fff;margin-top:20px}.pool-container .add-liquidity-btn[data-v-67752d56]:hover{background:linear-gradient(214deg,#a4fff0,#8996ff 61%,#c9c0ff 76%,#f1c3ff)}.pool-container .add-liquidity-btn[data-v-67752d56]:disabled{background:hsla(0,0%,100%,.1);cursor:not-allowed}.pool-container .add-liquidity-btn[data-v-67752d56]:disabled:hover{background:hsla(0,0%,100%,.1)}.pool-container .link-block[data-v-67752d56]{display:flex;align-items:center;justify-content:center;margin-top:20px}.pool-container .link-block>a[data-v-67752d56]{font-size:14px;color:#fff;display:flex;align-items:center;justify-content:center}.pool-container .link-block>a svg[data-v-67752d56]{width:20px;height:20px;fill:#fff}.pool-container-hint[data-v-67752d56]{width:492px;padding:20px;background:hsla(0,0%,100%,.03);border-radius:30px;margin:auto auto 10px;font-size:12px;color:hsla(0,0%,100%,.6);display:flex;align-items:center}.pool-container-hint img[data-v-67752d56]{width:20px;height:20px;margin-right:10px}@media screen and (max-width:750px){.pool-container[data-v-67752d56]{width:343px}.pool-container-hint[data-v-67752d56]{width:343px;margin-top:10px}}",""]),t.exports=l},1264:function(t,e,n){"use strict";n.r(e);n(66),n(52),n(65),n(72),n(56),n(83);var o=n(8),r=n(36),c=(n(212),n(137)),l=n.n(c),d=(n(33),n(268),n(569),n(1182),n(544),n(27),n(84),n(85),n(553),n(104)),f=n(86),m=n(1223),h=n(1224),v=n(96),x=n(1310),C=n(68),y=n(1204),w=n(1205),k=n(267),P=n(4),_=n(26),A=n(265),O=n(44),j=n(16),S=n(154);function M(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function L(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var K=Object(C.f)("CUSDC"),T=Object(C.f)("CUSDT"),N=d.Vue.extend({components:{WaitingHint:m.default,SuccessHint:h.default,Button:l.a},data:function(){return{showAddLiquidity:!0,tokenList:[],fromCoin:K,toCoin:T,showSetting:!1,showWaitingHint:!1,showSuccessHint:!1,currentCoinKey:"fromCoin",toCoinRate:0,showCoinSelect:!1,fixedFromCoin:!0,fromCoinAmount:"",toCoinAmount:"",direction:!0,suppling:!1,minPrice:"0",maxPrice:"∞",showFromCoinLock:!1,showToCoinLock:!1,deltaLiquity:0,showAddLiquiditySecondConfirm:!1,secondConfirmData:{},displayCurrentprice:0,existingCoins:""}},computed:L(L({},Object(f.e)(["wallet","farm","url","liquidity"])),{},{poolInfo:function(){var t=this;return Object.values(this.$accessor.liquidity.infos).find((function(p){var e,n,o,r;return p.coin.symbol===(null===(e=t.fromCoin)||void 0===e?void 0:e.symbol)&&p.pc.symbol===(null===(n=t.toCoin)||void 0===n?void 0:n.symbol)||p.coin.symbol===(null===(o=t.toCoin)||void 0===o?void 0:o.symbol)&&p.pc.symbol===(null===(r=t.fromCoin)||void 0===r?void 0:r.symbol)}))},insufficientBalance:function(){var t=this.$data.fromCoin&&this.$data.fromCoin.balance&&this.$data.fromCoin.balance.fixed()||"",e=this.$data.toCoin&&this.$data.toCoin.balance&&this.$data.toCoin.balance.fixed()||"",n=Object(O.b)(this.$data.fromCoinAmount,t),o=Object(O.b)(this.$data.toCoinAmount,e),r=this.showFromCoinLock,c=this.showToCoinLock;return!(r&&!c&&!o)&&(!(c&&!r&&!n)&&!!(r||c||n||o))},noEnterAmount:function(){var t=Number(this.fromCoinAmount),e=Number(this.toCoinAmount),n=this.showFromCoinLock,o=this.showToCoinLock;return!(!n||o||e)||(!(!o||n||t)||!(n||o||t&&e))},isDisabled:function(){var t=Object(O.b)(this.$data.toCoinAmount,this.$data.toCoin&&this.$data.toCoin.balance&&this.$data.toCoin.balance.fixed()),e=Object(O.b)(this.$data.fromCoinAmount,this.$data.fromCoin&&this.$data.fromCoin.balance&&this.$data.fromCoin.balance.fixed());return this.$data.showFromCoinLock&&this.$data.toCoinAmount&&this.$data.toCoin?t||!1:this.$data.showToCoinLock&&this.$data.fromCoinAmount&&this.$data.fromCoin?e||!1:!this.$data.toCoinAmount||!this.$data.fromCoinAmount||e},invalidPriceRange:function(){return Number(this.minPrice)>Number(this.maxPrice)}}),watch:{"wallet.tokenAccounts":{handler:function(t,e){this.updateCoinInfo(t)},deep:!0},poolInfo:{handler:function(t){var e,n;t?(t.coin.symbol===(null===(e=this.fromCoin)||void 0===e?void 0:e.symbol)&&t.pc.symbol===(null===(n=this.toCoin)||void 0===n?void 0:n.symbol)?this.direction=!0:this.direction=!1,this.updateAmounts(t.currentPrice,this.minPrice,this.maxPrice),this.setDisplayCurrentprice(t.currentPrice)):this.fixedFromCoin?this.toCoin=null:this.fromCoin=null},deep:!0},fromCoinAmount:function(t,e){var n=this;this.$nextTick((function(){w.b.test(Object(w.a)(t))?n.fixedFromCoin&&n.poolInfo&&n.updateAmounts(n.poolInfo.currentPrice,n.minPrice,n.maxPrice):n.fromCoinAmount=e}))},toCoinAmount:function(t,e){var n=this;this.$nextTick((function(){w.b.test(Object(w.a)(t))?!n.fixedFromCoin&&n.poolInfo&&n.updateAmounts(n.poolInfo.currentPrice,n.minPrice,n.maxPrice):n.toCoinAmount=e}))},minPrice:function(t){(Number(t)||Number(this.maxPrice))&&this.poolInfo&&this.updateAmounts(this.poolInfo.currentPrice,t,this.maxPrice)},maxPrice:function(t){(Number(t)||Number(this.minPrice))&&this.poolInfo&&this.updateAmounts(this.poolInfo.currentPrice,this.minPrice,t)}},mounted:function(){this.updateCoinInfo(this.wallet.tokenAccounts)},methods:{gt:O.b,fixD:v.b,setDisplayCurrentprice:function(t){var e=Number(Math.pow(Number(t)/Math.pow(10,12),2));this.displayCurrentprice=e},openAddLiquiditySecondConfirm:function(){var t=Number(Math.pow(Number(this.poolInfo.currentPrice)/Math.pow(10,12),2));console.log("openAddLiquiditySecondConfirm###this.poolInfo###",this.poolInfo);var e="Active";this.deltaLiquity?t>=Number(this.minPrice)&&t<=Number(this.maxPrice)?e="Active":(t>Number(this.maxPrice)||t<Number(this.minPrice))&&(e="InActive"):e="Closed",this.secondConfirmData={fromCoin:this.fromCoin,toCoin:this.toCoin,fromCoinAmount:this.fromCoinAmount,toCoinAmount:this.toCoinAmount,currentPrice:t,minPrice:this.minPrice,maxPrice:this.maxPrice,showFromCoinLock:this.showFromCoinLock,showToCoinLock:this.showToCoinLock,currentStatus:e,feeTier:this.poolInfo.fee+"%"},this.showAddLiquiditySecondConfirm=!0},closeAddLiquiditySecondConfirm:function(){this.secondConfirmData={},this.showAddLiquiditySecondConfirm=!1},priceRangeChangeMin:function(t){this.minPrice=t},priceRangeChangeMax:function(t){this.maxPrice=t},updateCoinInfo:function(t){if(this.fromCoin){var e=t[this.fromCoin.mintAddress];e&&(this.fromCoin=L(L({},this.fromCoin),e))}if(this.toCoin){var n=t[this.toCoin.mintAddress];n&&(this.toCoin=L(L({},this.toCoin),n))}},updateAmounts:function(t,e,n){Number(t),Math.pow(10,12);var o,r,c,l,d,f,m,h,x,C,y,w=Number(Math.pow(Number(t)/Math.pow(10,12),2)),k=0,P=0;if("0"===e&&"∞"===n?(C=-552648,y=552648):(this.direction?(k=Number(e),P=Number(n)):(k=1/Number(n),P=1/Number(e)),console.log("pool.vue####minPrice####",k),console.log("pool.vue####maxPrice####",P),C=Object(A.h)(Math.sqrt(k)),y=Object(A.h)(Math.sqrt(P))),"∞"!==n&&P<=k)return this.showFromCoinLock=!0,this.fromCoinAmount="",this.showToCoinLock=!0,void(this.toCoinAmount="");if(w>=k&&w<=P||"∞"===n){var _,S;this.fixedFromCoin?(_=new O.a(this.fromCoinAmount,null===(o=this.fromCoin)||void 0===o?void 0:o.decimals,!1).wei.toNumber(),S=(null===(r=this.fromCoin)||void 0===r?void 0:r.symbol)===this.poolInfo.coin.symbol&&(null===(c=this.toCoin)||void 0===c?void 0:c.symbol)===this.poolInfo.pc.symbol?0:1):(_=new O.a(this.toCoinAmount,null===(l=this.toCoin)||void 0===l?void 0:l.decimals,!1).wei.toNumber(),S=(null===(d=this.toCoin)||void 0===d?void 0:d.symbol)===this.poolInfo.coin.symbol&&(null===(f=this.fromCoin)||void 0===f?void 0:f.symbol)===this.poolInfo.pc.symbol?0:1);var M=Object(A.d)(C,y,_,new j.a(t),S),L=M.dst,K=M.delta_liquity;this.showFromCoinLock=!1,this.showToCoinLock=!1;var T=(null===(m=this.toCoin)||void 0===m?void 0:m.decimals)||6;this.fixedFromCoin?this.toCoinAmount=Object(v.b)(Math.abs(L)/Math.pow(10,T),T)||"0":this.fromCoinAmount=Object(v.b)(Math.abs(L)/Math.pow(10,T),T)||"0",this.deltaLiquity=K}else if(w>P){var N=new O.a(this.toCoinAmount,null===(h=this.toCoin)||void 0===h?void 0:h.decimals,!1).wei.toNumber(),$=Object(A.c)(C,y,N);this.showFromCoinLock=!0,this.fromCoinAmount="",this.showToCoinLock=!1,this.deltaLiquity=$}else if(w<k){var I=new O.a(this.fromCoinAmount,null===(x=this.fromCoin)||void 0===x?void 0:x.decimals,!1).wei.toNumber(),W=Object(A.b)(C,y,I);this.showFromCoinLock=!1,this.showToCoinLock=!0,this.toCoinAmount="",this.deltaLiquity=W}},openCoinSelect:function(t){var e,n;this.currentCoinKey=t,this.existingCoins="fromCoin"===t?(null===(e=this.toCoin)||void 0===e?void 0:e.symbol)||"":(null===(n=this.fromCoin)||void 0===n?void 0:n.symbol)||"",this.showCoinSelect=!0},onCoinSelect:function(t){"fromCoin"===this.currentCoinKey?this.fromCoin=t:this.toCoin=t,this.showCoinSelect=!1},maxBtnSelect:function(t){var e,n;"fromCoin"===t?(this.fixedFromCoin=!0,this.fromCoinAmount=this.fromCoin&&this.fromCoin.balance?"SOL"!==this.fromCoin.symbol?this.fromCoin.balance.fixed():String(Number(this.fromCoin.balance.fixed())-.05):"0"):(this.fixedFromCoin=!1,this.toCoinAmount=(null===(n=null===(e=this.toCoin)||void 0===e?void 0:e.balance)||void 0===n?void 0:n.fixed())||"")},changeCoinPosition:function(){this.direction=!this.direction;var t=this.fromCoin,e=this.toCoin;this.fromCoin=e,this.toCoin=t;var n=this.fromCoinAmount,o=this.toCoinAmount;this.fromCoinAmount=o,this.toCoinAmount=n},findMyNfts:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,data,r,c,l,d,i,f,m,h,v;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=[],n.next=3,Object(S.a)(e.$web3,new P.PublicKey(e.poolInfo.tokenSwapAccount),_.f);case 3:return data=n.sent,r=j.e.decode(data),c=r.user_position_index,8,j.a.fromBuffer(r.current_price).toNumber()/Math.pow(10,8),n.next=10,j.f.loadUserPosition(e.$web3,new P.PublicKey(e.poolInfo.userPositionKey),_.f,c);case 10:for(l=n.sent,d={},i=0;i<c;i++)f=l[i],d[f.nft_token_id.toString()]=f;for(m in t)h=t[m].tokenAccountAddress,d[h]&&(v=d[h],o.push(L({nftMint:new P.PublicKey(m)},v)));return n.abrupt("return",o);case 15:case"end":return n.stop()}}),n)})))()},supply:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,c,l,d,f,m,h,C,w,i,O,j,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findMyNfts(t.wallet.tokenAccounts);case 2:if(n=e.sent,t.suppling=!0,o=t.$web3,r=t.$wallet,c=Object.values(t.$accessor.liquidity.infos).find((function(p){var e,n,o,r;return p.coin.symbol===(null===(e=t.fromCoin)||void 0===e?void 0:e.symbol)&&p.pc.symbol===(null===(n=t.toCoin)||void 0===n?void 0:n.symbol)||p.coin.symbol===(null===(o=t.toCoin)||void 0===o?void 0:o.symbol)&&p.pc.symbol===(null===(r=t.fromCoin)||void 0===r?void 0:r.symbol)})),l=Object(x.a)(t.wallet.tokenAccounts,"".concat(t.fromCoin.mintAddress,".tokenAccountAddress")),d=Object(x.a)(t.wallet.tokenAccounts,"".concat(t.toCoin.mintAddress,".tokenAccountAddress")),f=Object(v.c)().toString(),t.$notify.info({key:f,message:"Making transaction...",description:"",duration:0,icon:t.$createElement("img",{class:{"notify-icon":!0},attrs:{src:"/tanhao@2x.png"}})}),"0"===t.minPrice&&"∞"===t.maxPrice?(m=-552648,h=552648):t.direction?(m=Object(A.h)(Math.sqrt(Number(t.minPrice))),h=Object(A.h)(Math.sqrt(Number(t.maxPrice)))):(m=Object(A.h)(Math.sqrt(1/Number(t.maxPrice))),h=Object(A.h)(Math.sqrt(1/Number(t.minPrice)))),!(n.length>0)){e.next=22;break}i=0;case 14:if(!(i<n.length)){e.next=22;break}if(n[i].lower_tick!==m||n[i].upper_tick!==h||n[i].liquity!==Number(Object(v.b)(t.deltaLiquity,0))){e.next=19;break}return C=n[i].nftMint,w=n[i].nft_token_id,e.abrupt("break",22);case 19:i++,e.next=14;break;case 22:if(C||w){e.next=30;break}return e.next=25,k.b.createMint(o,_.b,new P.PublicKey(c.authority),null,0,k.a);case 25:return O=e.sent,C=O.publicKey,e.next=29,O.createAccount(r.publicKey);case 29:w=e.sent;case 30:t.fromCoinAmount&&(j=Number(t.fromCoinAmount)*(1+Number(t.$accessor.slippage)/100)),t.toCoinAmount&&(S=Number(t.toCoinAmount)*(1+Number(t.$accessor.slippage)/100)),console.log("supply考虑滑点后####fromCoinAmount####",j),console.log("supply考虑滑点后####toCoinAmount####",S),console.log("tick_lower",m),console.log("tick_upper",h),console.log("pool.vue###this.deltaLiquity####",t.deltaLiquity),Object(y.a)(o,r,c,C,w,l,d,t.fromCoin,t.toCoin,j,S,m,h,t.deltaLiquity).then((function(e){var n,o;t.$notify.info({key:f,message:"Transaction has been sent",icon:t.$createElement("img",{class:{"notify-icon":!0},attrs:{src:"/tanhao@2x.png"}}),description:function(n){return n("div",["Confirmation is in progress.  Check your transaction on ",n("a",{attrs:{href:"".concat(t.url.explorer,"/tx/").concat(e),target:"_blank"}},"here")])}});var r="Add liquidity for ".concat(t.fromCoinAmount," ").concat(null===(n=t.fromCoin)||void 0===n?void 0:n.symbol," and ").concat(t.toCoinAmount," ").concat(null===(o=t.toCoin)||void 0===o?void 0:o.symbol);t.$accessor.transaction.sub({txid:e,description:r})})).catch((function(e){t.$notify.error({key:f,message:"Add liquidity failed",description:e.message,class:"error",icon:t.$createElement("img",{class:{"notify-icon":!0},attrs:{src:"/icon_Error@2x.png"}})})})).finally((function(){t.suppling=!1,t.fromCoinAmount="",t.toCoinAmount=""}));case 38:case"end":return e.stop()}}),e)})))()}}}),$=(n(1236),n(55)),component=Object($.a)(N,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pool-container-box"},[n("div",{staticClass:"container pool-container"},[n("div",{staticClass:"c-title"},[n("span",[t._v("Concentrated Liquidity")]),t._v(" "),n("div",{staticClass:"buttons"},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(e){t.showSetting=!0}}},[n("use",{attrs:{"xlink:href":"#icon-a-bianzu81"}})])])]),t._v(" "),n("div",{staticClass:"coin-rate"},[t.fromCoin&&t.toCoin?n("div",{staticClass:"coin-text"},[t.direction?n("div",[t._v("\n          1 "+t._s(t.fromCoin.symbol)+" ≈ "+t._s(t.fixD(t.displayCurrentprice,t.toCoin.decimals))+" "+t._s(t.toCoin.symbol)+"\n        ")]):n("div",[t._v("\n          1 "+t._s(t.fromCoin.symbol)+" ≈ "+t._s(t.fixD(1/t.displayCurrentprice,t.fromCoin.decimals))+" "+t._s(t.toCoin.symbol)+"\n        ")])]):t._e(),t._v(" "),t.fromCoin&&t.toCoin?n("div",{staticClass:"tab-coin"},[n("div",{class:t.direction?"active":"",on:{click:t.changeCoinPosition}},[t._v("\n          "+t._s(t.direction?t.fromCoin.symbol:t.toCoin.symbol)+"\n        ")]),t._v(" "),n("div",{class:t.direction?"":"active",on:{click:t.changeCoinPosition}},[t._v("\n          "+t._s(t.direction?t.toCoin.symbol:t.fromCoin.symbol)+"\n        ")])]):t._e()]),t._v(" "),n("div",{staticClass:"form-block"},[n("CoinBlock",{attrs:{"coin-name":t.fromCoin?t.fromCoin.symbol:"",balance:t.fromCoin?t.fromCoin.balance:null,"show-lock":t.showFromCoinLock},on:{onInput:function(e){return t.fromCoinAmount=e},onFocus:function(){t.fixedFromCoin=!0},onSelect:function(e){return t.openCoinSelect("fromCoin")},onMax:function(e){return t.maxBtnSelect("fromCoin")}},model:{value:t.fromCoinAmount,callback:function(e){t.fromCoinAmount=e},expression:"fromCoinAmount"}}),t._v(" "),t._m(0),t._v(" "),n("CoinBlock",{attrs:{"coin-name":t.toCoin?t.toCoin.symbol:"",balance:t.toCoin?t.toCoin.balance:null,"show-lock":t.showToCoinLock},on:{onInput:function(e){return t.toCoinAmount=e},onFocus:function(){t.fixedFromCoin=!1},onSelect:function(e){return t.openCoinSelect("toCoin")},onMax:function(e){return t.maxBtnSelect("toCoin")}},model:{value:t.toCoinAmount,callback:function(e){t.toCoinAmount=e},expression:"toCoinAmount"}})],1),t._v(" "),n("SetPriceRange",{attrs:{"from-coin":t.fromCoin,"to-coin":t.toCoin,"current-price":t.poolInfo&&t.poolInfo.currentPrice||0,direction:t.direction},on:{onChangeMin:t.priceRangeChangeMin,onChangeMax:t.priceRangeChangeMax}}),t._v(" "),t.invalidPriceRange?n("PriceRangeHint"):t._e(),t._v(" "),t.wallet.connected?n("Button",{staticClass:"add-liquidity-btn",attrs:{disabled:t.suppling||t.isDisabled||t.noEnterAmount||t.invalidPriceRange,loading:t.suppling},on:{click:t.openAddLiquiditySecondConfirm}},[t._v("\n      "+t._s(t.noEnterAmount?"Enter an amount":t.insufficientBalance?"Insufficient balance":"Add Liquidity")+"\n    ")]):n("Button",{staticClass:"add-liquidity-btn",on:{click:t.$accessor.wallet.openModal}},[t._v("Connect Wallet")]),t._v(" "),t.wallet.connected?n("div",{staticClass:"link-block"},[n("nuxt-link",{attrs:{to:"/position"}},[n("span",[t._v("My Position")]),t._v(" "),n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-a-bianzu18"}})])])],1):t._e(),t._v(" "),t.showSetting?n("Setting",{on:{onClose:function(){return t.showSetting=!1}}}):t._e(),t._v(" "),t.showWaitingHint?n("WaitingHint",{on:{onClose:function(){return t.showWaitingHint=!1}}}):t._e(),t._v(" "),t.showSuccessHint?n("SuccessHint",{on:{onClose:function(){return t.showSuccessHint=!1}}}):t._e(),t._v(" "),t.showCoinSelect?n("CoinSelect",{attrs:{"existing-coins":t.existingCoins},on:{onClose:function(){return t.showCoinSelect=!1},onSelect:t.onCoinSelect}}):t._e(),t._v(" "),t.showAddLiquiditySecondConfirm?n("AddLiquidityConfirm",{attrs:{"min-price":t.minPrice,"max-price":t.maxPrice,"second-confirm-data":t.secondConfirmData},on:{supply:t.supply,onClose:t.closeAddLiquiditySecondConfirm}}):t._e()],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"add-icon"},[e("a")])}],!1,null,"67752d56",null);e.default=component.exports;installComponents(component,{CoinBlock:n(1184).default,SetPriceRange:n(1225).default,PriceRangeHint:n(1226).default,Setting:n(1155).default,CoinSelect:n(1185).default,AddLiquidityConfirm:n(1227).default})},1321:function(t,e,n){"use strict";n.r(e);var o=n(1264).default,r=n(55),component=Object(r.a)(o,undefined,undefined,!1,null,null,null);e.default=component.exports}}]);