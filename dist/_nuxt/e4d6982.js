(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{3290:function(t,e,o){var content=o(3314);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(211).default)("65a71c36",content,!0,{sourceMap:!1})},3311:function(t,e,o){"use strict";o.r(e);o(48),o(1712);var n=o(20),l=(o(1716),o(377)),c=o.n(l),d=(o(760),o(351)),r=o.n(d),f=(o(74),o(295),o(40),o(64),o(21),o(149),o(158),o(57)),h=o(282),v=o(274),m=o(294),x=o(92);f.default.use(r.a);var k=f.default.extend({components:{Modal:r.a,Icon:c.a},props:{existingCoins:{type:String,default:""},lastSelectCoin:{type:String,default:""}},data:function(){return{value:"",tokenList:[]}},computed:Object.assign({},Object(h.e)(["wallet","liquidity"])),watch:{value:function(t){this.createTokenList(void 0,t)},"wallet.tokenAccounts":{handler:function(t,e){this.createTokenList(void 0,this.value)},deep:!0},"liquidity.tokensObj":{handler:"tokensObjWatch",immediate:!0}},methods:{tokensObjWatch:function(t){console.log("没进来吗#####liquidity.tokensObj###newVal###",t),Object(x.b)(t)||this.createTokenList(t)},toSelect:function(t,e){this.$emit("onSelect",t)},importIconNew:function(path){try{return o(1714)("./assets".concat(path))}catch(t){return o(1129)}},createTokenList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.liquidity.tokensObj,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=[],l=Object(m.a)(v.b),c=[],d=[],r={};console.log(t,"tokensObj====>"),r=Object(m.a)(t),console.log("createTokenList###tokenObject###",r);for(var f=0,h=Object.keys(r);f<h.length;f++){var address=h[f],x=Object(m.a)(r[address]);if(this.lastSelectCoin&&x.symbol===this.lastSelectCoin&&(x.unusable=!0),"SOL"!==x.symbol.toUpperCase()){var k=this.wallet.tokenAccounts[x.token_mint];k?(x=Object.assign(Object.assign({},x),k),c.push(x)):d.push(x)}}var w=this.wallet.tokenAccounts[v.b.mintAddress];w&&(l=Object.assign(Object.assign({},l),w)),c=c.sort((function(a,b){return b.balance.toEther()-a.balance.toEther()})),console.log("solAccount###",w),o=[l].concat(Object(n.a)(c),d),e&&(o=o.filter((function(t){return t.symbol.toUpperCase().includes(e.toUpperCase())||t.token_mint.toUpperCase().indexOf(e.toUpperCase())>=0}))),console.log("new###CoinSelect###tokenList####",o),this.tokenList=Object(m.a)(o)},handleInput:function(t){this.value=t.target.value}}}),w=k,y=(o(3313),o(212)),component=Object(y.a)(w,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Modal",{attrs:{title:"Select a token",width:400,centered:"",visible:!0,footer:null},on:{cancel:function(e){return t.$emit("onClose")}}},[e("div",{staticClass:"coin-select-modal"},[e("div",{staticClass:"search-input"},[e("input",{attrs:{type:"text",autocomplete:"off",autocorrect:"off",placeholder:"Enter the token symbol or address",minlength:"1",maxlength:"79",spellcheck:"false",oninput:"this.value=this.value.replace(/[^a-zA-Z]/g,'')"},domProps:{value:t.value},on:{input:t.handleInput}})]),t._v(" "),e("div",{staticClass:"coin-list-box"},[e("vue-scroll",[t.tokenList&&t.tokenList.length>0?e("ul",{staticClass:"coin-list"},t._l(t.tokenList,(function(o,n){return e("li",{key:n,class:o.unusable?"unusable":"",on:{click:function(e){return t.toSelect(o)}}},[e("div",{staticClass:"left"},[e("img",{attrs:{src:o.icon||t.importIconNew("/coins/".concat(o.symbol.toLowerCase(),".png"))}}),t._v(" "),e("div",{staticClass:"name-box"},[e("h3",[t._v(t._s(o.symbol))]),t._v(" "),e("p",[t._v(t._s(o.name))])])]),t._v(" "),e("div",{staticClass:"balance-box"},[e("div",{staticClass:"balance"},[t.wallet.loading?e("div",[e("Icon",{attrs:{type:"loading"}})],1):o.tokenAccountAddress&&t.wallet.connected?e("div",[t._v("\n                  "+t._s(o.balance.fixed())+"\n                ")]):e("div")]),t._v(" "),e("p")])])})),0):e("div",{staticClass:"no-data"},[e("img",{attrs:{src:o(1713)}}),t._v(" "),e("p",[t._v("No Data")])])])],1)])])}),[],!1,null,"43f451ec",null);e.default=component.exports},3313:function(t,e,o){"use strict";o(3290)},3314:function(t,e,o){var n=o(210)(!1);n.push([t.i,".coin-select-modal .search-input[data-v-43f451ec]{background:#23262b;border-radius:10px;width:100%;height:60px;padding:1px}.coin-select-modal .search-input input[data-v-43f451ec]{width:100%;height:100%;background:transparent;border-radius:10px;font-size:14px;border:none;padding:0 20px}.coin-select-modal .coin-list-box[data-v-43f451ec]{border-top:1px solid hsla(0,0%,100%,.1);height:282px;overflow-y:auto;margin-top:20px}.coin-select-modal .coin-list-box .coin-list[data-v-43f451ec]{min-height:300px}.coin-select-modal .coin-list-box .coin-list li[data-v-43f451ec]{display:flex;height:48px;margin-top:10px;align-items:center;justify-content:space-between;font-size:14px;color:#fff;cursor:pointer}.coin-select-modal .coin-list-box .coin-list li .left[data-v-43f451ec]{display:flex;align-items:center}.coin-select-modal .coin-list-box .coin-list li .left img[data-v-43f451ec]{width:30px;height:30px;border-radius:100%}.coin-select-modal .coin-list-box .coin-list li .left .name-box[data-v-43f451ec]{margin-left:10px}.coin-select-modal .coin-list-box .coin-list li .left .name-box h3[data-v-43f451ec],.coin-select-modal .coin-list-box .coin-list li .left .name-box p[data-v-43f451ec]{padding:0;margin:0}.coin-select-modal .coin-list-box .coin-list li .left .name-box p[data-v-43f451ec]{font-size:12px;color:hsla(0,0%,100%,.5)}.coin-select-modal .coin-list-box .coin-list li .balance-box[data-v-43f451ec]{padding-right:10px}.coin-select-modal .coin-list-box .coin-list li.unusable[data-v-43f451ec]{color:hsla(0,0%,100%,.5);cursor:not-allowed}.coin-select-modal .coin-list-box .coin-list li.unusable .left img[data-v-43f451ec]{filter:grayscale(1)}.coin-select-modal .no-data[data-v-43f451ec]{width:100%;min-height:260px;display:flex;align-items:center;justify-content:center;flex-direction:column}.coin-select-modal .no-data img[data-v-43f451ec]{width:80px;height:80px}.coin-select-modal .no-data p[data-v-43f451ec]{color:hsla(0,0%,100%,.8);padding-top:10px}",""]),t.exports=n}}]);