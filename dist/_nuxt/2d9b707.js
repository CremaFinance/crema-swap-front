(window.webpackJsonp=window.webpackJsonp||[]).push([[73,4,18,22,25,27,34,38,51,54,55,56,59],{1796:function(t,o,e){var content=e(1814);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(102).default)("f580aa36",content,!0,{sourceMap:!1})},1797:function(t,o,e){var content=e(1817);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(102).default)("67675833",content,!0,{sourceMap:!1})},1798:function(t,o,e){"use strict";var n=e(28),r=e(885);n({target:"String",proto:!0,forced:e(886)("fixed")},{fixed:function(){return r(this,"tt","","")}})},1810:function(t,o,e){"use strict";e.r(o);e(1799);var n=e(1800),r=e.n(n),c=e(29).default.extend({components:{Tooltip:r.a},props:["currentStatus"]}),l=(e(1816),e(103)),component=Object(l.a)(c,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("Tooltip",{attrs:{"overlay-class-name":"customize-tooltip"}},[e("template",{slot:"title"},["Active"===t.currentStatus?e("div",{staticClass:"active-tooltip"},[t._v("\n      The price of this pool is currently within your position price range.\n    ")]):t._e(),t._v(" "),"Inactive"===t.currentStatus?e("div",{staticClass:"active-tooltip"},[t._v("\n      The price of this pool is currently out of your position price range.\n    ")]):t._e()]),t._v(" "),e("div",{staticClass:"deta-block-status"},["Closed"===t.currentStatus?e("div",[e("span",[t._v("Closed")])]):"Active"===t.currentStatus?e("div",[e("i",{staticClass:"circle"}),t._v(" "),e("span",[t._v(t._s(t.currentStatus))])]):e("div",[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-icon-tips"}})]),t._v(" "),e("span",[t._v(t._s(t.currentStatus))])])])],2)}),[],!1,null,"01a92700",null);o.default=component.exports},1811:function(t,o,e){"use strict";e.r(o);e(1825);var input=e(1826),n=e.n(input),r=(e(495),e(184)),c=e.n(r),l=(e(65),e(339),e(29));l.default.use(c.a);var d=l.default.extend({components:{Modal:c.a,Input:n.a},data:function(){return{slippage:"",slippageArr:["0.1","0.5","1"]}},mounted:function(){this.slippage=this.$accessor.slippage},methods:{oninput:function(t){t.target.value=t.target.value.match(/^\d+(?:\.\d{0,2})?/)?t.target.value.match(/^\d+(?:\.\d{0,2})?/)[0]||null:"",t.target.value&&(this.slippage=t.target.value)},confirmSlippage:function(){this.$accessor.setSlippage(this.slippage),this.$emit("onClose")}}}),f=(e(1813),e(103)),component=Object(f.a)(d,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("Modal",{attrs:{title:"Settings","z-index":1070,centered:"",width:"400px",visible:!0,footer:null},on:{cancel:function(o){return t.$emit("onClose")}}},[e("div",{staticClass:"pool-setting"},[e("div",{staticClass:"slippage-tolerance"},[t._v("Slippage tolerance")]),t._v(" "),e("div",{staticClass:"input-content"},[t._l(t.slippageArr,(function(o,n){return e("div",{key:n,staticClass:"slippage-item",class:o===t.slippage?"slippage-item-active":"",on:{click:function(e){t.slippage=o}}},[t._v("\n        "+t._s(o)+"\n      ")])})),t._v(" "),e("Input",{attrs:{typ:"number",size:"large",suffix:"%"},on:{input:t.oninput},model:{value:t.slippage,callback:function(o){t.slippage=o},expression:"slippage"}})],2),t._v(" "),t.slippage?e("div",{staticClass:"slippage-hint",class:Number(t.slippage)>1&&50>=Number(t.slippage)?"slippage-hint-waring":Number(t.slippage)>50?"slippage-hint-error":""},[t._v("\n      "+t._s(Number(t.slippage)>1&&50>=Number(t.slippage)?"Your transaction may be fronturn":Number(t.slippage)>50?"Enter a valid slippage percentage":"")+"\n    ")]):t._e(),t._v(" "),e("div",{staticClass:"btn-box"},[e("Button",{staticClass:"disconnect-btn",on:{click:function(o){return t.$emit("onClose")}}},[t._v(" Cancel ")]),t._v(" "),e("div",{staticClass:"switch-wallet-btn-box"},[e("Button",{staticClass:"switch-wallet-btn",attrs:{disabled:Number(t.slippage)>50},on:{click:t.confirmSlippage}},[t._v("\n          Confirm\n        ")])],1)],1)])])}),[],!1,null,null,null);o.default=component.exports},1812:function(t,o,e){var content=e(1824);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(102).default)("4f02b76c",content,!0,{sourceMap:!1})},1813:function(t,o,e){"use strict";e(1796)},1814:function(t,o,e){var n=e(101)(!1);n.push([t.i,".gradient-btn-large{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:2px solid rgba(232,228,255,.5);color:#fff}.gradient-btn-large:hover{background:linear-gradient(268deg,#74ffe8,#7592ff 39%,#a08fff 74%,#e89aff)}.gradient-btn-large:disabled{border:2px solid rgba(232,228,255,.1);cursor:not-allowed}.gradient-btn-large:disabled,.gradient-btn-large:disabled:hover{background:hsla(0,0%,100%,.1)}.new-gradient-btn-large{width:100%;height:56px;box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:16px;margin-top:20px}.farm-btn-small,.new-gradient-btn-large{background:linear-gradient(180deg,#e4e2fe,#2881f2);padding:1px}.farm-btn-small{line-height:1;height:40px;border-radius:6px;border:none}.farm-btn-small div{text-align:center;border-radius:6px;font-size:14px;font-weight:400;color:#fff;background:linear-gradient(268deg,#5fe6d0,#597bff 38%,#9380ff 72%,#e590ff)}.farm-btn-small div:hover{background:linear-gradient(270deg,#93ffed,#84caff 34%,#a291ff 68%,#efb9ff)}.pool-setting .slippage-tolerance{margin-top:14px;color:#b5b8c2}.pool-setting .input-content{margin-top:10px;display:flex;justify-content:space-between}.pool-setting .input-content .slippage-item{width:80px;height:40px;background:none;font-size:14px;font-weight:500;color:#fff;text-align:center;line-height:40px;box-shadow:0 4px 12px 0 #25282c;border-radius:10px;border:1px solid #3f434e}.pool-setting .input-content .slippage-item-active{background:#42454b;box-shadow:0 2px 6px 0 rgba(26,28,31,.5);border-radius:10px;color:#07ebad;border:1px solid #07ebad}.pool-setting .input-content input{width:80px;height:40px;color:#fff;border:none;background:#23262b;box-shadow:0 2px 3px 1px #1a1c1f;border-radius:10px}.pool-setting .input-content .ant-input-affix-wrapper{width:auto}.pool-setting .input-content .ant-input-affix-wrapper .ant-input-suffix{color:#fff}.pool-setting .input-content .ant-input-affix-wrapper input{text-align:center!important;font-size:14px;line-height:20px;background:#23262b;box-shadow:0 2px 3px 1px #1a1c1f;border-radius:10px}.pool-setting .slippage-hint{margin-top:14px}.pool-setting .slippage-hint-waring{color:#fb0}.pool-setting .slippage-hint-error{color:#ff5050}.pool-setting .btn-box{display:flex;margin-top:40px;justify-content:space-between}.pool-setting .disconnect-btn{width:168px;height:48px;box-shadow:0 4px 12px 0 #25282c;border-radius:12px;font-size:16px;border:1px solid #3f434e;font-weight:600;background:transparent}.pool-setting .disconnect-btn:hover{background:hsla(0,0%,100%,.05)}.pool-setting .switch-wallet-btn-box{width:168px;height:46px;margin-top:0;margin-left:0!important;border-radius:12px}.pool-setting .switch-wallet-btn-box .switch-wallet-btn{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:2px solid rgba(232,228,255,.5);color:#fff;height:100%;font-size:16px}.pool-setting .switch-wallet-btn-box .switch-wallet-btn:hover{background:linear-gradient(268deg,#74ffe8,#7592ff 39%,#a08fff 74%,#e89aff)}.pool-setting .switch-wallet-btn-box .switch-wallet-btn:disabled{border:2px solid rgba(232,228,255,.1);background:hsla(0,0%,100%,.1);cursor:not-allowed}.pool-setting .switch-wallet-btn-box .switch-wallet-btn:disabled:hover{background:hsla(0,0%,100%,.1)}@media screen and (max-width:750px){.pool-setting .input-content .slippage-item,.pool-setting .input-content input{width:60px}}",""]),t.exports=n},1815:function(t,o,e){var content=e(1829);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(102).default)("5659e7df",content,!0,{sourceMap:!1})},1816:function(t,o,e){"use strict";e(1797)},1817:function(t,o,e){var n=e(101)(!1);n.push([t.i,".deta-block-status[data-v-01a92700]{cursor:pointer;height:28px;justify-content:space-around;background:hsla(0,0%,100%,.1);border-radius:8px;text-align:center;padding:0 12px}.deta-block-status[data-v-01a92700],.deta-block-status div[data-v-01a92700]{display:flex;align-items:center}.deta-block-status .circle[data-v-01a92700]{display:block;width:6px;height:6px;background:#00ff4d;border-radius:50%}.deta-block-status svg[data-v-01a92700]{width:20px;height:20px;fill:#fff}.deta-block-status span[data-v-01a92700]{font-size:14px;font-weight:700;margin-left:8px}@media screen and (max-width:750px){.coin-block .input-block input[data-v-01a92700]{width:100px}}",""]),t.exports=n},1819:function(t,o,e){var content=e(1835);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(102).default)("6ccc33dc",content,!0,{sourceMap:!1})},1822:function(t,o,e){var content=e(1848);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(102).default)("0cb0ecb4",content,!0,{sourceMap:!1})},1823:function(t,o,e){"use strict";e(1812)},1824:function(t,o,e){var n=e(101)(!1);n.push([t.i,".set-icon-container .set-icon-box .set-icon-content[data-v-46a6cc42]{height:28px;padding:0 8px;background:linear-gradient(270deg,#3e434e,#282a2f);box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:8px;border:1px solid #3f434e;display:flex;align-items:center;justify-content:center;cursor:pointer}.set-icon-container .set-icon-box .set-icon-content[data-v-46a6cc42]:hover{background:#464953}.set-icon-container .set-icon-box .set-icon-content .icon[data-v-46a6cc42]{width:16px;height:16px;fill:#fff;cursor:pointer}.set-icon-container .set-icon-box .set-icon-content span[data-v-46a6cc42]{font-size:12px;margin-left:4px}",""]),t.exports=n},1827:function(t,o,e){var content=e(1851);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(102).default)("1bac5186",content,!0,{sourceMap:!1})},1828:function(t,o,e){"use strict";e(1815)},1829:function(t,o,e){var n=e(101)(!1);n.push([t.i,".coin-block[data-v-09e94aaa]{position:relative;width:460px;height:80px;background:#23262b;box-shadow:0 0 2px 0 #535966,0 2px 3px 1px #1a1c1f;border-radius:20px}.coin-block .coin-box[data-v-09e94aaa]{display:flex;align-items:center;padding:8px 20px 8px 8px}.coin-block .coin-box .coin-name[data-v-09e94aaa]{width:148px;height:64px;border-radius:12px;border:1px solid #3f434e;display:flex;align-items:center;justify-content:center;background:linear-gradient(270deg,#3e434e,#2f333b);box-shadow:0 4px 12px 0 rgba(26,28,31,.5)}.coin-block .coin-box .coin-name img[data-v-09e94aaa]{width:36px;height:36px;border-radius:100%;margin-right:6px}.coin-block .coin-box .coin-name span[data-v-09e94aaa]{font-size:16px;color:#fff;font-weight:700}.coin-block .coin-box .coin-name svg[data-v-09e94aaa]{width:20px;height:20px;fill:hsla(0,0%,100%,.5)}.coin-block .coin-box .coin-name:hover svg[data-v-09e94aaa]{fill:#fff}.coin-block .coin-box .right[data-v-09e94aaa]{height:64px;flex:1}.coin-block .coin-box .right .balance-box[data-v-09e94aaa]{display:flex;justify-content:flex-end}.coin-block .coin-box .right .balance-box span[data-v-09e94aaa]{font-size:14px;color:hsla(0,0%,100%,.5)}.coin-block .coin-box .right .balance-box button[data-v-09e94aaa]{width:48px;height:24px;background:linear-gradient(233deg,#4bb5ff,#ce90ff);box-shadow:0 2px 9px 0 rgba(0,0,0,.59),-3px -3px 5px 0 hsla(0,0%,100%,.1);border-radius:7px;color:#fff;margin-left:10px;font-size:12px}.coin-block .coin-box .right>input[data-v-09e94aaa]{font-size:24px;color:#fff;border:none;background:none;padding-left:10px;text-align:right;width:100%;margin-top:10px}.coin-block .lock-mask[data-v-09e94aaa]{position:absolute;left:0;right:0;top:0;bottom:0;background:rgba(51,55,64,.9);display:flex;align-items:center;justify-content:center;border-radius:10px;padding:20px}.coin-block .lock-mask img[data-v-09e94aaa]{width:40px;height:40px}.coin-block .lock-mask p[data-v-09e94aaa]{height:40px;margin-left:10px;font-size:14px;color:#fff;text-align:center}@media screen and (max-width:750px){.coin-block[data-v-09e94aaa]{width:100%}.coin-block .coin-box .coin-name[data-v-09e94aaa]{width:120px}.coin-block .coin-box .balance-box[data-v-09e94aaa]{text-align:right}}",""]),t.exports=n},1832:function(t,o,e){"use strict";e.r(o);var n=e(29),r=e(629),c=e(119),l=e(110),d=n.default.extend({model:{prop:"value",event:"onInput"},props:{value:{type:String,default:""},coinName:{type:String,default:""},balance:{type:Object,default:null},showMax:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showLock:{type:Boolean,default:!1},notSelect:{type:Boolean,default:!1},coinObj:{type:Object,default:function(){return{}}}},computed:Object.assign(Object.assign({},Object(l.e)(["wallet"])),{coinBalance:function(){if(this.coinObj&&this.coinObj.mintAddress&&this.wallet.tokenAccounts){var t=this.wallet.tokenAccounts[this.coinObj.mintAddress];if(t&&t.balance)return t.balance}return 0}}),methods:{importIcon:r.a,lt:c.c,selectCoin:function(){this.notSelect||this.$emit("onSelect")}}}),f=(e(1828),e(103)),component=Object(f.a)(d,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"coin-block"},[n("div",{staticClass:"coin-box"},[n("div",{staticClass:"coin-name",on:{click:t.selectCoin}},[t.coinName?n("img",{attrs:{src:t.importIcon("/coins/"+t.coinName.toLowerCase()+".png")}}):n("img",{attrs:{src:e(884)}}),t._v(" "),n("span",[t._v(t._s(t.coinName||"Select"))]),t._v(" "),t.notSelect?t._e():n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-icon-on"}})])]),t._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"balance-box"},[n("span",[t._v("Balance: "+t._s(t.wallet.connected&&t.balance&&!t.balance.wei.isNaN()&&t.balance.fixed()||0))]),t._v(" "),t.wallet.connected&&t.showMax&&t.balance&&(!t.value||t.lt(t.value,t.balance.toEther()))?n("button",{staticClass:"max",on:{click:function(o){return t.$emit("onMax")}}},[t._v("\n          MAX\n        ")]):t._e()]),t._v(" "),n("input",{attrs:{type:"text",autocomplete:"off",autocorrect:"off",placeholder:"0.00",pattern:"^[0-9]*[.,]?[0-9]*$",minlength:"1",maxlength:"79",spellcheck:"false",disabled:t.disabled},domProps:{value:t.value},on:{input:function(o){return t.$emit("onInput",o.target.value)},focus:function(o){return t.$emit("onFocus")}}})])]),t._v(" "),t.showLock?n("div",{staticClass:"lock-mask"},[n("img",{attrs:{src:e(889)}}),t._v(" "),n("p",[t._v("The market price is outside your specified price range. Single-asset deposit only.")])]):t._e()])}),[],!1,null,"09e94aaa",null);o.default=component.exports},1833:function(t,o,e){"use strict";e.r(o);var n=e(169).Vue.extend({data:function(){return{showSetting:!1}},computed:{slippageView:function(){return"".concat(this.$accessor.slippage,"%")}}}),r=(e(1823),e(103)),component=Object(r.a)(n,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"set-icon-container"},[e("div",{staticClass:"set-icon-box",on:{click:function(o){t.showSetting=!0}}},[e("div",{staticClass:"set-icon-content"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a-bianzu81"}})]),t._v(" "),e("span",[t._v(t._s(t.slippageView))])])]),t._v(" "),t.showSetting?e("Setting",{on:{onClose:function(){return t.showSetting=!1}}}):t._e()],1)}),[],!1,null,"46a6cc42",null);o.default=component.exports;installComponents(component,{Setting:e(1811).default})},1834:function(t,o,e){"use strict";e(1819)},1835:function(t,o,e){var n=e(101)(!1);n.push([t.i,".coin-select-modal .search-input[data-v-3c5fce2b]{background:#23262b;box-shadow:0 2px 3px 1px #1a1c1f;border-radius:10px;width:100%;height:60px;padding:1px}.coin-select-modal .search-input input[data-v-3c5fce2b]{width:100%;height:100%;background:transparent;border-radius:10px;font-size:14px;border:none;padding:0 20px}.coin-select-modal .coin-list-box[data-v-3c5fce2b]{border-top:1px solid hsla(0,0%,100%,.1);height:282px;overflow-y:auto;margin-top:20px}.coin-select-modal .coin-list-box .coin-list[data-v-3c5fce2b]{min-height:300px}.coin-select-modal .coin-list-box .coin-list li[data-v-3c5fce2b]{display:flex;height:48px;margin-top:10px;align-items:center;justify-content:space-between;font-size:14px;color:#fff;cursor:pointer}.coin-select-modal .coin-list-box .coin-list li .left[data-v-3c5fce2b]{display:flex;align-items:center}.coin-select-modal .coin-list-box .coin-list li .left img[data-v-3c5fce2b]{width:30px;height:30px;border-radius:100%}.coin-select-modal .coin-list-box .coin-list li .left .name-box[data-v-3c5fce2b]{margin-left:10px}.coin-select-modal .coin-list-box .coin-list li .left .name-box h3[data-v-3c5fce2b],.coin-select-modal .coin-list-box .coin-list li .left .name-box p[data-v-3c5fce2b]{padding:0;margin:0}.coin-select-modal .coin-list-box .coin-list li .left .name-box p[data-v-3c5fce2b]{font-size:12px;color:hsla(0,0%,100%,.5)}.coin-select-modal .coin-list-box .coin-list li .balance-box[data-v-3c5fce2b]{padding-right:10px}.coin-select-modal .coin-list-box .coin-list li.unusable[data-v-3c5fce2b]{color:hsla(0,0%,100%,.5);cursor:not-allowed}.coin-select-modal .coin-list-box .coin-list li.unusable .left img[data-v-3c5fce2b]{filter:grayscale(1)}.coin-select-modal .no-data[data-v-3c5fce2b]{width:100%;min-height:260px;display:flex;align-items:center;justify-content:center;flex-direction:column}.coin-select-modal .no-data img[data-v-3c5fce2b]{width:80px;height:80px}.coin-select-modal .no-data p[data-v-3c5fce2b]{color:hsla(0,0%,100%,.8);padding-top:10px}",""]),t.exports=n},1836:function(t,o,e){"use strict";e.r(o);var n=e(39),r=(e(883),e(170)),c=e.n(r),l=(e(495),e(184)),d=e.n(l),f=(e(123),e(340),e(120),e(141),e(36),e(132),e(153),e(29)),m=e(110),h=e(83),x=e(118);f.default.use(d.a);var v=f.default.extend({components:{Modal:d.a,Icon:c.a},props:{existingCoins:{type:String,default:""},lastSelectCoin:{type:String,default:""}},data:function(){return{keyword:"",tokenList:[]}},computed:Object.assign({},Object(m.e)(["wallet","liquidity"])),watch:{keyword:function(t){this.createTokenList(t)},"wallet.tokenAccounts":{handler:function(t,o){this.createTokenList()},deep:!0},"liquidity.infos":{handler:function(t,o){this.createTokenList()},deep:!0}},mounted:function(){this.createTokenList()},methods:{toSelect:function(t,o){this.$emit("onSelect",t)},importIconNew:function(path){try{return e(890)("./assets".concat(path))}catch(t){return e(631)}},createTokenList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=[],e=Object(x.a)(h.b),r=[],c=[],l={};l=Object(x.a)(h.d);for(var d=0,f=Object.keys(l);d<f.length;d++){var address=f[d],m=Object(x.a)(l[address]);if(this.lastSelectCoin&&m.symbol===this.lastSelectCoin&&(m.unusable=!0),m.showDefault){var v=this.wallet.tokenAccounts[m.mintAddress];v?(m=Object.assign(Object.assign({},m),v),r.push(m)):c.push(m)}}var C=this.wallet.tokenAccounts[h.b.mintAddress];C&&(e=Object.assign(Object.assign({},e),C)),r=r.sort((function(a,b){return b.balance.toEther()-a.balance.toEther()})),console.log("solAccount###",C),o=[e].concat(Object(n.a)(r),c),t&&(o=o.filter((function(o){return o.symbol.toUpperCase().includes(t.toUpperCase())||o.mintAddress.toUpperCase().indexOf(t.toUpperCase())>=0}))),console.log("new###CoinSelect###tokenList####",o),this.tokenList=Object(x.a)(o)}}}),C=v,y=(e(1834),e(103)),component=Object(y.a)(C,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("Modal",{attrs:{title:"Select a token",width:400,centered:"",visible:!0,footer:null},on:{cancel:function(o){return t.$emit("onClose")}}},[n("div",{staticClass:"coin-select-modal"},[n("div",{staticClass:"search-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:"Enter the token symbol or address"},domProps:{value:t.keyword},on:{input:function(o){o.target.composing||(t.keyword=o.target.value)}}})]),t._v(" "),n("div",{staticClass:"coin-list-box"},[n("vue-scroll",[t.tokenList&&t.tokenList.length>0?n("ul",{staticClass:"coin-list"},t._l(t.tokenList,(function(o,e){return n("li",{key:e,class:o.unusable?"unusable":"",on:{click:function(e){return t.toSelect(o)}}},[n("div",{staticClass:"left"},[n("img",{attrs:{src:t.importIconNew("/coins/"+o.symbol.toLowerCase()+".png")}}),t._v(" "),n("div",{staticClass:"name-box"},[n("h3",[t._v(t._s(o.symbol))]),t._v(" "),n("p",[t._v(t._s(o.name))])])]),t._v(" "),n("div",{staticClass:"balance-box"},[n("div",{staticClass:"balance"},[t.wallet.loading?n("div",[n("Icon",{attrs:{type:"loading"}})],1):o.tokenAccountAddress&&t.wallet.connected?n("div",[t._v("\n                  "+t._s(o.balance.fixed())+"\n                ")]):n("div")]),t._v(" "),n("p")])])})),0):n("div",{staticClass:"no-data"},[n("img",{attrs:{src:e(887)}}),t._v(" "),n("p",[t._v("No Data")])])])],1)])])}),[],!1,null,"3c5fce2b",null);o.default=component.exports},1844:function(t,o,e){var content=e(1900);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(102).default)("29bd4f54",content,!0,{sourceMap:!1})},1845:function(t,o,e){var content=e(1904);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(102).default)("7593a61b",content,!0,{sourceMap:!1})},1847:function(t,o,e){"use strict";e(1822)},1848:function(t,o,e){var n=e(101)(!1);n.push([t.i,".refresh-icon-box[data-v-7aca69e9]{width:30px;height:30px;background:linear-gradient(141deg,#383e49,#1a1c1f);box-shadow:2px 4px 12px 0 #23262b,-3px -2px 10px 0 rgba(138,147,160,.16);border-radius:15px;padding:6px;margin-left:10px;cursor:pointer}.refresh-icon-box[data-v-7aca69e9]:hover{background:linear-gradient(141deg,#424953,#2a2e33)}.refresh-icon-box svg[data-v-7aca69e9]{width:18px;height:18px;fill:#fff}.refresh-icon-box .is-loading[data-v-7aca69e9]{-webkit-animation:spin-data-v-7aca69e9 1s linear infinite;animation:spin-data-v-7aca69e9 1s linear infinite}@-webkit-keyframes spin-data-v-7aca69e9{to{transform:rotate(1turn)}}@keyframes spin-data-v-7aca69e9{to{transform:rotate(1turn)}}",""]),t.exports=n},1849:function(t,o,e){"use strict";e.d(o,"b",(function(){return n})),e.d(o,"a",(function(){return r}));e(497),e(65),e(89),e(140);var n=RegExp("^\\d*(?:\\\\[.])?\\d*$");function r(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},1850:function(t,o,e){"use strict";e(1827)},1851:function(t,o,e){var n=e(101)(!1);n.push([t.i,".coin-tab[data-v-2f5c454b]{width:126px;height:28px;background:hsla(0,0%,100%,.1)}.coin-tab[data-v-2f5c454b],.coin-tab>div[data-v-2f5c454b]{border-radius:8px;display:flex}.coin-tab>div[data-v-2f5c454b]{width:62px;align-items:center;justify-content:center;font-size:12px;color:#fff;cursor:pointer}.coin-tab>div.active[data-v-2f5c454b]{background:linear-gradient(233deg,#4bb5ff,#ce90ff)}",""]),t.exports=n},1859:function(t,o,e){"use strict";e.r(o);var n=e(169).Vue.extend({props:{loading:{type:Boolean,default:!1}},methods:{refresh:function(){this.$emit("refresh")}}}),r=(e(1847),e(103)),component=Object(r.a)(n,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"icon-box refresh-icon-box"},[e("svg",{class:["icon",t.loading?"is-loading":""],attrs:{"aria-hidden":"true"},on:{click:t.refresh}},[e("use",{attrs:{"xlink:href":"#icon-icon-refresh"}})])])}),[],!1,null,"7aca69e9",null);o.default=component.exports},1860:function(t,o,e){"use strict";e.r(o);var n=e(169).Vue.extend({props:{list:{type:Array,default:function(){return["-",""]}},current:{type:String,default:"-"}},data:function(){return{showSetting:!1}},methods:{changeDirection:function(t){t!==this.current&&this.$emit("onChange",t)}}}),r=(e(1850),e(103)),component=Object(r.a)(n,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"coin-tab"},t._l(t.list,(function(o,n){return e("div",{key:n,class:o===t.current?"active":"",on:{click:function(e){return t.changeDirection(o)}}},[t._v("\n    "+t._s(o)+"\n  ")])})),0)}),[],!1,null,"2f5c454b",null);o.default=component.exports},1861:function(t,o,e){"use strict";e.r(o);e(334),e(65),e(187),e(132),e(153),e(1898);var n=e(29),r=e(189),c=e(66),l=e(9),d=e.n(l),f=n.default.extend({props:{value:{type:String,required:!0},pType:{type:String,default:"Max"},fromCoin:{type:Object,default:function(){return{}}},toCoin:{type:Object,default:function(){return{}}},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},tickSpace:{type:Number,default:10}},data:function(){return{pValue:"",oValue:0,blockStyle:{}}},watch:{value:function(t,o){console.log("&&&&&&SetPriceItem###value####",t);var e=t.split(".");e&&e[1]&&e[1].length>6?(this.pValue=String(Object(c.c)(t,6)),this.oValue=Number(t)):(this.pValue=t,this.oValue=Number(t))},dirction:function(t){this.oValue=Number(this.value)},pValue:function(t,o){"∞"===o&&t!==o&&t.includes("∞")&&(this.pValue="∞")}},mounted:function(){this.pValue=this.value,"∞"!==this.value&&(this.oValue=Number(this.value))},methods:{addPrice:function(){if(console.log("this.oValue###",this.oValue),!Number.isNaN(this.oValue)&&this.oValue){console.log("this.tickSpace###",this.tickSpace);var t=Object(r.getNearestTickByPrice)(new d.a(this.oValue),this.tickSpace);console.log("addPrice####tick####",t);var o=Object(r.tick2Price)(t+this.tickSpace);console.log("addPrice####price####",o),this.oValue=o;var e=String(Object(c.c)(String(o),6));this.pValue=e,this.$emit("input",e)}},minusPrice:function(){if(console.log("this.oValue###",this.oValue),!Number.isNaN(this.oValue)&&this.oValue){var t=Object(r.getNearestTickByPrice)(new d.a(this.oValue),this.tickSpace);console.log("minusPrice####tick####",t);var o=Object(r.tick2Price)(t-this.tickSpace);console.log("minusPrice####price####",o),this.oValue=o;var e=String(Object(c.c)(String(o),6));this.pValue=e,this.$emit("input",e)}},onBlur:function(){if("∞"!==this.pValue&&"0"!==this.pValue){console.log("onBlur###this.pValue####",this.pValue),console.log("this.tickSpace######",this.tickSpace);var t=Object(r.getNearestTickByPrice)(new d.a(this.pValue),this.tickSpace);console.log("onBlur###tick####",t);var o=Object(r.tick2Price)(t);console.log("onBlur###price####",o),this.oValue=o;var e=String(Object(c.c)(String(o),6));this.pValue=e,this.$emit("input",e)}else"∞"===this.pValue&&(this.pValue=this.defaultMaxPrice),this.$emit("input",this.pValue)}}}),m=(e(1899),e(103)),component=Object(m.a)(f,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"set-price-item"},[e("h3",{staticClass:"title"},[t._v(t._s(t.pType)+" Price")]),t._v(" "),e("div",{staticClass:"input-box"},[e("a",{staticClass:"plus-btn",attrs:{disabled:!t.fromCoin&&!t.toCoin},on:{click:t.minusPrice}},[e("span",[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-icon-Reduction"}})])])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.pValue,expression:"pValue"}],attrs:{id:"pValu",autocomplete:"off"},domProps:{value:t.pValue},on:{blur:t.onBlur,input:function(o){o.target.composing||(t.pValue=o.target.value)}}}),t._v(" "),e("a",{staticClass:"minus-btn",attrs:{disabled:!t.fromCoin&&!t.toCoin},on:{click:t.addPrice}},[e("span",[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a-icon-AddCustomMarket"}})])])])]),t._v(" "),e("p",{staticClass:"per-text",class:t.toCoin||t.fromCoin?"":"per-text-disabled"},[t._v("\n    "+t._s(t.toCoin&&t.toCoin.symbol)+" per "+t._s(t.fromCoin&&t.fromCoin.symbol)+"\n  ")])])}),[],!1,null,"56194961",null);o.default=component.exports},1895:function(t,o,e){"use strict";(function(t){e.d(o,"a",(function(){return L})),e.d(o,"b",(function(){return B})),e.d(o,"c",(function(){return $}));e(188);var n=e(39),r=e(19),c=e(20),l=e(378),d=e(75),f=e(122),m=e(54),h=(e(67),e(36),e(186),e(111),e(76),e(89),e(334),e(47)),x=e.n(h),v=e(22),C=e(16),y=e.n(C),k=e(33),w=e(0),_=e(83),A=e(30),S=e(93),P=e(211);function T(t){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=Object(m.a)(t);if(o){var r=Object(m.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(f.a)(this,e)}}var j=function(t,o,e,n){return new(e||(e=Promise))((function(r,c){function l(t){try{f(n.next(t))}catch(t){c(t)}}function d(t){try{f(n.throw(t))}catch(t){c(t)}}function f(t){var o;t.done?r(t.value):(o=t.value,o instanceof e?o:new e((function(t){t(o)}))).then(l,d)}f((n=n.apply(t,o||[])).next())}))},I=(new w.Account([145,101,210,147,165,195,23,69,182,224,218,4,144,61,168,176,20,187,204,236,117,88,182,47,231,219,50,169,28,175,124,100,103,10,24,183,209,36,230,201,249,29,188,155,200,187,54,151,203,137,135,31,160,75,250,72,225,22,173,88,38,147,165,53]),function(o){Object(d.a)(f,o);var e=T(f);function f(){return Object(r.a)(this,f),e.apply(this,arguments)}return Object(c.a)(f,[{key:"toBuffer",value:function(){var a=Object(l.a)(Object(m.a)(f.prototype),"toArray",this).call(this).reverse(),b=t.from(a);if(16===b.length)return b;x()(b.length<16,"Numberu128 too large");var o=t.alloc(16);return b.copy(o),o}}],[{key:"fromBuffer",value:function(t){return x()(16===t.length,"Invalid buffer length: ".concat(t.length)),new f(Object(n.a)(t).reverse().map((function(i){return"00".concat(i.toString(16)).slice(-2)})).join(""),16)}}]),f}(y.a));v.struct([k.b("nft_token_id"),v.s32("lower_tick"),v.s32("upper_tick"),k.c("liquity"),k.c("fee_growth_inside_a_last"),k.c("fee_growth_inside_b_last"),k.c("token_a_fee"),k.c("token_b_fee")]);function O(t,o){for(var i=0;i<o.length;i++)for(var e=o[i].user_positions.length,n=o[i].pubkey,r=o[i].user_positions,c=0;c<e;c++)if(r[c].nft_token_id.equals(t))return console.log("there already exist deposit user ",t.toString()),{index:c,user_position_pubkey:n};return{index:0}}function N(t){for(var i=0;i<t.length;i++){if(t[i].user_positions.length<36e4)return t[i].pubkey}return null}function L(t,o,e,n,r,c,l,d,f,m,h,x,v,C,y,k,T){return j(this,void 0,void 0,regeneratorRuntime.mark((function j(){var I,L,B,D,$,z,F,V,W,E,R,K,U,H,X,Y,J,Z,G,Q,tt,it;return regeneratorRuntime.wrap((function(j){for(;;)switch(j.prev=j.next){case 0:if(console.log("addLiquidityNew####poolInfo###",e),console.log("addLiquidityNew####fromCoin###",n),console.log("addLiquidityNew####toCoin###",r),console.log("addLiquidityNew####connection###",t),console.log("addLiquidityNew####wallet###",o),console.log("addLiquidityNew###userAccountA###",c),console.log("addLiquidityNew###userAccountB###",l),console.log("addLiquidityNew###user_mint_pubkey###",d),console.log("addLiquidityNew###user_nft_pubkey###",f),console.log("addLiquidityNew###tick_lower###",m),console.log("addLiquidityNew###tick_upper###",h),console.log("addLiquidityNew###liquity_mount###",x),console.log("addLiquidityNew###maximumTokenA###",v),console.log("addLiquidityNew###maximumTokenB###",C),t&&o){j.next=16;break}throw new Error("Miss connection");case 16:if(e){j.next=18;break}throw new Error("Miss pool infomations");case 18:if(I=new w.Transaction,L=[],B=o.publicKey,console.log("userAccountA####",c),D=[new w.PublicKey(c),new w.PublicKey(l)],$=[v,C],z=[k,T],e.coin.mintAddress===(null==r?void 0:r.mintAddress)&&e.pc.mintAddress===(null==n?void 0:n.mintAddress)&&(console.log("是进到这里了吗####"),$.reverse(),z.reverse()),D[0],D[1],console.log("poolInfo.coin.decimals####",e.coin.decimals),console.log("poolInfo.pc.decimals####",e.pc.decimals),console.log("userAmounts#######",$),$[0]&&(F=$[0],V=z[0]),$[1]&&(W=$[1],E=z[1]),console.log("addLiquidityNew###coinAmount####",F),console.log("addLiquidityNew###pcAmount####",W),console.log("addLiquidityNew###coinBalance####",F),console.log("addLiquidityNew###pcBalance####",E),e.coin.mintAddress!==_.b.mintAddress){j.next=41;break}return j.next=40,Object(S.d)(t,R,B,_.e.mintAddress,Number(F)>Number(V)?Number(V)-1e6:Number(F),I,L);case 40:R=j.sent;case 41:if(e.pc.mintAddress!==_.b.mintAddress){j.next=45;break}return j.next=44,Object(S.d)(t,K,B,_.e.mintAddress,Number(W)>Number(E)?Number(E)-1e6:Number(W),I,L);case 44:K=j.sent;case 45:if(console.log("wrappedCoinSolAccount@@@@@",R&&R.toString()),console.log("wrappedSolAccount@@@@@",K&&K.toString()),console.log("signers###",L),X=0,Y=B,null!=d?(null==(U=O(d,e.user_position_account_array)).user_position_pubkey&&console.log("deposite old user: %s, but can't find in user position",null==d?void 0:d.toString()),H=U.user_position_pubkey,X=U.index):H=N(e.user_position_account_array),0!==y||null==H){j.next=72;break}return j.next=54,A.g.createMintInstruction(t,o,e.authority);case 54:return J=j.sent,Z=J.mintTrans,G=J.mintAccount,j.next=59,A.g.createAccountInstruction(t,B,G.publicKey,o);case 59:Q=j.sent,tt=Q.nftAccountInstruction,it=Q.nft_account,d=G.publicKey,f=it.publicKey,I.add(Z),I.add(tt),L.push(G),L.push(it),I.add(M(e.tokenSwap,e.authority,Y,R||c,K||l,e.tokenAccountA,e.tokenAccountB,d,f,e.tick_detail_key,H,e.swapProgramId,e.tokenProgramId,y,m,h,x,F,W,0)),console.log("the tick_detail_key is ",e.tick_detail_key.toString(),"the user position key ",H.toString()),j.next=73;break;case 72:null!=d&&null!=f&&null!=H&&I.add(M(e.tokenSwap,e.authority,Y,R||c,K||l,e.tokenAccountA,e.tokenAccountB,d,new w.PublicKey(f),e.tick_detail_key,H,e.swapProgramId,e.tokenProgramId,y,m,h,x,F,W,X));case 73:return R&&I.add(Object(P.closeAccount)({source:R,destination:B,owner:B})),K&&I.add(Object(P.closeAccount)({source:K,destination:B,owner:B})),j.next=77,Object(S.g)(t,o,I,L);case 77:return j.abrupt("return",j.sent);case 78:case"end":return j.stop()}}),j)})))}function M(o,e,n,r,c,l,d,f,m,h,x,C,y,_,S,P,T,j,O,N){console.log("@test####depositAllTokenTypesInstruction###tokenSwap###",o),console.log("@test####depositAllTokenTypesInstruction###authority###",e),console.log("@test####depositAllTokenTypesInstruction###userTransferAuthority###",n),console.log("@test####depositAllTokenTypesInstruction###sourceA###",r),console.log("@test####depositAllTokenTypesInstruction###sourceB###",c),console.log("@test####depositAllTokenTypesInstruction###intoA###",l),console.log("@test####depositAllTokenTypesInstruction###intoB###",d),console.log("@test####depositAllTokenTypesInstruction###nft_mint_pubkey###",f),console.log("@test####depositAllTokenTypesInstruction###user_nft_pubkey###",m),console.log("@test####depositAllTokenTypesInstruction###tick_info_key###",h),console.log("@test####depositAllTokenTypesInstruction###user_postion_key###",x),console.log("@test####depositAllTokenTypesInstruction###swapProgramId###",C),console.log("@test####depositAllTokenTypesInstruction###tokenProgramId###",y),console.log("depositAllTokenTypesInstruction###tokenSwap###",o.toString()),console.log("depositAllTokenTypesInstruction###authority###",e.toString()),console.log("depositAllTokenTypesInstruction###userTransferAuthority###",n.toString()),console.log("depositAllTokenTypesInstruction###sourceA###",r.toString()),console.log("depositAllTokenTypesInstruction###sourceB###",c.toString()),console.log("depositAllTokenTypesInstruction###intoA###",l.toString()),console.log("depositAllTokenTypesInstruction###intoB###",d.toString()),console.log("depositAllTokenTypesInstruction###nft_mint_pubkey###",f.toString()),console.log("depositAllTokenTypesInstruction###user_nft_pubkey###",m.toString()),console.log("depositAllTokenTypesInstruction###tick_info_key###",h.toString()),console.log("depositAllTokenTypesInstruction###user_postion_key###",x.toString()),console.log("depositAllTokenTypesInstruction###swapProgramId###",C.toString()),console.log("depositAllTokenTypesInstruction###tokenProgramId###",y.toString()),console.log("depositAllTokenTypesInstruction###new_position###",_),console.log("depositAllTokenTypesInstruction###tick_lower###",S),console.log("depositAllTokenTypesInstruction###tick_upper###",P),console.log("depositAllTokenTypesInstruction###liquity_amount###",T),console.log("depositAllTokenTypesInstruction###maximumTokenA###",j),console.log("depositAllTokenTypesInstruction###maximumTokenB###",O),console.log("depositAllTokenTypesInstruction###user_position_index###",N);var L=v.struct([v.u8("instruction"),v.u8("new_position"),k.c("liquity_amount"),v.s32("tick_lower"),v.s32("tick_upper"),k.d("maximumTokenA"),k.d("maximumTokenB"),k.d("user_position_index")]),data=t.alloc(L.span);L.encode({instruction:2,new_position:_,liquity_amount:new I(String(T)).toBuffer(),tick_lower:S,tick_upper:P,maximumTokenA:new A.d(j).toBuffer(),maximumTokenB:new A.d(O).toBuffer(),user_position_index:new A.d(N).toBuffer()},data);var M=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1}];return new w.TransactionInstruction({keys:M,programId:C,data:data})}function B(t,o,e,n,r,c,l){return j(this,void 0,void 0,regeneratorRuntime.mark((function d(){var f,m,h,x,v,C,y,k,A,P,T;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(t&&o){d.next=2;break}throw new Error("Miss connection");case 2:if(n&&r&&e.tokenSwapAccount){d.next=4;break}throw new Error("Miss account infomations");case 4:if(f=new w.Transaction,m=[],h=o.publicKey,x=[new w.PublicKey(n),new w.PublicKey(r)],v=x[0],C=x[1],A=0,null!=c?(null==(y=O(c,e.user_position_account_array)).user_position_pubkey&&console.log("deposite old user: %s, but can't find in user position",null==c?void 0:c.toString()),k=y.user_position_pubkey,A=y.index):k=N(e.user_position_account_array),e.coin.mintAddress!==_.b.mintAddress){d.next=16;break}return d.next=15,Object(S.d)(t,P,h,_.e.mintAddress,null,f,m);case 15:P=d.sent;case 16:if(e.pc.mintAddress!==_.b.mintAddress){d.next=20;break}return d.next=19,Object(S.d)(t,T,h,_.e.mintAddress,null,f,m);case 19:T=d.sent;case 20:return c&&k&&l&&f.add(D(e.tokenSwap,e.authority,h,new w.PublicKey(e.poolCoinTokenAccount),new w.PublicKey(e.poolPcTokenAccount),P||v,T||C,c,new w.PublicKey(l),e.tick_detail_key,k,e.swapProgramId,e.tokenProgramId,A)),d.next=23,Object(S.g)(t,o,f,m);case 23:return d.abrupt("return",d.sent);case 24:case"end":return d.stop()}}),d)})))}function D(o,e,n,r,c,l,d,f,m,h,x,C,y,_){var S=v.struct([v.u8("instruction"),k.d("user_position_index")]),data=t.alloc(S.span);S.encode({instruction:4,user_position_index:new A.d(_).toBuffer()},data);var P=[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1}];return new w.TransactionInstruction({keys:P,programId:C,data:data})}function $(t,o,e,n,r,c,l,d,f,m,h,x){return j(this,void 0,void 0,regeneratorRuntime.mark((function v(){var C,y,k,A,T,j,I,L,M,B,D,$,F,V;return regeneratorRuntime.wrap((function(v){for(;;)switch(v.prev=v.next){case 0:if(console.log("removeLiquidity###connection###",t),console.log("removeLiquidity###wallet###",o),console.log("removeLiquidity###poolInfo###",e),console.log("removeLiquidity###fromCoinAccount###",c),console.log("removeLiquidity###toCoinAccount###",l),console.log("removeLiquidity###fromCoin###",d),console.log("removeLiquidity###toCoin###",f),console.log("removeLiquidity###fromAmount###",m),console.log("removeLiquidity###toAmount###",h),console.log("removeLiquidity###liquityAmount###",x),t&&o){v.next=12;break}throw new Error("Miss connection");case 12:if(e&&d&&f){v.next=14;break}throw new Error("Miss pool infomations");case 14:if(c&&l&&e.tokenSwapAccount){v.next=16;break}throw new Error("Miss account infomations");case 16:if(x){v.next=18;break}throw new Error("Miss liquityAmount");case 18:if(C=new w.Transaction,y=[],k=o.publicKey,A=[new w.PublicKey(c),new w.PublicKey(l)],T=[m,h],e.coin.mintAddress===f.mintAddress&&e.pc.mintAddress===d.mintAddress&&(A.reverse(),T.reverse()),j=A[0],I=A[1],T[0]&&(L=Number(T[0])),T[1]&&(M=Number(T[1])),e.coin.mintAddress!==_.b.mintAddress){v.next=32;break}return v.next=31,Object(S.d)(t,B,k,_.e.mintAddress,null,C,y);case 31:B=v.sent;case 32:if(e.pc.mintAddress!==_.b.mintAddress){v.next=36;break}return v.next=35,Object(S.d)(t,D,k,_.e.mintAddress,null,C,y);case 35:D=v.sent;case 36:return V=0,null!=n?(null==($=O(n,e.user_position_account_array)).user_position_pubkey&&console.log("deposite old user: %s, but can't find in user position",null==n?void 0:n.toString()),F=$.user_position_pubkey,V=$.index):F=N(e.user_position_account_array),F&&n&&r&&C.add(z(e.tokenSwap,e.authority,k,new w.PublicKey(e.poolCoinTokenAccount),new w.PublicKey(e.poolPcTokenAccount),B||j,D||I,n,new w.PublicKey(r),e.tick_detail_key,F,e.swapProgramId,e.tokenProgramId,x,L?Math.floor(L)-10:0,M?Math.floor(M)-10:0,V)),B&&C.add(Object(P.closeAccount)({source:B,destination:k,owner:k})),D&&C.add(Object(P.closeAccount)({source:D,destination:k,owner:k})),v.next=43,Object(S.g)(t,o,C,y);case 43:return v.abrupt("return",v.sent);case 44:case"end":return v.stop()}}),v)})))}function z(o,e,n,r,c,l,d,f,m,h,x,C,y,_,S,P,T){console.log("到这了了了了了"),console.log("withdrawAllTokenTypesInstruction###tokenSwap###",o),console.log("withdrawAllTokenTypesInstruction###authority###",e),console.log("withdrawAllTokenTypesInstruction###userTransferAuthority###",n),console.log("withdrawAllTokenTypesInstruction###fromA###",r),console.log("withdrawAllTokenTypesInstruction###fromB###",c),console.log("withdrawAllTokenTypesInstruction###userAccountA###",l),console.log("withdrawAllTokenTypesInstruction###userAccountB###",d),console.log("withdrawAllTokenTypesInstruction###nft_mint_pubkey###",f.toString()),console.log("withdrawAllTokenTypesInstruction###user_nft_pubkey###",m.toString()),console.log("withdrawAllTokenTypesInstruction###tick_info_key###",h.toString()),console.log("withdrawAllTokenTypesInstruction###user_postion_key###",x.toString()),console.log("withdrawAllTokenTypesInstruction###swapProgramId###",C),console.log("withdrawAllTokenTypesInstruction###tokenProgramId###",y),console.log("withdrawAllTokenTypesInstruction###liquityAmount###",_),console.log("withdrawAllTokenTypesInstruction###minimumTokenA###",S),console.log("withdrawAllTokenTypesInstruction###minimumTokenB###",P),console.log("withdrawAllTokenTypesInstruction###user_position_index###",T);var j=v.struct([v.u8("instruction"),k.c("liquityAmount"),k.d("minimumTokenA"),k.d("minimumTokenB"),k.d("user_position_index")]),data=t.alloc(j.span);j.encode({instruction:3,liquityAmount:new I(_).toBuffer(),minimumTokenA:new A.d(S).toBuffer(),minimumTokenB:new A.d(P).toBuffer(),user_position_index:new A.d(T).toBuffer()},data);var O=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1}];return new w.TransactionInstruction({keys:O,programId:C,data:data})}}).call(this,e(5).Buffer)},1896:function(t,o,e){var content=e(1955);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(102).default)("48e4118c",content,!0,{sourceMap:!1})},1897:function(t,o,e){var content=e(1957);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(102).default)("14db1144",content,!0,{sourceMap:!1})},1898:function(t,o,e){e(28)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},1899:function(t,o,e){"use strict";e(1844)},1900:function(t,o,e){var n=e(101)(!1);n.push([t.i,".set-price-item[data-v-56194961]{width:221px;height:84px;border-radius:10px;background:linear-gradient(270deg,#3e434e,#2f333b);box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border:1px solid #3f434e;text-align:center;color:#b5b8c2;padding:10px}.set-price-item .title[data-v-56194961]{font-size:12px;margin-bottom:0;color:hsla(0,0%,100%,.5)}.set-price-item .input-box[data-v-56194961]{display:flex;align-items:center;justify-content:space-between}.set-price-item .input-box a[data-v-56194961]{display:block;width:30px;height:30px;background:linear-gradient(137deg,#23262b,#3e434e);padding:1px;border-radius:15px;cursor:pointer}.set-price-item .input-box a[disabled][data-v-56194961]{background:hsla(0,0%,100%,.1)}.set-price-item .input-box a[disabled] svg[data-v-56194961]{fill:hsla(0,0%,100%,.1)}.set-price-item .input-box a span[data-v-56194961]{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:linear-gradient(141deg,#383e49,#1a1c1f);box-shadow:2px 4px 12px 0 #23262b,-3px -2px 10px 0 rgba(138,147,160,.16);border-radius:14px}.set-price-item .input-box a span[data-v-56194961]:hover{background:linear-gradient(141deg,#424953,#2a2e33)}.set-price-item .input-box a span svg[data-v-56194961]{width:24px;height:24px;fill:#fff}.set-price-item .input-box input[data-v-56194961]{width:139px;font-size:14px;color:#fff;text-align:center;border:none;background:none;padding:0 10px;font-weight:700}.set-price-item .per-text[data-v-56194961]{font-size:12px;color:hsla(0,0%,100%,.5)}.set-price-item .per-text-disabled[data-v-56194961]{color:#b5b8c2}@media screen and (max-width:750px){.set-price-item[data-v-56194961]{width:48%}.set-price-item .input-box input[data-v-56194961]{width:100%}}",""]),t.exports=n},1901:function(t,o,e){var content=e(1959);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(102).default)("df5a5808",content,!0,{sourceMap:!1})},1902:function(t,o,e){var content=e(1961);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(102).default)("6237e563",content,!0,{sourceMap:!1})},1903:function(t,o,e){"use strict";e(1845)},1904:function(t,o,e){var n=e(101),r=e(881),c=e(893),l=n(!1),d=r(c);l.push([t.i,".add-liquidity-form .add-icon{display:flex;align-items:center;justify-content:center;padding-top:20px}.add-liquidity-form .add-icon a{display:block;width:40px;height:40px;background-position:50%;background-repeat:no-repeat;background-size:100% 100%;background-image:url("+d+")}",""]),t.exports=l},1930:function(t,o,e){"use strict";e.r(o);e(1798),e(334);var n=e(169),r=e(110),c=e(190),l=e(119),d=e(66),f=e(30),m=n.Vue.extend({props:{type:{type:String,default:"add"},defaultFromCoin:{type:Object,default:function(){return{}}},defaultToCoin:{type:Object,default:function(){return{}}},showFromCoinLock:{type:Boolean,default:!1},showToCoinLock:{type:Boolean,default:!1},currentData:{type:Object,default:function(){return{}}}},data:function(){return{fromCoin:{},toCoin:{},fromCoinAmount:"",toCoinAmount:"",fixedFromCoin:!0,currentCoinKey:"fromCoin",showCoinSelect:!1,deltaLiquity:0}},computed:Object.assign(Object.assign({},Object(r.e)(["wallet"])),{insufficientBalance:function(){var t=this.$data.fromCoin&&this.$data.fromCoin.balance&&this.$data.fromCoin.balance.fixed()||"",o=this.$data.toCoin&&this.$data.toCoin.balance&&this.$data.toCoin.balance.fixed()||"",e=Object(l.b)(this.$data.fromCoinAmount,t),n=Object(l.b)(this.$data.toCoinAmount,o),r=this.showFromCoinLock,c=this.showToCoinLock;return!(r&&!c&&!n)&&(!(c&&!r&&!e)&&!!(r||c||e||n))},noEnterAmount:function(){var t=Number(this.fromCoinAmount),o=Number(this.toCoinAmount),e=this.showFromCoinLock,n=this.showToCoinLock;return!(!e||n||o)||(!(!n||e||t)||!(e||n||t&&o))}}),watch:{defaultFromCoin:{handler:"watchDefaultFromCoin",immediate:!0},defaultToCoin:{handler:"watchDefaultToCoin",immediate:!0},currentData:{handler:"currentDataWatch",immediate:!0},insufficientBalance:function(t){this.$emit("onChangeInsufficientBalance",t)},noEnterAmount:function(t){this.$emit("onChangeNoEnterAmount",t)}},mounted:function(){this.updateCoinInfo(this.wallet.tokenAccounts)},methods:{gt:l.b,currentDataWatch:function(data){data.currentPriceOrigin&&data.lower_tick&&data.upper_tick&&this.updateAmounts(data.currentPriceOrigin,data.lower_tick,data.upper_tick)},watchDefaultFromCoin:function(t){this.fromCoin=t},watchDefaultToCoin:function(t){this.toCoin=t},openCoinSelect:function(t){this.currentCoinKey=t,this.showCoinSelect=!0},maxBtnSelect:function(t){var o,e;"fromCoin"===t?(this.fixedFromCoin=!0,this.fromCoinAmount=this.fromCoin&&this.fromCoin.balance?"SOL"!==this.fromCoin.symbol?this.fromCoin.balance.fixed():String(Number(this.fromCoin.balance.fixed())-.05):"0"):(this.fixedFromCoin=!1,this.toCoinAmount=(null===(e=null===(o=this.toCoin)||void 0===o?void 0:o.balance)||void 0===e?void 0:e.fixed())||"")},onCoinSelect:function(t){"add"===this.type&&("fromCoin"===this.currentCoinKey?this.fromCoin=t:this.toCoin=t,this.showCoinSelect=!1)},inputChange:function(t){this.fixedFromCoin?(this.fromCoinAmount=t,this.$emit("onChange",t,this.toCoinAmount),this.updateAmounts(this.currentData.currentPriceOrigin,this.currentData.lower_tick,this.currentData.upper_tick)):(this.toCoinAmount=t,this.$emit("onChange",this.fromCoinAmount,t),this.updateAmounts(this.currentData.currentPriceOrigin,this.currentData.lower_tick,this.currentData.upper_tick))},updateCoinInfo:function(t){if(this.fromCoin){var o=t[this.fromCoin.mintAddress];o&&(this.fromCoin=Object.assign(Object.assign({},this.fromCoin),o))}if(this.toCoin){var e=t[this.toCoin.mintAddress];e&&(this.toCoin=Object.assign(Object.assign({},this.toCoin),e))}},updateAmounts:function(t,o,e){var n,r,m,h,x,v,C,y,k,w,_;Number(t),Math.pow(10,12);if(this.fixedFromCoin?(w=new l.a(this.fromCoinAmount,null===(n=this.fromCoin)||void 0===n?void 0:n.decimals,!1).wei.toNumber(),_=(null===(r=this.fromCoin)||void 0===r?void 0:r.symbol)===this.currentData.coin.symbol&&(null===(m=this.toCoin)||void 0===m?void 0:m.symbol)===this.currentData.pc.symbol?0:1):(w=new l.a(this.toCoinAmount,null===(h=this.toCoin)||void 0===h?void 0:h.decimals,!1).wei.toNumber(),_=(null===(x=this.toCoin)||void 0===x?void 0:x.symbol)===this.currentData.coin.symbol&&(null===(v=this.toCoin)||void 0===v?void 0:v.symbol)===this.currentData.pc.symbol?0:1),this.showFromCoinLock||this.showToCoinLock)if(this.showToCoinLock){if(!this.showFromCoinLock){var A=new l.a(this.fromCoinAmount,null===(k=this.fromCoin)||void 0===k?void 0:k.decimals,!1).wei.toNumber(),S=Object(c.c)(o,e,A);this.deltaLiquity=S,this.$emit("onChange",this.fromCoinAmount,this.toCoinAmount,S)}}else{var P=new l.a(this.toCoinAmount,null===(y=this.toCoin)||void 0===y?void 0:y.decimals,!1).wei.toNumber(),T=Object(c.d)(o,e,P);this.deltaLiquity=T,this.$emit("onChange",this.fromCoinAmount,this.toCoinAmount,T)}else{var j=Object(c.e)(o,e,w,new f.b(t),_),I=j.dst,O=j.delta_liquity,N=(null===(C=this.toCoin)||void 0===C?void 0:C.decimals)||6;if(this.deltaLiquity=O,this.fixedFromCoin){var L=Object(d.d)(Math.abs(I)/Math.pow(10,N),N)||"0";this.toCoinAmount=L,this.$emit("onChange",this.fromCoinAmount,L,O)}else{var M=Object(d.d)(Math.abs(I)/Math.pow(10,N),N)||"0";this.fromCoinAmount=M,this.$emit("onChange",M,this.toCoinAmount,O)}}}}}),h=(e(1903),e(103)),component=Object(h.a)(m,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"add-liquidity-form"},[e("CoinBlock",{attrs:{"coin-name":t.fromCoin?t.fromCoin.symbol:"",balance:t.fromCoin?t.fromCoin.balance:null,"show-lock":t.showFromCoinLock},on:{onInput:t.inputChange,onFocus:function(){t.fixedFromCoin=!0},onSelect:function(o){return t.openCoinSelect("fromCoin")},onMax:function(o){return t.maxBtnSelect("fromCoin")}},model:{value:t.fromCoinAmount,callback:function(o){t.fromCoinAmount=o},expression:"fromCoinAmount"}}),t._v(" "),t._m(0),t._v(" "),e("CoinBlock",{attrs:{"coin-name":t.toCoin?t.toCoin.symbol:"",balance:t.toCoin?t.toCoin.balance:null,"show-lock":t.showToCoinLock},on:{onInput:t.inputChange,onFocus:function(){t.fixedFromCoin=!1},onSelect:function(o){return t.openCoinSelect("toCoin")},onMax:function(o){return t.maxBtnSelect("toCoin")}},model:{value:t.toCoinAmount,callback:function(o){t.toCoinAmount=o},expression:"toCoinAmount"}}),t._v(" "),t.showCoinSelect?e("CoinSelect",{on:{onClose:function(){return t.showCoinSelect=!1},onSelect:t.onCoinSelect}}):t._e()],1)}),[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"add-icon"},[o("a")])}],!1,null,null,null);o.default=component.exports;installComponents(component,{CoinBlock:e(1832).default,CoinSelect:e(1836).default})},1954:function(t,o,e){"use strict";e(1896)},1955:function(t,o,e){var n=e(101)(!1);n.push([t.i,".fee-tier-container[data-v-461b37c1]{width:460px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-shadow:0 4px 12px 0 #25282c;border-radius:10px;border:1px solid #3f434e;margin-top:25px;padding:10px}.fee-tier-container .title[data-v-461b37c1]{display:flex;align-items:center;justify-content:space-between}.fee-tier-container .title>h3[data-v-461b37c1]{font-size:14px;color:#fff;margin-bottom:0;font-weight:700}.fee-tier-container .title>a[data-v-461b37c1]{width:48px;height:24px;background:hsla(0,0%,100%,.1);border-radius:7px;font-size:12px;color:#fff;display:flex;align-items:center;justify-content:center}.fee-tier-container .title>.icon[data-v-461b37c1]{width:20px;height:20px;fill:hsla(0,0%,100%,.6)}.fee-tier-container .title>.icon[data-v-461b37c1]:hover{fill:#fff}.fee-tier-container .title>.is-rotate[data-v-461b37c1]{transform:rotate(180deg)}.fee-tier-container ul[data-v-461b37c1]{display:flex;align-items:center;justify-content:space-between;margin-top:14px;margin-bottom:0}.fee-tier-container ul li[data-v-461b37c1]{width:140px;height:72px;border-radius:10px;border:1px solid #3f434e;padding:15px 12px;box-sizing:content-box;box-shadow:0 4px 12px 0 rgba(26,28,31,.5)}.fee-tier-container ul li h3[data-v-461b37c1]{font-size:14px;color:#fff}.fee-tier-container ul li p[data-v-461b37c1]{font-size:12px;color:#b5b8c2}.fee-tier-container ul li.active[data-v-461b37c1]{background:linear-gradient(270deg,#3e434e,#2f333b);box-shadow:0 4px 12px 0 rgba(26,28,31,.5)}.fee-tier-container ul li.active h3[data-v-461b37c1]{color:#07ebad}.fee-tier-container ul li.disabled[data-v-461b37c1]{cursor:not-allowed;background:#26292f}.fee-tier-container ul li.disabled h3[data-v-461b37c1],.fee-tier-container ul li.disabled p[data-v-461b37c1]{color:hsla(0,0%,100%,.3)}@media screen and (max-width:750px){.fee-tier-container[data-v-461b37c1]{width:100%}.fee-tier-container ul li[data-v-461b37c1]{width:33%;height:100%;padding:10px}.fee-tier-container ul li+li[data-v-461b37c1]{margin-left:5px}.fee-tier-container ul li p[data-v-461b37c1]{margin-bottom:0}}",""]),t.exports=n},1956:function(t,o,e){"use strict";e(1897)},1957:function(t,o,e){var n=e(101)(!1);n.push([t.i,".chart[data-v-e57d6efc]{position:relative}.chart .zoom-button-box[data-v-e57d6efc]{width:80px;height:28px;background:linear-gradient(220deg,#3e434e,#23262b);box-shadow:0 2px 9px 0 rgba(26,28,31,.52);border-radius:10px;display:flex;align-items:center;position:absolute;right:0;top:-14px}.chart .zoom-button-box div[data-v-e57d6efc]{width:40px;height:20px;display:flex;align-items:center;justify-content:center}.chart .zoom-button-box div[data-v-e57d6efc]:first-child{border-right:1px solid hsla(0,0%,100%,.1)}.chart .zoom-button-box div svg[data-v-e57d6efc]{width:20px;height:20px;fill:#fff;cursor:pointer}@media screen and (max-width:750px){.chart .zoom-button-box[data-v-e57d6efc]{top:0}}",""]),t.exports=n},1958:function(t,o,e){"use strict";e(1901)},1959:function(t,o,e){var n=e(101)(!1);n.push([t.i,".set-price-block[data-v-49df4972]{width:460px;position:relative;margin-top:18px}.set-price-block .set-price-form[data-v-49df4972]{width:100%;display:flex;align-items:center;justify-content:space-between}.set-price-block .price-hint[data-v-49df4972]{margin-top:12px;color:#fb0;display:flex;align-items:center;line-height:1}.set-price-block .price-hint .icon[data-v-49df4972]{width:20px;height:20px;margin-right:8px;fill:#fb0}.set-price-block .full-range-note[data-v-49df4972]{position:absolute;left:0;right:0;top:0;bottom:0;background:rgba(51,55,64,.9);border-radius:10px;padding:14px}.set-price-block .full-range-note .title[data-v-49df4972]{display:flex;align-items:center}.set-price-block .full-range-note .title .icon[data-v-49df4972]{width:20px;height:20px;fill:#fb0}.set-price-block .full-range-note .title span[data-v-49df4972]{font-size:14px;color:#fb0}.set-price-block .full-range-note p[data-v-49df4972]{font-size:14px;color:rgba(255,187,0,.9);padding-top:10px}.set-price-block .full-range-note>button[data-v-49df4972]{display:block;width:98px;height:26px;background:linear-gradient(270deg,#5fe6d0,#60b2f1 33%,#9380ff 68%,#e590ff);border-radius:7px;margin:15px auto 0}.set-price-block .full-range[data-v-49df4972]{width:460px;height:46px;background:linear-gradient(270deg,#3e434e,#2b2f36);box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:10px;border:1px solid #3f434e;font-size:14px;color:#fff;margin-top:9px}@media screen and (max-width:750px){.set-price-block[data-v-49df4972],.set-price-block .full-range[data-v-49df4972]{width:100%}}",""]),t.exports=n},1960:function(t,o,e){"use strict";e(1902)},1961:function(t,o,e){var n=e(101)(!1);n.push([t.i,".gradient-btn-large{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:2px solid rgba(232,228,255,.5);color:#fff}.gradient-btn-large:hover{background:linear-gradient(268deg,#74ffe8,#7592ff 39%,#a08fff 74%,#e89aff)}.gradient-btn-large:disabled{border:2px solid rgba(232,228,255,.1);cursor:not-allowed}.gradient-btn-large:disabled,.gradient-btn-large:disabled:hover{background:hsla(0,0%,100%,.1)}.new-gradient-btn-large{width:100%;height:56px;box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:16px;margin-top:20px}.farm-btn-small,.new-gradient-btn-large{background:linear-gradient(180deg,#e4e2fe,#2881f2);padding:1px}.farm-btn-small{line-height:1;height:40px;border-radius:6px;border:none}.farm-btn-small div{text-align:center;border-radius:6px;font-size:14px;font-weight:400;color:#fff;background:linear-gradient(268deg,#5fe6d0,#597bff 38%,#9380ff 72%,#e590ff)}.farm-btn-small div:hover{background:linear-gradient(270deg,#93ffed,#84caff 34%,#a291ff 68%,#efb9ff)}.add-liquidity-modal .modal-header{display:flex;align-items:center;justify-content:space-between;padding:16px 0;color:#f1f1f2;border-radius:4px 4px 0 0}.add-liquidity-modal .modal-header .modal-header-left{display:flex;align-items:center;font-size:20px;font-weight:600;color:#fff}.add-liquidity-modal .modal-header .modal-header-left .icon{margin-right:4px}.add-liquidity-modal .modal-header .icon{width:20px;height:20px}.add-liquidity-modal .modal-header .icon:hover{fill:hsla(0,0%,100%,.6)}.add-liquidity-modal .top{justify-content:space-between}.add-liquidity-modal .top,.add-liquidity-modal .top .coin-pair{display:flex;align-items:center}.add-liquidity-modal .top .coin-pair img{width:36px;height:36px;border-radius:100%}.add-liquidity-modal .top .coin-pair img:nth-of-type(2){margin-left:-10px}.add-liquidity-modal .top .coin-pair span{font-size:16px;font-weight:400;margin-left:10px}.add-liquidity-modal .top .status{display:flex;align-items:center;justify-content:center;padding:0 16px;min-width:80px;height:28px;background:hsla(0,0%,100%,.1);border-radius:8px}.add-liquidity-modal .top .status i{width:6px;height:6px;background:#00ff4d;border-radius:100%;margin-right:6px}.add-liquidity-modal .top .status svg{width:20px;height:20px;fill:hsla(0,0%,100%,.8);margin-right:4px}.add-liquidity-modal .top .status span{font-size:14px;color:#fff}.add-liquidity-modal .info{width:100%;padding:0 21px;margin-top:20px;box-shadow:0 4px 12px 0 #25282c;border-radius:10px;border:1px solid #3f434e}.add-liquidity-modal .info .coin-info-block{display:flex;align-items:center;justify-content:space-between;padding-top:10px}.add-liquidity-modal .info .coin-info-block .left{display:flex;align-items:center}.add-liquidity-modal .info .coin-info-block .left img{width:30px;height:30px;border-radius:100%}.add-liquidity-modal .info .coin-info-block .left span{font-size:16px;color:#fff;margin-left:10px}.add-liquidity-modal .info .coin-info-block .right{font-size:20px;color:#fff}.add-liquidity-modal .info .fee-tier-block{display:flex;align-items:center;justify-content:space-between;padding-top:16px;padding-bottom:20px}.add-liquidity-modal .info .fee-tier-block:last-child{border-top:1px solid hsla(0,0%,100%,.1)}.add-liquidity-modal .info .fee-tier-block span{color:#fff;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.add-liquidity-modal .info .fee-tier-block span:first-child{font-size:14px;font-weight:400}.add-liquidity-modal .info .fee-tier-block span:last-child{font-size:14px;font-weight:800}.add-liquidity-modal .range-box{width:100%;margin-top:22px}.add-liquidity-modal .range-box .range-title{display:flex;align-items:center;justify-content:space-between}.add-liquidity-modal .range-box .range-title h3{font-size:14px;color:#fff}.add-liquidity-modal .range-box .range-title .coin-tab{min-width:100px;height:28px;background:hsla(0,0%,100%,.1);border-radius:8px;display:flex;align-items:center;padding:1px}.add-liquidity-modal .range-box .range-title .coin-tab span{flex:1;border-radius:7px;font-size:14px;color:hsla(0,0%,100%,.5);height:100%;display:flex;padding:0 5px;align-items:center;justify-content:center;cursor:pointer}.add-liquidity-modal .range-box .range-title .coin-tab span.active{background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);color:#fff}.add-liquidity-modal .range-box .price-range-block{display:flex;margin-top:28px;align-items:center;justify-content:space-between;box-shadow:0 4px 12px 0 #25282c;border-radius:10px;border:1px solid #3f434e;padding:0 20px}.add-liquidity-modal .range-box .price-range-block .price-item{border-radius:10px;text-align:center;font-size:12px;color:hsla(0,0%,100%,.5)}.add-liquidity-modal .range-box .price-range-block .price-item .title{font-size:12px;color:hsla(0,0%,100%,.5);padding-top:15px}.add-liquidity-modal .range-box .price-range-block .price-item .price{font-size:14px;color:#fff;padding-top:8px;margin-bottom:0}.add-liquidity-modal .range-box .price-range-block .price-item .text{font-size:12px;color:hsla(0,0%,100%,.5);padding-top:8px}.add-liquidity-modal .range-box .price-range-block .price-item .note{border-top:1px solid hsla(0,0%,100%,.1);margin:6px auto 0;display:flex;align-items:center;justify-content:center;padding:8px 20px 10px}.add-liquidity-modal .current-price{display:flex;align-items:center;justify-content:flex-end;margin-top:15px}.add-liquidity-modal .current-price span{font-size:12px;color:hsla(0,0%,100%,.5)}.add-liquidity-modal .current-price div{font-weight:700;font-size:16px;background:linear-gradient(90deg,#59bdad,#6676f5,#9a89f9,#eba7ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-left:10px;margin-top:0}.add-liquidity-modal .add-liquidity-form-box{margin-top:30px}.add-liquidity-modal .add-btn{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:2px solid rgba(232,228,255,.5);color:#fff;margin-top:20px}.add-liquidity-modal .add-btn:hover{background:linear-gradient(268deg,#74ffe8,#7592ff 39%,#a08fff 74%,#e89aff)}.add-liquidity-modal .add-btn:disabled{border:2px solid rgba(232,228,255,.1);background:hsla(0,0%,100%,.1);cursor:not-allowed}.add-liquidity-modal .add-btn:disabled:hover{background:hsla(0,0%,100%,.1)}",""]),t.exports=n},2011:function(t,o,e){var content=e(2180);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(102).default)("a0b209b4",content,!0,{sourceMap:!1})},2049:function(t,o,e){"use strict";e.r(o);e(334);var n=e(169).Vue.extend({props:{current:{type:Number,default:0}},data:function(){return{list:[{fee:"0.01% fee",text:"Best for stable pairs",value:"0.01%"},{fee:"0.3% fee",text:"Best for most pairs",value:"0.3%"},{fee:"1% fee",text:"Best for exotic pairs",value:"1%"}],showFeeSelect:!0}}}),r=(e(1954),e(103)),component=Object(r.a)(n,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"fee-tier-container"},[e("div",{staticClass:"title"},[t.current>-1?e("h3",[t._v(t._s(t.list[t.current]&&t.list[t.current].value||"--")+" fee tier")]):e("h3",[t._v("fee tier")]),t._v(" "),e("svg",{staticClass:"icon",class:t.showFeeSelect?"is-rotate":"",attrs:{"aria-hidden":"true"},on:{click:function(o){t.showFeeSelect=!t.showFeeSelect}}},[e("use",{attrs:{"xlink:href":"#icon-icon-on"}})])]),t._v(" "),t.showFeeSelect?e("ul",t._l(t.list,(function(o,n){return e("li",{key:n,class:t.current===n?"active":"disabled"},[e("h3",[t._v(t._s(o.fee))]),t._v(" "),e("p",[t._v(t._s(o.text))])])})),0):t._e()])}),[],!1,null,"461b37c1",null);o.default=component.exports},2050:function(t,o,e){"use strict";e.r(o);var n=e(39),r=(e(36),e(89),e(120),e(334),e(29)),c=e(2042),l=e(189),d=e(66),f=e(9),m=e.n(f),h=r.default.extend({props:{poolInfo:{type:Object,default:function(){return{}}},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0}},data:function(){return{isDraw:!1,zoom:1}},watch:{poolInfo:{handler:"poolInfoWatch",immediate:!0},minPrice:{handler:"minPriceWatch",immediate:!0},maxPrice:{handler:"maxPriceWatch",immediate:!0},direction:function(t){this.poolInfo&&!Object(d.b)(this.poolInfo)&&this.dataProcessing(this.poolInfo,this.zoom)}},mounted:function(){this.isDraw||!this.poolInfo||Object(d.b)(this.poolInfo)||this.dataProcessing(this.poolInfo,this.zoom)},methods:{poolInfoWatch:function(t,o){t&&!Object(d.b)(t)&&t!==o&&this.dataProcessing(t,this.zoom)},minPriceWatch:function(t,o){console.log("minPriceWatch没走到这儿####newVal",t),t!==o&&this.dataProcessing(this.poolInfo,this.zoom)},maxPriceWatch:function(t,o){console.log("maxPriceWatch没走到这儿####newVal",t),t!==o&&this.dataProcessing(this.poolInfo,this.zoom)},zoomOut:function(){if(!(this.zoom<.015625)){var t=this.zoom/2;this.zoom=t,this.dataProcessing(this.poolInfo,t)}},zoomIn:function(){if(!(this.zoom>32)){var t=2*this.zoom;this.zoom=t,this.dataProcessing(this.poolInfo,t)}},dataProcessing:function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(console.log("zoom####",o),t&&t.coin){var e=this.direction?t.currentPriceView:t.currentPriceViewReverse;console.log("dataProcessing####current_price#####",e);var r=Object(l.price2Tick)(new m.a(e));console.log("这里this.minPrice####",this.minPrice),console.log("这里this.maxPrice####",this.maxPrice);var c=r+100*o,f=r-100*o;console.log("这里currentTick####",r),console.log("这里tickMax####",c),console.log("这里tickMin####",f),console.log("this.minPrice123123####",this.minPrice),console.log("this.maxPrice123123####",this.maxPrice);var h=Object(l.price2Tick)(new m.a(Object(d.c)(String(this.minPrice),12))),x=Object(l.price2Tick)(new m.a(Object(d.c)(String(this.maxPrice),12)));console.log("infos.current_liquity####",t.current_liquity.toString());var v=new m.a(t.current_liquity.toString()).div(Math.pow(10,6)).toNumber(),C=t.tick_info_array;console.log("tick_info_array######",C);for(var y=[],k=[],w={},i=0;i<C.length;i++)(w=C[i]).tick<=r?y.unshift(w):w.tick>r&&k.push(w);for(var _=v,A=0;A<y.length;A++)y[A].liquityAmount=_,_-=new m.a(y[A].liquity_net.toString()).div(Math.pow(10,6)).toNumber();for(var S=v,P=0;P<k.length;P++)k[P].liquityAmount=S,S+=new m.a(k[P].liquity_net.toString()).div(Math.pow(10,6)).toNumber();console.log("d3####leftArray#####",y),console.log("d3####rightArray#####",k);var T=[];T=[].concat(Object(n.a)(y.reverse()),[{tick:r,liquityAmount:v}],k),this.direction||(T=T.reverse()),console.log("d3##chartData#####",T),console.log("这里这里####minPriceTick####",h),console.log("这里这里####maxPriceTick####",x),console.log("这里这里####currentTick####",r),console.log("这里这里####tickMin####",f),console.log("这里这里####tickMax####",c),this.drawChart(T,f,c,h,x,r)}},drawChart:function(t,o,e,n,r,f){var m=this,h=20,x=20,v=20,C=20,y=460-C-x,k=195-h-v,w=[o,f-(f-o)/2,f,f+(e-f)/2,e],_=[];console.log("D3Chart####xArr123####",w);var A=w[0]-(w[1]-w[0]),S=w[4]+(w[4]-w[3]);console.log("D3Chart####utickMin#####",A),console.log("D3Chart####utickMax#####",S),console.log("width###",y);var P=y/(S-A);c.e("#chart").selectAll("*").remove();var svg=c.e("#chart").attr("width",y+C+x).attr("height",k+h+v).append("g").attr("transform","translate(".concat(C,",").concat(x,")")),T=c.b(t,(function(t){return Number(t.liquityAmount)}))||0,j=c.d().range([0,k]).domain([T,0]);c.c().rangeRound([0,y]).padding(.1);svg.append("g").attr("id","barsBox").selectAll("rect").data(t).enter().append("rect").attr("x",(function(o,e){return 0===e?0:m.direction?Math.abs(t[e-1].tick-A)*P:Math.abs(S-t[e-1].tick)*P})).attr("y",(function(o,e){return 0===e?0:m.direction?j(t[e-1].liquityAmount):j(o.liquityAmount)})).attr("width",(function(o,e){return 0===e?0:m.direction?Math.abs(o.tick-t[e-1].tick)*P:Math.abs(t[e-1].tick-o.tick)*P})).attr("height",(function(o,e){return 0===e?0:m.direction?k-j(t[e-1].liquityAmount):k-j(o.liquityAmount)})).attr("fill","#2C4A57").attr("class","bars");var I=svg.append("g"),O=(I.append("line").attr("x1",0).attr("y1",155).attr("x2",420).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D"),I.append("g"));if(m.direction)for(var i=0;i<w.length;i++){var N=Object(d.c)(String(Object(l.tick2Price)(w[i]).toNumber()),6)||"0";_.push(N);for(var L=Math.abs(w[i]-A)*P,M=0,B=0;B<N.length;B++)"1"===N[B]?M+=4.02:"."===N[B]?M+=2.64:"7"===N[B]?M+=5.48:M+=6;O.append("text").text(N).attr("x",L-M/2).attr("y",170).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}else for(var D=w.length-1;D>=0;D--){var $=Object(d.c)(String(Object(l.tick2Price)(w[D]).toNumber()/1),6)||"0";_.push($);for(var z=Math.abs(w[D]-A)*P,F=0,V=0;V<$.length;V++)"1"===$[V]?F+=4.02:"."===$[V]?F+=2.64:"7"===$[V]?F+=5.48:F+=6;O.append("text").text($).attr("x",z-F/2).attr("y",170).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}console.log("xPriceArr#####",_);var W=svg.append("g").attr("id","left-handle");W.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","rgba(255, 255, 255, 0.4)"),W.append("path").attr("d","M 1 0 V 0 M 0 1 h 12 q 5 0, 5 5 v 22 q 0 5 -5 5 h -12 z").attr("fill","#1EE1CF").attr("stroke","#707378").attr("transform","translate(1, 32) rotate(180)"),W.append("rect").attr("width",1).attr("height",10).attr("x",-9).attr("y",10).attr("fill","white"),W.append("rect").attr("width",1).attr("height",10).attr("x",-6).attr("y",10).attr("fill","white");var E=svg.append("g").attr("id","right-handle");E.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","rgba(255, 255, 255, 0.4)"),E.append("path").attr("d","M 1 0 V 0 M 0 1 h 12 q 5 0, 5 5 v 22 q 0 5 -5 5 h -12 z").attr("fill","#005AFF").attr("stroke","#707378").attr("transform","translate(-1, -2)"),E.append("rect").attr("width",1).attr("height",10).attr("x",6).attr("y",10).attr("fill","white"),E.append("rect").attr("width",1).attr("height",10).attr("x",9).attr("y",10).attr("fill","white");var R=c.a().extent([[0,0],[y,k]]).handleSize(30).on("end",(function(t){if(!t.sourceEvent)return;if(!t.selection)return;console.log(t.selection),W.attr("transform","translate("+t.selection[0]+", 0)"),E.attr("transform","translate("+t.selection[1]+", 0)");var o=Object(l.tick2Price)(t.selection[0]/P+A).toNumber(),e=Object(l.tick2Price)(t.selection[1]/P+A).toNumber();m.$emit("onChangeMinPrice",String(o)),m.$emit("onChangeMaxPrice",String(e))}));console.log("D3Chart####minPriceTick####",n),console.log("D3Chart####maxPriceTick####",r),console.log("D3Chart####utickMin####",A);var K=n<A?-100:Math.abs(n-A)*P,U=r<A?-100:Math.abs(r-A)*P;"0"===this.minPrice&&(K=0),"∞"===this.maxPrice&&(U=y),console.log("D3Chart####this.minPrice123####",this.minPrice),console.log("D3Chart####this.maxPrice123####",this.maxPrice),console.log("D3Chart####minPriceTickX#####",K),console.log("D3Chart####maxPriceTickX#####",U),svg.append("g").attr("class","brush").call(R).call(R.move,[K,U]),W.attr("transform","translate("+K+", 0)"),E.attr("transform","translate("+U+", 0)"),c.e(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","rgba(255, 255, 255, 0.4")}}}),x=h,v=(e(1956),e(103)),component=Object(v.a)(x,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"chart"},[e("div",{staticClass:"zoom-button-box"},[e("div",[e("svg",{staticClass:"icon",attrs:{id:"zoomOut","aria-hidden":"true"},on:{click:t.zoomOut}},[e("use",{attrs:{"xlink:href":"#icon-big"}})])]),t._v(" "),e("div",[e("svg",{staticClass:"icon",attrs:{id:"zoomIn","aria-hidden":"true"},on:{click:t.zoomIn}},[e("use",{attrs:{"xlink:href":"#icon-small"}})])])]),t._v(" "),e("svg",{attrs:{id:"chart"}})])}),[],!1,null,"e57d6efc",null);o.default=component.exports},2051:function(t,o,e){"use strict";e.r(o);e(334);var n=e(29),r=e(1861),c=n.default.extend({components:{SetPriceItem:r.default},props:{min:{type:String,default:""},max:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:function(){return{}}},toCoin:{type:Object,default:function(){return{}}},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},tickSpace:{type:Number,default:10}},data:function(){return{showUnderStand:!1,minPrice:"",maxPrice:""}},watch:{min:function(t,o){console.log("setPriceBlock####min##watch####",t),t!==o&&(this.minPrice=t)},max:function(t,o){console.log("setPriceBlock####max##watch####",t),t!==o&&(this.maxPrice=t)},minPrice:function(t,o){t!==o&&this.$emit("onChangeMinPrice",t)},maxPrice:function(t,o){t!==o&&this.$emit("onChangeMaxPrice",t)}},mounted:function(){this.minPrice=this.min,this.maxPrice=this.max},methods:{understand:function(){this.minPrice="0",this.maxPrice="∞",this.showUnderStand=!1}}}),l=(e(1958),e(103)),component=Object(l.a)(c,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"set-price-block"},[e("div",{staticClass:"set-price-form"},[e("SetPriceItem",{attrs:{"p-type":"Min","default-max-price":t.defaultMaxPrice,"from-coin":t.fromCoin,"to-coin":t.toCoin,dirction:t.dirction,tickSpace:t.tickSpace},model:{value:t.minPrice,callback:function(o){t.minPrice=o},expression:"minPrice"}}),t._v(" "),e("SetPriceItem",{attrs:{"p-type":"Max","default-max-price":t.defaultMaxPrice,"from-coin":t.fromCoin,"to-coin":t.toCoin,dirction:t.dirction,tickSpace:t.tickSpace},model:{value:t.maxPrice,callback:function(o){t.maxPrice=o},expression:"maxPrice"}})],1),t._v(" "),t.showUnderStand?e("div",{staticClass:"full-range-note"},[e("div",{staticClass:"title"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a-icon-MarketAdress"}})]),t._v(" "),e("span",[t._v("Lower Efficiency")])]),t._v(" "),e("p",[t._v("Please note that full range positions may earn less fees than concentrated liquidity.")]),t._v(" "),e("button",{on:{click:t.understand}},[t._v("I understand")])]):t._e(),t._v(" "),e("button",{staticClass:"full-range",on:{click:function(o){t.showUnderStand=!0}}},[t._v("Full Range")]),t._v(" "),t.invalidPriceRange?e("div",{staticClass:"price-hint"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a-icon-MarketAdress"}})]),t._v("\n    The max price should be higher than min price.\n  ")]):t._e()])}),[],!1,null,"49df4972",null);o.default=component.exports;installComponents(component,{SetPriceItem:e(1861).default})},2052:function(t,o,e){"use strict";e.r(o);e(495);var n=e(184),r=e.n(n),c=(e(334),e(29)),l=e(629),d=e(66),f=e(119),m=e(1810);c.default.use(r.a);var h=c.default.extend({components:{Modal:r.a,StatusBlock:m.default},props:{title:{type:String,default:"Add Liquidity"},coinPair:{type:String,default:"CRM/USDT"},fromCoin:{type:String,default:"CRM"},toCoin:{type:String,default:"USDT"},secondConfirmData:{type:Object,default:function(){return{}}},minPrice:{type:String,default:""},maxPrice:{type:String,default:""}},data:function(){return{direct:!0,fromCoinAmount:"",toCoinAmount:"",showSetting:!1,deltaLiquity:0,insufficientBalance:!1,noEnterAmount:!0}},computed:{isDisabled:function(){var t=this.secondConfirmData&&this.secondConfirmData.showFromCoinLock,o=this.secondConfirmData&&this.secondConfirmData.showToCoinLock,e=this.$data.fromCoinAmount,n=this.$data.toCoinAmount;return!(t&&!o&&n)&&(!(o&&!t&&e)&&!(!o&&!t&&n&&e))}},watch:{fromCoinAmount:function(t){console.log(t,"val##")}},mounted:function(){console.log(this.secondConfirmData,"secondConfirmData##")},methods:{gt:f.b,fixD:d.d,importIcon:l.a,decimalFormat:d.c,onChangeInsufficientBalance:function(t){this.insufficientBalance=t},onChangeNoEnterAmount:function(t){this.noEnterAmount=t},changeDirect:function(t){this.direct=t},toAdd:function(){var t,o;this.fromCoinAmount&&(t=Number(this.fromCoinAmount)*(1+Number(this.$accessor.slippage)/100)),this.toCoinAmount&&(o=Number(this.toCoinAmount)*(1+Number(this.$accessor.slippage)/100)),this.$emit("supply",t,o,this.deltaLiquity),this.$emit("onClose")},addFormChanged:function(t,o,e){console.log("addFormChanged###deltaLiquity####",e),this.fromCoinAmount=t,this.toCoinAmount=o,this.deltaLiquity=e}}}),x=(e(1960),e(103)),component=Object(x.a)(h,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("Modal",{staticClass:"add-liquidity-confirm",attrs:{width:"492px",visible:!0,centered:"",closable:!1,header:null,footer:null},on:{cancel:function(o){return t.$emit("onClose")}}},[e("div",{staticClass:"add-liquidity-modal"},[e("div",{staticClass:"modal-header"},[e("div",{staticClass:"modal-header-left"},["Increase Liquidity"==t.title?e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(o){return t.$emit("onClose")}}},[e("use",{attrs:{"xlink:href":"#icon-icon-return"}})]):t._e(),t._v("\n          "+t._s(t.title)+"\n        ")]),t._v(" "),e("div",{staticClass:"modal-header-right"},["Increase Liquidity"==t.title?e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(o){t.showSetting=!0}}},[e("use",{attrs:{"xlink:href":"#icon-a-bianzu81"}})]):e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(o){return t.$emit("onClose")}}},[e("use",{attrs:{"xlink:href":"#icon-icon-close"}})])])]),t._v(" "),e("div",{staticClass:"top"},[e("div",{staticClass:"coin-pair"},[e("img",{attrs:{src:t.importIcon("/coins/"+t.secondConfirmData.fromCoin.symbol.toLowerCase()+".png")}}),t._v(" "),e("img",{attrs:{src:t.importIcon("/coins/"+t.secondConfirmData.toCoin.symbol.toLowerCase()+".png")}}),t._v(" "),e("span",[t._v(t._s(t.secondConfirmData.fromCoin.symbol)+" - "+t._s(t.secondConfirmData.toCoin.symbol))])]),t._v(" "),e("StatusBlock",{attrs:{"current-status":t.secondConfirmData.currentStatus}})],1),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"fee-tier-block"},[e("span",[t._v(t._s(t.secondConfirmData.fromCoin.symbol))]),t._v(" "),e("span",[t._v(t._s(t.secondConfirmData.fromCoinAmount||0))])]),t._v(" "),e("div",{staticClass:"fee-tier-block"},[e("span",[t._v(t._s(t.secondConfirmData.toCoin.symbol))]),t._v(" "),e("span",[t._v(t._s(t.secondConfirmData.toCoinAmount||0))])]),t._v(" "),e("div",{staticClass:"fee-tier-block"},[e("span",[t._v("Fee Tier")]),t._v(" "),e("span",[t._v(t._s(t.secondConfirmData.feeTier))])])]),t._v(" "),e("div",{staticClass:"range-box"},[e("div",{staticClass:"range-title"},[e("h3",[t._v("Selected Range")]),t._v(" "),e("div",{staticClass:"coin-tab"},[e("span",{class:t.direct?"active":"",on:{click:function(o){return t.changeDirect(!0)}}},[t._v(t._s(t.secondConfirmData.fromCoin.symbol))]),t._v(" "),e("span",{class:t.direct?"":"active",on:{click:function(o){return t.changeDirect(!1)}}},[t._v(t._s(t.secondConfirmData.toCoin.symbol))])])]),t._v(" "),e("div",{staticClass:"current-price"},[t.direct?e("div",[t._v("\n            1 "+t._s(t.secondConfirmData.fromCoin.symbol)+" ≈\n            "+t._s(t.fixD(t.secondConfirmData.currentPrice,t.secondConfirmData.toCoin.decimals))+"\n            "+t._s(t.secondConfirmData.toCoin.symbol)+"\n          ")]):e("div",[t._v("\n            1 "+t._s(t.secondConfirmData.toCoin.symbol)+" ≈\n            "+t._s(t.fixD(1/t.secondConfirmData.currentPrice,t.secondConfirmData.toCoin.decimals))+"\n            "+t._s(t.secondConfirmData.fromCoin.symbol)+"\n          ")])]),t._v(" "),e("div",{staticClass:"price-range-block"},[e("div",{staticClass:"price-item"},[e("div",{staticClass:"title"},[t._v("Min Price")]),t._v(" "),t.direct?e("p",{staticClass:"price"},[t._v(t._s(t.decimalFormat(t.secondConfirmData.minPrice,6)))]):e("p",{staticClass:"price"},[t._v(t._s(t.decimalFormat(1/t.secondConfirmData.maxPrice,6)))]),t._v(" "),t.direct?e("div",{staticClass:"text"},[t._v("\n              "+t._s(t.secondConfirmData.toCoin.symbol)+" per "+t._s(t.secondConfirmData.fromCoin.symbol)+"\n            ")]):e("div",{staticClass:"text"},[t._v("\n              "+t._s(t.secondConfirmData.fromCoin.symbol)+" per "+t._s(t.secondConfirmData.toCoin.symbol)+"\n            ")]),t._v(" "),e("div",{staticClass:"note"},[t._v("\n              Your position will be 100% composed of "+t._s(t.secondConfirmData.fromCoin.symbol)+" at this price\n            ")])]),t._v(" "),e("div",{staticClass:"price-item"},[e("div",{staticClass:"title"},[t._v("Max Price")]),t._v(" "),t.direct?e("p",{staticClass:"price"},[t._v("\n              "+t._s(t.secondConfirmData.maxPrice.indexOf("∞")>-1?"∞":t.decimalFormat(t.secondConfirmData.maxPrice,6))+"\n            ")]):e("p",{staticClass:"price"},[t._v("\n              "+t._s(t.secondConfirmData.maxPrice.indexOf("∞")>-1?"∞":t.decimalFormat(1/t.secondConfirmData.minPrice,6))+"\n            ")]),t._v(" "),t.direct?e("div",{staticClass:"text"},[t._v("\n              "+t._s(t.secondConfirmData.toCoin.symbol)+" per "+t._s(t.secondConfirmData.fromCoin.symbol)+"\n            ")]):e("div",{staticClass:"text"},[t._v("\n              "+t._s(t.secondConfirmData.fromCoin.symbol)+" per "+t._s(t.secondConfirmData.toCoin.symbol)+"\n            ")]),t._v(" "),e("div",{staticClass:"note"},[t._v("\n              Your position will be 100% composed of "+t._s(t.secondConfirmData.toCoin.symbol)+" at this price\n            ")])])])]),t._v(" "),"Add Liquidity"!==t.title?e("div",{staticClass:"add-liquidity-form-box"},[e("AddLiquidityForm",{attrs:{"default-from-coin":t.secondConfirmData.fromCoin,"default-to-coin":t.secondConfirmData.toCoin,"show-from-coin-lock":t.secondConfirmData.showFromCoinLock,"show-to-coin-lock":t.secondConfirmData.showToCoinLock,"current-data":t.secondConfirmData},on:{onChange:t.addFormChanged,onChangeInsufficientBalance:t.onChangeInsufficientBalance,onChangeNoEnterAmount:t.onChangeNoEnterAmount}})],1):t._e(),t._v(" "),"Add Liquidity"!==t.title?e("button",{staticClass:"add-btn",attrs:{disabled:t.isDisabled||t.insufficientBalance},on:{click:t.toAdd}},[t._v("\n        "+t._s(t.noEnterAmount?"Enter an amount":t.insufficientBalance?"Insufficient balance":"Add")+"\n      ")]):e("button",{staticClass:"add-btn",on:{click:t.toAdd}},[t._v("Add")])])]),t._v(" "),t.showSetting?e("Setting",{on:{onClose:function(){return t.showSetting=!1}}}):t._e()],1)}),[],!1,null,null,null);o.default=component.exports;installComponents(component,{StatusBlock:e(1810).default,AddLiquidityForm:e(1930).default,Setting:e(1811).default})},2179:function(t,o,e){"use strict";e(2011)},2180:function(t,o,e){var n=e(101),r=e(881),c=e(893),l=e(947),d=n(!1),f=r(c),m=r(l);d.push([t.i,".gradient-btn-large[data-v-aa7dfff6]{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:2px solid rgba(232,228,255,.5);color:#fff}.gradient-btn-large[data-v-aa7dfff6]:hover{background:linear-gradient(268deg,#74ffe8,#7592ff 39%,#a08fff 74%,#e89aff)}.gradient-btn-large[data-v-aa7dfff6]:disabled{border:2px solid rgba(232,228,255,.1);cursor:not-allowed}.gradient-btn-large[data-v-aa7dfff6]:disabled,.gradient-btn-large[data-v-aa7dfff6]:disabled:hover{background:hsla(0,0%,100%,.1)}.new-gradient-btn-large[data-v-aa7dfff6]{width:100%;height:56px;box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:16px;margin-top:20px}.farm-btn-small[data-v-aa7dfff6],.new-gradient-btn-large[data-v-aa7dfff6]{background:linear-gradient(180deg,#e4e2fe,#2881f2);padding:1px}.farm-btn-small[data-v-aa7dfff6]{line-height:1;height:40px;border-radius:6px;border:none}.farm-btn-small div[data-v-aa7dfff6]{text-align:center;border-radius:6px;font-size:14px;font-weight:400;color:#fff;background:linear-gradient(268deg,#5fe6d0,#597bff 38%,#9380ff 72%,#e590ff)}.farm-btn-small div[data-v-aa7dfff6]:hover{background:linear-gradient(270deg,#93ffed,#84caff 34%,#a291ff 68%,#efb9ff)}.pool-container[data-v-aa7dfff6]{width:100%;padding-bottom:100px}.pool-container .pool-body[data-v-aa7dfff6]{width:996px;background:linear-gradient(214deg,#3e434e,#23262b);box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:30px;border:1px solid #3f434e;margin:0 auto;padding:22px 20px}.pool-container .pool-body>.top[data-v-aa7dfff6]{display:flex;justify-content:space-between}.pool-container .pool-body>.top>.title[data-v-aa7dfff6]{font-size:20px;color:#fff}.pool-container .pool-body>.top>.right[data-v-aa7dfff6]{display:flex;align-items:center}.pool-container .pool-body>.top>.right .clear-all[data-v-aa7dfff6]{font-size:14px;color:hsla(0,0%,100%,.5);margin-right:0}.pool-container .pool-body>.top>.right .clear-all[data-v-aa7dfff6]:hover{color:#fff}.pool-container .pool-body>.top>.right .coin-tab[data-v-aa7dfff6]{font-size:12px;margin-left:10px;font-weight:700}.pool-container .pool-body>.top>.right .set-icon-container[data-v-aa7dfff6]{margin-left:10px}.pool-container .pool-body .pool-content[data-v-aa7dfff6]{display:flex;justify-content:space-between;margin-top:24px}.pool-container .pool-body .pool-content>div[data-v-aa7dfff6]{width:460px}.pool-container .pool-body .pool-content .price-box[data-v-aa7dfff6]{display:flex;align-items:center;justify-content:space-between}.pool-container .pool-body .pool-content .price-box .right[data-v-aa7dfff6]{font-weight:700;display:flex;align-items:center}.pool-container .pool-body .pool-content .price-box .right .ant-progress[data-v-aa7dfff6]{margin-left:4px;margin-bottom:3px}.pool-container .pool-body .pool-content .form-box[data-v-aa7dfff6]{margin-top:12px}.pool-container .pool-body .pool-content .form-box .add-icon[data-v-aa7dfff6]{display:flex;align-items:center;justify-content:center;padding:11px 0}.pool-container .pool-body .pool-content .form-box .add-icon a[data-v-aa7dfff6]{display:block;width:48px;height:48px;background-position:50%;background-repeat:no-repeat;background-size:100% 100%;background-image:url("+f+");box-shadow:0 4px 12px 0 rgba(26,28,31,.5)}.pool-container .pool-body .pool-content .form-box .add-icon a[data-v-aa7dfff6]:hover{background-image:url("+m+")}.pool-container .pool-body .pool-content .fee-tier-box[data-v-aa7dfff6]{margin-top:10px}.pool-container .pool-body .pool-content .add-liquidity-btn[data-v-aa7dfff6]{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:2px solid rgba(232,228,255,.5);color:#fff;margin-top:16px}.pool-container .pool-body .pool-content .add-liquidity-btn[data-v-aa7dfff6]:hover{background:linear-gradient(268deg,#74ffe8,#7592ff 39%,#a08fff 74%,#e89aff)}.pool-container .pool-body .pool-content .add-liquidity-btn[data-v-aa7dfff6]:disabled{border:2px solid rgba(232,228,255,.1);background:hsla(0,0%,100%,.1);cursor:not-allowed}.pool-container .pool-body .pool-content .add-liquidity-btn[data-v-aa7dfff6]:disabled:hover{background:hsla(0,0%,100%,.1)}.pool-container .set-price-range-chart-box[data-v-aa7dfff6]{width:100%;display:flex;justify-content:center}.pool-container .set-price-range-chart-box>img[data-v-aa7dfff6]{height:200px}.pool-container .link-block[data-v-aa7dfff6]{display:flex;align-items:center;justify-content:center;margin-bottom:20px}.pool-container .link-block>a[data-v-aa7dfff6]{width:150px;height:32px;border:1px solid hsla(0,0%,100%,.1);border-radius:8px;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer}.pool-container .link-block>a img[data-v-aa7dfff6]{width:32px;height:32px}.pool-container .link-block>a[data-v-aa7dfff6]:hover{color:#fff}.pool-container .link-block>a:hover svg[data-v-aa7dfff6]{fill:#fff}@media screen and (max-width:750px){.pool-container .link-block[data-v-aa7dfff6]{margin-top:20px}.pool-container .pool-body[data-v-aa7dfff6]{width:100%;margin-top:20px;padding:20px 10px}.pool-container .pool-body .top[data-v-aa7dfff6]{display:block}.pool-container .pool-body .top .right[data-v-aa7dfff6]{justify-content:flex-end}.pool-container .pool-body .pool-content[data-v-aa7dfff6]{display:block}.pool-container .pool-body .pool-content>div[data-v-aa7dfff6]{width:100%}.pool-container .set-price-range-chart-box[data-v-aa7dfff6]{display:block;overflow:hidden;margin-top:20px}}",""]),t.exports=d},2281:function(t,o,e){"use strict";e.r(o);e(1892);var progress=e(1893),n=e.n(progress),r=(e(496),e(338)),c=e.n(r),l=(e(67),e(36),e(334),e(390),e(499),e(1798),e(65),e(77),e(89),e(120),e(630),e(185),e(169)),d=e(110),f=e(66),m=e(2265),h=e(83),x=e(1895),v=e(1849),C=e(119),y=e(609),k=e(189),w=e(9),_=e.n(w),A=e(0),S=e(43),P=function(t,o,e,n){return new(e||(e=Promise))((function(r,c){function l(t){try{f(n.next(t))}catch(t){c(t)}}function d(t){try{f(n.throw(t))}catch(t){c(t)}}function f(t){var o;t.done?r(t.value):(o=t.value,o instanceof e?o:new e((function(t){t(o)}))).then(l,d)}f((n=n.apply(t,o||[])).next())}))},T=Object(h.g)("USDT"),j=Object(h.g)("USDC"),I=l.Vue.extend({components:{Button:c.a,Progress:n.a},data:function(){return{showAddLiquidity:!0,tokenList:[],fromCoin:T,toCoin:j,defaultFromCoin:T,defaultToCoin:j,showSetting:!1,showWaitingHint:!1,showSuccessHint:!1,currentCoinKey:"fromCoin",toCoinRate:0,showCoinSelect:!1,fixedFromCoin:!0,fromCoinAmount:"",toCoinAmount:"",direction:!0,suppling:!1,minPrice:"",maxPrice:"",defaultMinPrice:"",defaultMaxPrice:"",showFromCoinLock:!1,showToCoinLock:!1,deltaLiquity:0,showAddLiquiditySecondConfirm:!1,secondConfirmData:{},existingCoins:"",lastSelectCoin:"",currentPriceIsLoading:!0,coinTabList:[],currentCoinTab:"",currentFeeTier:0,ifFirstDirectionChange:!1}},computed:Object.assign(Object.assign({},Object(d.e)(["wallet","farm","url","liquidity"])),{addLiquidityBtnText:function(){return console.log("this.minPrice#####",this.minPrice),console.log("this.maxPrice#####",this.maxPrice),this.fromCoin||this.toCoin?this.poolInfo?this.noEnterAmount?"Enter an amount":"∞"!==this.maxPrice&&Number(Object(f.d)(this.minPrice,4))>=Number(Object(f.d)(this.maxPrice,4))?"Invalid Range":this.insufficientBalance?"Insufficient balance":"Add Liquidity":"Pool not found":"Select a token"},poolInfo:function(){var t=this;return Object.values(this.$accessor.liquidity.infos).find((function(p){var o,e,n,r;return p.coin.symbol===(null===(o=t.fromCoin)||void 0===o?void 0:o.symbol)&&p.pc.symbol===(null===(e=t.toCoin)||void 0===e?void 0:e.symbol)||p.coin.symbol===(null===(n=t.toCoin)||void 0===n?void 0:n.symbol)&&p.pc.symbol===(null===(r=t.fromCoin)||void 0===r?void 0:r.symbol)}))},fromCoinBalance:function(){var t;return this.fromCoin&&this.fromCoin.mintAddress&&this.wallet.tokenAccounts&&(null===(t=this.wallet.tokenAccounts[this.fromCoin.mintAddress])||void 0===t?void 0:t.balance)||0},toCoinBalance:function(){var t;return this.toCoin&&this.toCoin.mintAddress&&this.wallet.tokenAccounts&&(null===(t=this.wallet.tokenAccounts[this.toCoin.mintAddress])||void 0===t?void 0:t.balance)||0},insufficientBalance:function(){var t=this.fromCoinBalance&&this.fromCoinBalance.fixed()||"0",o=this.toCoinBalance&&this.toCoinBalance.fixed()||"0",e=Object(C.b)(Number(this.$data.fromCoinAmount),Number(t)),n=Object(C.b)(Number(this.$data.toCoinAmount),Number(o)),r=this.showFromCoinLock,c=this.showToCoinLock;return!(r&&!c&&!n)&&(!(c&&!r&&!e)&&!!(r||c||e||n))},noEnterAmount:function(){var t=Number(this.fromCoinAmount),o=Number(this.toCoinAmount),e=this.showFromCoinLock,n=this.showToCoinLock;return!(!e||n||o)||(!(!n||e||t)||!(e||n||t&&o))},isDisabled:function(){var t=Object(C.b)(this.$data.toCoinAmount,this.$data.toCoin&&this.$data.toCoin.balance&&this.$data.toCoin.balance.fixed()),o=Object(C.b)(this.$data.fromCoinAmount,this.$data.fromCoin&&this.$data.fromCoin.balance&&this.$data.fromCoin.balance.fixed());return this.$data.showFromCoinLock&&this.$data.toCoinAmount&&this.$data.toCoin?t||!1:this.$data.showToCoinLock&&this.$data.fromCoinAmount&&this.$data.fromCoin?o||!1:!this.$data.toCoinAmount||!this.$data.fromCoinAmount||o},invalidPriceRange:function(){return Number(this.minPrice)>Number(this.maxPrice)}}),watch:{"wallet.tokenAccounts":{handler:function(t,o){this.updateCoinInfo(t)},deep:!0},poolInfo:{handler:"poolInfoWatch",immediate:!0},fromCoinAmount:function(t,o){var e=this;this.$nextTick((function(){v.b.test(Object(v.a)(t))?t?e.fixedFromCoin&&e.poolInfo&&e.updateAmounts():e.toCoinAmount="":e.fromCoinAmount=o}))},toCoinAmount:function(t,o){var e=this;this.$nextTick((function(){v.b.test(Object(v.a)(t))?!e.fixedFromCoin&&e.poolInfo&&e.updateAmounts():e.toCoinAmount=o}))},minPrice:function(t){t&&this.updateAmounts()},maxPrice:function(t){t&&this.updateAmounts()},direction:function(t){if(""!==this.minPrice&&""!==this.maxPrice&&"0"!==this.minPrice&&"∞"!==this.maxPrice){var o=this.minPrice,e=this.maxPrice;this.ifFirstDirectionChange&&t||(this.minPrice=String(1/Number(e)),this.maxPrice=String(1/Number(o)));var n=this.defaultMinPrice,r=this.defaultMaxPrice;this.defaultMinPrice=String(1/Number(r)),this.defaultMaxPrice=String(1/Number(n)),this.ifFirstDirectionChange=!1}},$route:{handler:"routeWatch",immediate:!0}},created:function(){this.$accessor.liquidity.getPoolsDefaultPriceRange()},mounted:function(){this.updateCoinInfo(this.wallet.tokenAccounts)},methods:{gt:C.b,fixD:f.d,decimalFormat:f.c,checkNullObj:f.b,refresh:function(){this.$accessor.liquidity.requestInfos()},poolInfoWatch:function(t,o){var e,n;if(t){if(!o||o.name!==t.name){this.ifFirstDirectionChange=!0;var r=!0;if(r=t.coin.symbol===(null===(e=this.fromCoin)||void 0===e?void 0:e.symbol)&&t.pc.symbol===(null===(n=this.toCoin)||void 0===n?void 0:n.symbol),this.direction=r,this.liquidity.poolsDefaultPriceRangeObj[t.coinPair]){var c=this.liquidity.poolsDefaultPriceRangeObj[t.coinPair].price_interval,l=Object(k.getNearestTickByPrice)(new _.a(c.lower_price),t.tick_space),d=Object(k.getNearestTickByPrice)(new _.a(c.upper_price),t.tick_space);this.minPrice=Object(k.tick2Price)(l).toString(),this.maxPrice=Object(k.tick2Price)(d).toString(),this.defaultMinPrice=Object(k.tick2Price)(l).toString(),this.defaultMaxPrice=Object(k.tick2Price)(d).toString()}else{var f=Object(k.getNearestTickByPrice)(new _.a(t.currentPriceView),t.tick_space),m=f-t.tick_space,h=f+t.tick_space,x=Object(k.tick2Price)(m).toString(),v=Object(k.tick2Price)(h).toString();this.minPrice=x,this.maxPrice=v,this.defaultMinPrice=x,this.defaultMaxPrice=v}.01===t.feeView?this.currentFeeTier=0:.3===t.feeView?this.currentFeeTier=1:this.currentFeeTier=2,this.coinTabList=[t.coin.symbol,t.pc.symbol],this.currentCoinTab=r?t.coin.symbol:t.pc.symbol}this.updateAmounts()}else this.currentFeeTier=100,this.minPrice="",this.maxPrice="",this.showFromCoinLock=!1,this.showToCoinLock=!1},routeWatch:function(t,o){t&&t.query&&(t.query.from&&(this.fromCoin=Object(h.g)(t.query.from)),t.query.to&&(this.toCoin=Object(h.g)(t.query.to)))},changeDirection:function(t){this.changeCoinPosition(),this.currentCoinTab=t},openAddLiquiditySecondConfirm:function(){var t=Number(Math.pow(Number(this.poolInfo.current_price)/Math.pow(10,12),2)),o=this.direction?t:1/t,e="Active";this.deltaLiquity?o>=Number(this.minPrice)&&o<=Number(this.maxPrice)?e="Active":(o>Number(this.maxPrice)||o<Number(this.minPrice))&&(e="Inactive"):e="Closed",this.secondConfirmData={fromCoin:this.fromCoin,toCoin:this.toCoin,fromCoinAmount:this.fromCoinAmount,toCoinAmount:this.toCoinAmount,currentPrice:t,minPrice:this.minPrice,maxPrice:this.maxPrice,showFromCoinLock:this.showFromCoinLock,showToCoinLock:this.showToCoinLock,currentStatus:e,feeTier:this.poolInfo.feeView+"%"},this.showAddLiquiditySecondConfirm=!0},closeAddLiquiditySecondConfirm:function(){this.secondConfirmData={},this.showAddLiquiditySecondConfirm=!1},priceRangeChangeMin:function(t){this.minPrice=t},priceRangeChangeMax:function(t){this.maxPrice=t},updateCoinInfo:function(t){if(this.fromCoin){var o=t[this.fromCoin.mintAddress];o&&(this.fromCoin=Object.assign(Object.assign({},this.fromCoin),o))}if(this.toCoin){var e=t[this.toCoin.mintAddress];e&&(this.toCoin=Object.assign(Object.assign({},this.toCoin),e))}},updateAmounts:function(){var t,o,e,n,r,c,l,d,m,h,x,v,y,w,T;return P(this,void 0,void 0,regeneratorRuntime.mark((function P(){var j,I,O,N,L,M,B,D,$,z,F,V,W,E,R,K,U,H,X,Y,J,Z,G,Q,tt;return regeneratorRuntime.wrap((function(P){for(;;)switch(P.prev=P.next){case 0:if(this.poolInfo){P.next=2;break}return P.abrupt("return");case 2:if(this.fromCoinAmount||this.toCoinAmount||this.minPrice||this.maxPrice){P.next=4;break}return P.abrupt("return");case 4:return P.next=6,new k.TokenSwap(this.$web3,new A.PublicKey(S.e),this.poolInfo.tokenSwap,null).load();case 6:if(j=P.sent,I=this.direction?this.poolInfo.currentPriceView:this.poolInfo.currentPriceViewReverse,O=0,N=this.minPrice,L=this.maxPrice,M=0,B=0,z=this.fixedFromCoin?(null===(t=this.fromCoin)||void 0===t?void 0:t.symbol)===this.poolInfo.coin.symbol&&(null===(o=this.toCoin)||void 0===o?void 0:o.symbol)===this.poolInfo.pc.symbol?0:1:(null===(e=this.toCoin)||void 0===e?void 0:e.symbol)===this.poolInfo.coin.symbol&&(null===(n=this.fromCoin)||void 0===n?void 0:n.symbol)===this.poolInfo.pc.symbol?0:1,"0"===N&&"∞"===L?(D=-443632,$=443632):(console.log("pool###updateAmounts###this.direction####",this.direction),console.log("pool###updateAmounts###direction####",z),0===z?(M=Number(N),B=Number(L)):(M=1/Number(L),B=1/Number(N)),(null===(r=this.fromCoin)||void 0===r?void 0:r.decimals)===(null===(c=this.toCoin)||void 0===c?void 0:c.decimals)?(console.log("走到这里了吗####currentPriceP#####",I),console.log("走到这里了吗####minPrice#####",M),console.log("走到这里了吗####maxPrice#####",B),O=Object(k.price2Tick)(new _.a(I)),D=Object(k.getNearestTickByPrice)(new _.a(M),this.poolInfo.tick_space),$=Object(k.getNearestTickByPrice)(new _.a(B),this.poolInfo.tick_space)):(F=(null===(l=this.poolInfo.coin)||void 0===l?void 0:l.decimals)-(null===(d=this.poolInfo.pc)||void 0===d?void 0:d.decimals),V=(null===(m=this.poolInfo.pc)||void 0===m?void 0:m.decimals)-(null===(h=this.poolInfo.coin)||void 0===h?void 0:h.decimals),console.log("f_t#####",F),console.log("t_f#####",V),O=Object(k.price2Tick)(new _.a(I*Math.pow(10,V))),D=Object(k.getNearestTickByPrice)(new _.a(M*Math.pow(10,V)),this.poolInfo.tick_space),$=Object(k.getNearestTickByPrice)(new _.a(B*Math.pow(10,V)),this.poolInfo.tick_space))),!("∞"!==L&&D>=$)){P.next=21;break}return this.showFromCoinLock=!0,this.fromCoinAmount="",this.showToCoinLock=!0,this.toCoinAmount="",P.abrupt("return");case 21:console.log("currentPriceTick######",O),console.log("tick_lower#####",D),console.log("tick_upper#####",$),console.log("min#####",N),console.log("max#####",L),"∞"===L||Number(I)>Number(N)&&Number(I)<Number(L)?(W=this.fixedFromCoin?new C.a(Object(f.d)(this.fromCoinAmount,2),null===(x=this.fromCoin)||void 0===x?void 0:x.decimals,!1).wei.toNumber():new C.a(Object(f.d)(this.toCoinAmount,2),null===(v=this.toCoin)||void 0===v?void 0:v.decimals,!1).wei.toNumber(),console.log("tick_lower####",D),console.log("tick_upper####",$),console.log("coinAmount#####",W),console.log("swap.tokenSwapInfo.currentSqrtPrice####",j.tokenSwapInfo.currentSqrtPrice.toNumber()),console.log("direction####",z),E=Object(k.calculateLiquity)(D,$,new _.a(W),j.tokenSwapInfo.currentSqrtPrice,z),R=E.desiredAmountDst,K=E.deltaLiquity,U=R.toNumber(),H=K.toNumber(),console.log("delta_liquity#####",H),this.showFromCoinLock=!1,this.showToCoinLock=!1,X=(null===(y=this.toCoin)||void 0===y?void 0:y.decimals)||6,this.fixedFromCoin?(Y=Object(f.d)(Math.abs(U)/Math.pow(10,X),X)||"0",this.toCoinAmount="--"===Y?"":Y):(J=Object(f.d)(Math.abs(U)/Math.pow(10,X),X)||"0",this.fromCoinAmount="--"===J?"":J),this.deltaLiquity=H):Number(I)>=Number(L)?(Z=new C.a(Object(f.d)(this.toCoinAmount,2),null===(w=this.toCoin)||void 0===w?void 0:w.decimals,!1).wei.toNumber(),G=Object(k.calculateLiquityOnlyB)(D,$,new _.a(Z)),this.showFromCoinLock=!0,this.fromCoinAmount="",this.showToCoinLock=!1,this.deltaLiquity=G.toString()):Number(I)<=Number(N)?(Q=new C.a(Object(f.d)(this.fromCoinAmount,2),null===(T=this.fromCoin)||void 0===T?void 0:T.decimals,!1).wei.toNumber(),tt=Object(k.calculateLiquityOnlyA)(D,$,new _.a(Q)),this.showFromCoinLock=!1,this.showToCoinLock=!0,this.toCoinAmount="",this.deltaLiquity=tt.toString()):(this.showFromCoinLock=!0,this.fromCoinAmount="",this.showToCoinLock=!0,this.toCoinAmount="");case 27:case"end":return P.stop()}}),P,this)})))},openCoinSelect:function(t){var o,e,n,r;this.currentCoinKey=t,"fromCoin"===t?(this.existingCoins=(null===(o=this.toCoin)||void 0===o?void 0:o.symbol)||"",this.lastSelectCoin=(null===(e=this.fromCoin)||void 0===e?void 0:e.symbol)||""):(this.existingCoins=(null===(n=this.fromCoin)||void 0===n?void 0:n.symbol)||"",this.lastSelectCoin=(null===(r=this.toCoin)||void 0===r?void 0:r.symbol)||""),this.showCoinSelect=!0},checkIsHaveCoinPair:function(t,o){for(var i=0;i<y.a.length;i++){var e=y.a[i].coinPair;if("".concat(t,"-").concat(o)===e||"".concat(o,"-").concat(t)===e)return!0}return!1},onCoinSelect:function(t){var o,e,n,r;"fromCoin"===this.currentCoinKey?(t.symbol!==(null===(o=this.toCoin)||void 0===o?void 0:o.symbol)&&this.checkIsHaveCoinPair(t.symbol,null===(e=this.toCoin)||void 0===e?void 0:e.symbol)||(this.toCoin=null),this.fromCoin=t):(t.symbol!==(null===(n=this.fromCoin)||void 0===n?void 0:n.symbol)&&this.checkIsHaveCoinPair(t.symbol,null===(r=this.fromCoin)||void 0===r?void 0:r.symbol)||(this.fromCoin=null),this.toCoin=t),this.showCoinSelect=!1},maxBtnSelect:function(t){var o,e;"fromCoin"===t?(this.fixedFromCoin=!0,this.fromCoinAmount=this.fromCoin&&this.fromCoin.balance?"SOL"!==this.fromCoin.symbol?this.fromCoin.balance.fixed():String(Number(this.fromCoin.balance.fixed())-.05):"0"):(this.fixedFromCoin=!1,this.toCoinAmount=(null===(e=null===(o=this.toCoin)||void 0===o?void 0:o.balance)||void 0===e?void 0:e.fixed())||"")},changeCoinPosition:function(){this.direction=!this.direction;var t=this.fromCoin,o=this.toCoin;this.fromCoin=o,this.toCoin=t;var e=this.fromCoinAmount,n=this.toCoinAmount;this.fromCoinAmount=n,this.toCoinAmount=e,this.currentCoinTab=this.direction?this.poolInfo.coin.symbol:this.poolInfo.pc.symbol},supply:function(){var t,o,e,n,r,c,l,d,h,v;return P(this,void 0,void 0,regeneratorRuntime.mark((function C(){var y,w,P,T,j,I,O,N,L,M,B,D,$,z,F,V,W,E=this;return regeneratorRuntime.wrap((function(C){for(;;)switch(C.prev=C.next){case 0:return this.suppling=!0,y=this.$web3,w=this.$wallet,P=Object.values(this.$accessor.liquidity.infos).find((function(p){var t,o,e,n;return p.coin.symbol===(null===(t=E.fromCoin)||void 0===t?void 0:t.symbol)&&p.pc.symbol===(null===(o=E.toCoin)||void 0===o?void 0:o.symbol)||p.coin.symbol===(null===(e=E.toCoin)||void 0===e?void 0:e.symbol)&&p.pc.symbol===(null===(n=E.fromCoin)||void 0===n?void 0:n.symbol)})),T=Object(m.a)(this.wallet.tokenAccounts,"".concat(this.fromCoin.mintAddress,".tokenAccountAddress")),j=Object(m.a)(this.wallet.tokenAccounts,"".concat(this.toCoin.mintAddress,".tokenAccountAddress")),I="string"==typeof T?new A.PublicKey(T):T,O="string"==typeof T?new A.PublicKey(j):j,Object(f.e)().toString(),N=this.fixedFromCoin?(null===(t=this.fromCoin)||void 0===t?void 0:t.symbol)===this.poolInfo.coin.symbol&&(null===(o=this.toCoin)||void 0===o?void 0:o.symbol)===this.poolInfo.pc.symbol?0:1:(null===(e=this.toCoin)||void 0===e?void 0:e.symbol)===this.poolInfo.coin.symbol&&(null===(n=this.fromCoin)||void 0===n?void 0:n.symbol)===this.poolInfo.pc.symbol?0:1,"0"===this.minPrice&&"∞"===this.maxPrice?(L=-443632,M=443632):(B=(null===(r=this.fromCoin)||void 0===r?void 0:r.decimals)-(null===(c=this.toCoin)||void 0===c?void 0:c.decimals),D=(null===(l=this.toCoin)||void 0===l?void 0:l.decimals)-(null===(d=this.fromCoin)||void 0===d?void 0:d.decimals),console.log("supply####f_t####",B),console.log("supply####t_f####",D),0===N?(L=Object(k.getNearestTickByPrice)(new _.a(this.minPrice*Math.pow(10,D)),P.tick_space),M=Object(k.getNearestTickByPrice)(new _.a(this.maxPrice*Math.pow(10,D)),P.tick_space)):(L=Object(k.getNearestTickByPrice)(new _.a(1/Number(this.maxPrice)*Math.pow(10,B)),P.tick_space),M=Object(k.getNearestTickByPrice)(new _.a(1/Number(this.minPrice)*Math.pow(10,B)),P.tick_space))),this.fromCoinAmount&&($=Number(this.fromCoinAmount)*(1+Number(this.$accessor.slippage)/100)),this.toCoinAmount&&(z=Number(this.toCoinAmount)*(1+Number(this.$accessor.slippage)/100)),C.next=15,new k.TokenSwap(this.$web3,new A.PublicKey(S.e),this.poolInfo.tokenSwap,null).load();case 15:F=C.sent,V=Object(k.calculateSlidTokenAmount)(L,M,new _.a(this.deltaLiquity),F.tokenSwapInfo.currentSqrtPrice,new _.a(Number(this.$accessor.slippage)/100)),$=Object(f.d)(V.maxAmountA.toString(),0),z=Object(f.d)(V.maxAmountB.toString(),0),console.log("fromCoinAmount####",$),console.log("fromCoinAmount####",z),console.log("this.$accessor.slippage####",this.$accessor.slippage),console.log("test123####",V),this.$accessor.transaction.setTransactionDesc("Add liquidity  ".concat(this.fromCoinAmount&&this.fromCoinAmount," ").concat(this.fromCoinAmount&&(null===(h=this.fromCoin)||void 0===h?void 0:h.symbol)," ").concat(this.fromCoinAmount&&this.toCoinAmount?"and":""," ").concat(this.toCoinAmount&&this.toCoinAmount," ").concat(this.toCoinAmount&&(null===(v=this.toCoin)||void 0===v?void 0:v.symbol))),this.$accessor.transaction.setShowWaiting(!0),W=Object(f.d)(this.deltaLiquity,0),Object(x.a)(y,w,P,this.direction?this.fromCoin:this.toCoin,this.direction?this.toCoin:this.fromCoin,this.direction?I:O,this.direction?O:I,null,null,L,M,Object(f.d)(W,0),$,z,0,this.fromCoinBalance.wei.toNumber(),this.toCoinBalance.wei.toNumber()).then((function(t){var o,e,n="Add liquidity  ".concat(E.fromCoinAmount&&E.fromCoinAmount," ").concat(E.fromCoinAmount&&(null===(o=E.fromCoin)||void 0===o?void 0:o.symbol),"  ").concat(E.fromCoinAmount&&E.toCoinAmount?"and":""," ").concat(E.toCoinAmount&&E.toCoinAmount," ").concat(E.toCoinAmount&&(null===(e=E.toCoin)||void 0===e?void 0:e.symbol)," to the pool");E.$accessor.transaction.sub({txid:t,description:n,type:"Add liquidity"}),E.$accessor.transaction.setShowSubmitted(!0),setTimeout((function(){E.$accessor.liquidity.requestInfos()}),2e3)})).catch((function(t){console.log("err###",t),E.$accessor.transaction.setShowSubmitted(!1)})).finally((function(){E.suppling=!1,E.fromCoinAmount="",E.toCoinAmount=""}));case 27:case"end":return C.stop()}}),C,this)})))},clearAll:function(){this.fromCoin=null,this.toCoin=null,this.minPrice="0",this.maxPrice="0",this.currentCoinTab="",this.currentFeeTier=-1,this.fromCoinAmount="",this.toCoinAmount=""}}}),O=(e(2179),e(103)),component=Object(O.a)(I,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"pool-container"},[t.wallet.connected?n("div",{staticClass:"link-block"},[n("nuxt-link",{attrs:{to:"/position"}},[n("img",{attrs:{src:e(951)}}),t._v(" "),n("span",[t._v("My Position")])])],1):t._e(),t._v(" "),n("div",{staticClass:"pool-body"},[n("div",{staticClass:"top"},[t._m(0),t._v(" "),n("div",{staticClass:"right"},[n("a",{staticClass:"clear-all",on:{click:t.clearAll}},[t._v("Clear All")]),t._v(" "),t.fromCoin&&t.toCoin?n("CoinTab",{attrs:{list:t.coinTabList,current:t.currentCoinTab},on:{onChange:t.changeDirection}}):t._e(),t._v(" "),n("RefreshIcon",{attrs:{loading:t.liquidity.loading},on:{refresh:t.refresh}}),t._v(" "),n("SetIcon")],1)]),t._v(" "),n("div",{staticClass:"pool-content"},[n("div",{staticClass:"left"},[t.poolInfo?n("div",{staticClass:"price-box"},[n("span",[t._v("Current Price")]),t._v(" "),t.fromCoin&&t.toCoin?n("div",{staticClass:"right"},[t.direction?n("div",[t._v("\n              1 "+t._s(t.fromCoin.symbol)+" ≈ "+t._s(t.decimalFormat(t.poolInfo.currentPriceView,t.toCoin.decimals))+"\n              "+t._s(t.toCoin.symbol)+"\n            ")]):n("div",[t._v("\n              1 "+t._s(t.fromCoin.symbol)+" ≈ "+t._s(t.decimalFormat(t.poolInfo.currentPriceViewReverse,t.toCoin.decimals))+"\n              "+t._s(t.toCoin.symbol)+"\n            ")]),t._v(" "),n("Progress",{class:t.liquidity.loading?"disabled":"",attrs:{type:"circle",width:14,"stroke-width":10,percent:100/t.liquidity.autoRefreshTime*t.liquidity.countdown,"show-info":!1},on:{click:t.refresh}})],1):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"form-box"},[n("CoinBlock",{attrs:{"coin-name":t.fromCoin?t.fromCoin.symbol:null,balance:t.fromCoinBalance||null,"show-lock":t.showFromCoinLock},on:{onInput:function(o){return t.fromCoinAmount=o},onFocus:function(){t.fixedFromCoin=!0},onSelect:function(o){return t.openCoinSelect("fromCoin")},onMax:function(o){return t.maxBtnSelect("fromCoin")}},model:{value:t.fromCoinAmount,callback:function(o){t.fromCoinAmount=o},expression:"fromCoinAmount"}}),t._v(" "),n("div",{staticClass:"add-icon"},[n("a",{on:{click:t.changeCoinPosition}})]),t._v(" "),n("CoinBlock",{attrs:{"coin-name":t.toCoin?t.toCoin.symbol:null,balance:t.toCoinBalance||null,"show-lock":t.showToCoinLock},on:{onInput:function(o){return t.toCoinAmount=o},onFocus:function(){t.fixedFromCoin=!1},onSelect:function(o){return t.openCoinSelect("toCoin")},onMax:function(o){return t.maxBtnSelect("toCoin")}},model:{value:t.toCoinAmount,callback:function(o){t.toCoinAmount=o},expression:"toCoinAmount"}})],1),t._v(" "),n("div",{staticClass:"fee-tier-box"},[n("FeeTier",{attrs:{current:t.currentFeeTier}})],1)]),t._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"set-price-range-chart-box"},[t.poolInfo&&!t.checkNullObj(t.poolInfo.userPositionAccountObj)?n("D3Chart",{attrs:{"pool-info":t.poolInfo,"min-price":t.minPrice,"max-price":t.maxPrice,direction:t.direction},on:{onChangeMinPrice:t.priceRangeChangeMin,onChangeMaxPrice:t.priceRangeChangeMax}}):n("img",{attrs:{src:e(949)}})],1),t._v(" "),t.poolInfo?n("div",{staticClass:"set-price-block-box"},[n("SetPriceBlock",{attrs:{min:t.minPrice,max:t.maxPrice,"from-coin":t.fromCoin,"to-coin":t.toCoin,direction:t.direction,"invalid-price-range":t.invalidPriceRange,"default-max-price":t.defaultMaxPrice,"tick-space":t.poolInfo.tick_space},on:{onChangeMinPrice:t.priceRangeChangeMin,onChangeMaxPrice:t.priceRangeChangeMax}})],1):t._e(),t._v(" "),t.wallet.connected?n("Button",{staticClass:"add-liquidity-btn",attrs:{disabled:!t.poolInfo||t.suppling||t.isDisabled||t.noEnterAmount||t.invalidPriceRange||t.insufficientBalance,loading:t.suppling},on:{click:t.openAddLiquiditySecondConfirm}},[t._v("\n          "+t._s(t.addLiquidityBtnText)+"\n        ")]):n("Button",{staticClass:"add-liquidity-btn",on:{click:t.$accessor.wallet.openModal}},[t._v("Connect Wallet")])],1)])]),t._v(" "),t.showCoinSelect?n("CoinSelect",{attrs:{"existing-coins":t.existingCoins,"last-select-coin":t.lastSelectCoin},on:{onClose:function(){return t.showCoinSelect=!1},onSelect:t.onCoinSelect}}):t._e(),t._v(" "),t.showAddLiquiditySecondConfirm?n("AddLiquidityConfirm",{attrs:{"min-price":t.minPrice,"max-price":t.maxPrice,"second-confirm-data":t.secondConfirmData},on:{supply:t.supply,onClose:t.closeAddLiquiditySecondConfirm}}):t._e()],1)}),[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"c-title"},[e("span",[t._v("Concentrated Liquidity")])])}],!1,null,"aa7dfff6",null);o.default=component.exports;installComponents(component,{CoinTab:e(1860).default,RefreshIcon:e(1859).default,SetIcon:e(1833).default,CoinBlock:e(1832).default,FeeTier:e(2049).default,D3Chart:e(2050).default,SetPriceBlock:e(2051).default,CoinSelect:e(1836).default,AddLiquidityConfirm:e(2052).default})}}]);