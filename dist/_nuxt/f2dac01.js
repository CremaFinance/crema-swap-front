(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1161:function(e,t,n){var content=n(1180);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(39).default)("614f949a",content,!0,{sourceMap:!1})},1162:function(e,t,n){"use strict";n.r(t);n(1169);var o=n(1170),r=n.n(o),c=n(10).default.extend({components:{Tooltip:r.a},props:["currentStatus"]}),l=(n(1179),n(34)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Tooltip",{attrs:{overlayClassName:"customize-tooltip"}},[n("template",{slot:"title"},["Active"===e.currentStatus?n("div",{staticClass:"active-tooltip"},[e._v("\n      The price of this pool is currently within your position price range.\n    ")]):e._e(),e._v(" "),"Inactive"===e.currentStatus?n("div",{staticClass:"active-tooltip"},[e._v("\n      The price of this pool is currently out of your position price range.\n    ")]):e._e()]),e._v(" "),n("div",{staticClass:"deta-block-status"},["Closed"===e.currentStatus?n("div",[n("span",[e._v("Closed")])]):"Active"===e.currentStatus?n("div",[n("i",{staticClass:"circle"}),e._v(" "),n("span",[e._v(e._s(e.currentStatus))])]):n("div",[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-icon-tips"}})]),e._v(" "),n("span",[e._v(e._s(e.currentStatus))])])])],2)}),[],!1,null,"91b8062c",null);t.default=component.exports},1179:function(e,t,n){"use strict";n(1161)},1180:function(e,t,n){var o=n(38)(!1);o.push([e.i,".deta-block-status[data-v-91b8062c]{cursor:pointer;height:28px;justify-content:space-around;background:hsla(0,0%,100%,.1);border-radius:8px;text-align:center;padding:0 12px}.deta-block-status[data-v-91b8062c],.deta-block-status div[data-v-91b8062c]{display:flex;align-items:center}.deta-block-status .circle[data-v-91b8062c]{display:block;width:6px;height:6px;background:#00ff4d;border-radius:50%}.deta-block-status svg[data-v-91b8062c]{width:20px;height:20px;fill:#fff}.deta-block-status span[data-v-91b8062c]{font-size:14px;font-weight:700;margin-left:8px}@media screen and (max-width:750px){.coin-block .input-block input[data-v-91b8062c]{width:100px}}",""]),e.exports=o},1216:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return K})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return z}));n(208);var o=n(7),r=n(101),c=n(30),l=n(68),d=n(257),k=n(80),y=n(129),f=n(61),w=(n(50),n(207),n(102),n(60),n(25),n(89),n(150)),m=n.n(w),_=n(8),A=n(36),T=n.n(A),h=n(15),v=n(4),S=n(43),x=n(12),I=n(37),W=n(58),O=n(368);function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(y.a)(this,n)}}new v.Account([145,101,210,147,165,195,23,69,182,224,218,4,144,61,168,176,20,187,204,236,117,88,182,47,231,219,50,169,28,175,124,100,103,10,24,183,209,36,230,201,249,29,188,155,200,187,54,151,203,137,135,31,160,75,250,72,225,22,173,88,38,147,165,53]);var P=function(t){Object(k.a)(o,t);var n=B(o);function o(){return Object(c.a)(this,o),n.apply(this,arguments)}return Object(l.a)(o,[{key:"toBuffer",value:function(){var a=Object(d.a)(Object(f.a)(o.prototype),"toArray",this).call(this).reverse(),b=e.from(a);if(16===b.length)return b;m()(b.length<16,"Numberu128 too large");var t=e.alloc(16);return b.copy(t),t}}],[{key:"fromBuffer",value:function(e){return m()(16===e.length,"Invalid buffer length: ".concat(e.length)),new o(Object(r.a)(e).reverse().map((function(i){return"00".concat(i.toString(16)).slice(-2)})).join(""),16)}}]),o}(T.a);_.struct([h.b("nft_token_id"),_.s32("lower_tick"),_.s32("upper_tick"),h.c("liquity"),h.c("fee_growth_inside_a_last"),h.c("fee_growth_inside_b_last"),h.c("token_a_fee"),h.c("token_b_fee")]);function j(e,t){for(var i=0;i<t.length;i++)for(var n=t[i].user_positions.length,o=t[i].pubkey,r=t[i].user_positions,c=0;c<n;c++)if(r[c].nft_token_id.equals(e))return console.log("there already exist deposit user ",e.toString()),{index:c,user_position_pubkey:o};return{index:0}}function L(e){for(var i=0;i<e.length;i++){if(e[i].user_positions.length<36e4)return e[i].pubkey}return null}function K(e,t,n,o,r,c,l,d,k,y,f,w,m,_,A){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(regeneratorRuntime.mark((function e(t,n,o,r,c,l,d,k,y,f,w,m,_,A,T){var h,B,P,K,N,M,R,E,z,J,$,D,F,G,H,Q,U,V,X;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("addLiquidityNew###userAccountA###",l),console.log("addLiquidityNew###userAccountB###",d),console.log("addLiquidityNew###user_mint_pubkey###",k),console.log("addLiquidityNew###user_nft_pubkey###",y),console.log("addLiquidityNew###tick_lower###",f),console.log("addLiquidityNew###tick_upper###",w),console.log("addLiquidityNew###liquity_mount###",m),console.log("addLiquidityNew###maximumTokenA###",_),console.log("addLiquidityNew###maximumTokenB###",A),t&&n){e.next=11;break}throw new Error("Miss connection");case 11:if(o){e.next=13;break}throw new Error("Miss pool infomations");case 13:if(h=new v.Transaction,B=[],P=n.publicKey,console.log("userAccountA####",l),K=[new v.PublicKey(l),new v.PublicKey(d)],N=[_,A],o.coin.mintAddress===(null==c?void 0:c.mintAddress)&&o.pc.mintAddress===(null==r?void 0:r.mintAddress)&&N.reverse(),K[0],K[1],N[0]&&(M=new W.a(N[0],o.coin.decimals,!1).wei.toNumber()),N[1]&&(R=new W.a(N[1],o.pc.decimals,!1).wei.toNumber()),o.coin.mintAddress!==S.b.mintAddress){e.next=28;break}return e.next=27,Object(I.d)(t,E,P,S.d.WSOL.mintAddress,M+1e7,h,B);case 27:E=e.sent;case 28:if(o.pc.mintAddress!==S.b.mintAddress){e.next=32;break}return e.next=31,Object(I.d)(t,z,P,S.d.WSOL.mintAddress,R+1e7,h,B);case 31:z=e.sent;case 32:if(console.log("signers###",B),D=0,F=P,null!=k?(null==(J=j(k,o.user_position_account_array)).user_position_pubkey&&console.log("deposite old user: %s, but can't find in user position",null==k?void 0:k.toString()),$=J.user_position_pubkey,D=J.index):$=L(o.user_position_account_array),console.log("user_position_key#####",$),console.log("user_mint_pubkey#####",k),console.log("user_nft_pubkey#####",y),console.log("new_position#####",T),console.log("为啥没走到这里啊#####"),0!==T||null==$){e.next=63;break}return console.log("进到这里11111"),e.next=45,x.f.createMintInstruction(t,n,o.authority);case 45:return G=e.sent,H=G.mintTrans,Q=G.mintAccount,e.next=50,x.f.createAccountInstruction(t,P,Q.publicKey,n);case 50:U=e.sent,V=U.nftAccountInstruction,X=U.nft_account,k=Q.publicKey,y=X.publicKey,h.add(H),h.add(V),B.push(Q),B.push(X),h.add(C(o.tokenSwap,o.authority,F,l,d,o.tokenAccountA,o.tokenAccountB,k,y,o.tick_detail_key,$,o.swapProgramId,o.tokenProgramId,T,f,w,m,M,R,0)),console.log("the tick_detail_key is ",o.tick_detail_key.toString(),"the user position key ",$.toString()),e.next=64;break;case 63:null!=k&&null!=y&&null!=$&&h.add(C(o.tokenSwap,o.authority,F,l,d,o.tokenAccountA,o.tokenAccountB,k,new v.PublicKey(y),o.tick_detail_key,$,o.swapProgramId,o.tokenProgramId,T,f,w,m,M,R,D));case 64:return E&&h.add(Object(O.closeAccount)({source:E,destination:P,owner:P})),z&&h.add(Object(O.closeAccount)({source:z,destination:P,owner:P})),e.next=68,Object(I.g)(t,n,h,B);case 68:return e.abrupt("return",e.sent);case 69:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(t,n,o,r,c,l,d,k,y,f,w,m,A,T,S,I,W,O,B,j){console.log("depositAllTokenTypesInstruction###tokenSwap###",t.toString()),console.log("depositAllTokenTypesInstruction###authority###",n.toString()),console.log("depositAllTokenTypesInstruction###userTransferAuthority###",o.toString()),console.log("depositAllTokenTypesInstruction###sourceA###",r.toString()),console.log("depositAllTokenTypesInstruction###sourceB###",c.toString()),console.log("depositAllTokenTypesInstruction###intoA###",l.toString()),console.log("depositAllTokenTypesInstruction###intoB###",d.toString()),console.log("depositAllTokenTypesInstruction###nft_mint_pubkey###",k.toString()),console.log("depositAllTokenTypesInstruction###user_nft_pubkey###",y.toString()),console.log("depositAllTokenTypesInstruction###tick_info_key###",f.toString()),console.log("depositAllTokenTypesInstruction###user_postion_key###",w.toString()),console.log("depositAllTokenTypesInstruction###swapProgramId###",m.toString()),console.log("depositAllTokenTypesInstruction###tokenProgramId###",A.toString()),console.log("depositAllTokenTypesInstruction###new_position###",T),console.log("depositAllTokenTypesInstruction###tick_lower###",S),console.log("depositAllTokenTypesInstruction###tick_upper###",I),console.log("depositAllTokenTypesInstruction###liquity_amount###",W),console.log("depositAllTokenTypesInstruction###maximumTokenA###",O),console.log("depositAllTokenTypesInstruction###maximumTokenB###",B),console.log("depositAllTokenTypesInstruction###user_position_index###",j);var L=_.struct([_.u8("instruction"),_.u8("new_position"),h.c("liquity_amount"),_.s32("tick_lower"),_.s32("tick_upper"),h.d("maximumTokenA"),h.d("maximumTokenB"),h.d("user_position_index")]),data=e.alloc(L.span);L.encode({instruction:2,new_position:T,liquity_amount:new P(W).toBuffer(),tick_lower:S,tick_upper:I,maximumTokenA:new x.c(O).toBuffer(),maximumTokenB:new x.c(B).toBuffer(),user_position_index:new x.c(j).toBuffer()},data);var K=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!1}];return new v.TransactionInstruction({keys:K,programId:m,data:data})}function M(e,t,n,o,r,c,l){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(regeneratorRuntime.mark((function e(t,n,o,r,c,l,d){var k,y,f,w,m,_,A,T,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}throw new Error("Miss connection");case 2:if(r&&c&&o.tokenSwapAccount){e.next=4;break}throw new Error("Miss account infomations");case 4:return k=new v.Transaction,y=[],f=n.publicKey,w=[new v.PublicKey(r),new v.PublicKey(c)],m=w[0],_=w[1],h=0,null!=l?(null==(A=j(l,o.user_position_account_array)).user_position_pubkey&&console.log("deposite old user: %s, but can't find in user position",null==l?void 0:l.toString()),T=A.user_position_pubkey,h=A.index):T=L(o.user_position_account_array),l&&T&&d&&k.add(E(o.tokenSwap,o.authority,f,new v.PublicKey(o.poolCoinTokenAccount),new v.PublicKey(o.poolPcTokenAccount),m,_,l,new v.PublicKey(d),o.tick_detail_key,T,o.swapProgramId,o.tokenProgramId,h)),e.next=15,Object(I.g)(t,n,k,y);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(t,n,o,r,c,l,d,k,y,f,w,m,A,T){var S=_.struct([_.u8("instruction"),h.d("user_position_index")]),data=e.alloc(S.span);S.encode({instruction:4,user_position_index:new x.c(T).toBuffer()},data);var I=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!1}];return new v.TransactionInstruction({keys:I,programId:m,data:data})}function z(e,t,n,o,r,c,l,d,k,y,f,w){return J.apply(this,arguments)}function J(){return(J=Object(o.a)(regeneratorRuntime.mark((function e(t,n,o,r,c,l,d,k,y,f,w,m){var _,A,T,h,x,B,P,K,N,C,M,R,E,z;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("removeLiquidity###connection###",t),console.log("removeLiquidity###wallet###",n),console.log("removeLiquidity###poolInfo###",o),console.log("removeLiquidity###fromCoinAccount###",l),console.log("removeLiquidity###toCoinAccount###",d),console.log("removeLiquidity###fromCoin###",k),console.log("removeLiquidity###toCoin###",y),console.log("removeLiquidity###fromAmount###",f),console.log("removeLiquidity###toAmount###",w),console.log("removeLiquidity###liquityAmount###",m),t&&n){e.next=12;break}throw new Error("Miss connection");case 12:if(o&&k&&y){e.next=14;break}throw new Error("Miss pool infomations");case 14:if(l&&d&&o.tokenSwapAccount){e.next=16;break}throw new Error("Miss account infomations");case 16:if(m){e.next=18;break}throw new Error("Miss liquityAmount");case 18:if(_=new v.Transaction,A=[],T=n.publicKey,h=[new v.PublicKey(l),new v.PublicKey(d)],x=[f,w],o.coin.mintAddress===y.mintAddress&&o.pc.mintAddress===k.mintAddress&&(h.reverse(),x.reverse()),B=h[0],P=h[1],x[0]&&(K=new W.a(x[0],o.coin.decimals,!1).wei.toNumber()),x[1]&&(N=new W.a(x[1],o.pc.decimals,!1).wei.toNumber()),o.coin.mintAddress!==S.b.mintAddress){e.next=32;break}return e.next=31,Object(I.d)(t,C,T,S.d.WSOL.mintAddress,K+1e7,_,A);case 31:C=e.sent;case 32:if(o.pc.mintAddress!==S.b.mintAddress){e.next=36;break}return e.next=35,Object(I.d)(t,M,T,S.d.WSOL.mintAddress,N+1e7,_,A);case 35:M=e.sent;case 36:return z=0,null!=r?(null==(R=j(r,o.user_position_account_array)).user_position_pubkey&&console.log("deposite old user: %s, but can't find in user position",null==r?void 0:r.toString()),E=R.user_position_pubkey,z=R.index):E=L(o.user_position_account_array),E&&r&&c&&_.add($(o.tokenSwap,o.authority,T,new v.PublicKey(o.poolCoinTokenAccount),new v.PublicKey(o.poolPcTokenAccount),C||B,M||P,r,new v.PublicKey(c),o.tick_detail_key,E,o.swapProgramId,o.tokenProgramId,m,K?Math.floor(K):0,N?Math.floor(N):0,z)),C&&_.add(Object(O.closeAccount)({source:C,destination:T,owner:T})),M&&_.add(Object(O.closeAccount)({source:M,destination:T,owner:T})),e.next=43,Object(I.g)(t,n,_,A);case 43:return e.abrupt("return",e.sent);case 44:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(t,n,o,r,c,l,d,k,y,f,w,m,A,T,S,I,W){console.log("到这了了了了了"),console.log("withdrawAllTokenTypesInstruction###tokenSwap###",t),console.log("withdrawAllTokenTypesInstruction###authority###",n),console.log("withdrawAllTokenTypesInstruction###userTransferAuthority###",o),console.log("withdrawAllTokenTypesInstruction###fromA###",r),console.log("withdrawAllTokenTypesInstruction###fromB###",c),console.log("withdrawAllTokenTypesInstruction###userAccountA###",l),console.log("withdrawAllTokenTypesInstruction###userAccountB###",d),console.log("withdrawAllTokenTypesInstruction###nft_mint_pubkey###",k),console.log("withdrawAllTokenTypesInstruction###user_nft_pubkey###",y),console.log("withdrawAllTokenTypesInstruction###tick_info_key###",f),console.log("withdrawAllTokenTypesInstruction###user_postion_key###",w),console.log("withdrawAllTokenTypesInstruction###swapProgramId###",m),console.log("withdrawAllTokenTypesInstruction###tokenProgramId###",A),console.log("withdrawAllTokenTypesInstruction###liquityAmount###",T),console.log("withdrawAllTokenTypesInstruction###minimumTokenA###",S),console.log("withdrawAllTokenTypesInstruction###minimumTokenB###",I),console.log("withdrawAllTokenTypesInstruction###user_position_index###",W);var O=_.struct([_.u8("instruction"),h.c("liquityAmount"),h.d("minimumTokenA"),h.d("minimumTokenB"),h.d("user_position_index")]),data=e.alloc(O.span);O.encode({instruction:3,liquityAmount:new P(T).toBuffer(),minimumTokenA:new x.c(S).toBuffer(),minimumTokenB:new x.c(I).toBuffer(),user_position_index:new x.c(W).toBuffer()},data);var B=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!1}];return new v.TransactionInstruction({keys:B,programId:m,data:data})}}).call(this,n(3).Buffer)}}]);