(window.webpackJsonp=window.webpackJsonp||[]).push([[19,35,38,64,72,75,80,85],{3255:function(t,e,n){var content=n(3272);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(211).default)("d1f59420",content,!0,{sourceMap:!1})},3269:function(t,e,n){var content=n(3288);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(211).default)("88531c4e",content,!0,{sourceMap:!1})},3271:function(t,e,n){"use strict";n(3255)},3272:function(t,e,n){var o=n(210)(!1);o.push([t.i,".refresh-icon-box[data-v-8473dd02]{width:auto!important;height:auto!important;background:none!important;border-radius:15px;margin:0 8px 0 0!important;padding:0!important;display:flex;align-items:center;justify-content:center;cursor:pointer;position:relative;z-index:100}.refresh-icon-box:hover svg[data-v-8473dd02]{fill:#fff}.refresh-icon-box svg[data-v-8473dd02]{width:22px;height:22px;fill:#7d8f99}.refresh-icon-box .is-loading[data-v-8473dd02]{animation:spin-8473dd02 1s linear infinite}@keyframes spins-8473dd02{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin-8473dd02{to{transform:rotate(1turn)}}",""]),t.exports=o},3280:function(t,e,n){"use strict";n.r(e);var o=n(350).Vue.extend({props:{loading:{type:Boolean,default:!1}},methods:{refresh:function(){this.$emit("refresh")}}}),r=(n(3271),n(212)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"icon-box refresh-icon-box"},[e("svg",{class:["icon",t.loading?"is-loading":""],attrs:{"aria-hidden":"true"},on:{click:t.refresh}},[e("use",{attrs:{"xlink:href":"#icon-icon-icon-refresh"}})])])}),[],!1,null,"8473dd02",null);e.default=component.exports},3284:function(t,e,n){"use strict";n.r(e);n(157),n(3305);var input=n(3306),o=n.n(input),r=(n(760),n(351)),c=n.n(r),l=(n(58),n(306),n(57));l.default.use(c.a);var d=l.default.extend({components:{Modal:c.a,Input:o.a},data:function(){return{slippage:"",slippageArr:["0.1","0.5","1"]}},mounted:function(){this.slippage=this.$accessor.slippage},methods:{oninput:function(t){t.target.value=t.target.value.match(/^\d+(?:\.\d{0,2})?/)?t.target.value.match(/^\d+(?:\.\d{0,2})?/)[0]||null:"",t.target.value&&(this.slippage=t.target.value)},confirmSlippage:function(){this.$accessor.setSlippage(this.slippage),this.$emit("onClose")}}}),f=(n(3287),n(212)),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Modal",{attrs:{title:"Settings","z-index":1070,centered:"",width:"400px",visible:!0,footer:null},on:{cancel:function(e){return t.$emit("onClose")}}},[e("div",{staticClass:"pool-setting"},[e("div",{staticClass:"slippage-tolerance"},[t._v("Slippage tolerance")]),t._v(" "),e("div",{staticClass:"input-content"},[t._l(t.slippageArr,(function(n,o){return e("div",{key:o,staticClass:"slippage-item",class:n===t.slippage?"slippage-item-active":"",on:{click:function(e){t.slippage=n}}},[t._v("\n        "+t._s(n)+"\n      ")])})),t._v(" "),e("Input",{attrs:{typ:"number",size:"large",suffix:"%"},on:{input:t.oninput},model:{value:t.slippage,callback:function(e){t.slippage=e},expression:"slippage"}})],2),t._v(" "),t.slippage?e("div",{staticClass:"slippage-hint",class:Number(t.slippage)>1&&50>=Number(t.slippage)?"slippage-hint-waring":Number(t.slippage)>50?"slippage-hint-error":""},[t._v("\n      "+t._s(Number(t.slippage)>1&&50>=Number(t.slippage)?"Your transaction may be fronturn":Number(t.slippage)>50?"Enter a valid slippage percentage":"")+"\n    ")]):t._e(),t._v(" "),e("div",{staticClass:"btn-box"},[e("Button",{staticClass:"disconnect-btn",on:{click:function(e){return t.$emit("onClose")}}},[t._v(" Cancel ")]),t._v(" "),e("div",{staticClass:"switch-wallet-btn-box"},[e("Button",{staticClass:"switch-wallet-btn",attrs:{disabled:Number(t.slippage)>50},on:{click:t.confirmSlippage}},[t._v("\n          Confirm\n        ")])],1)],1)])])}),[],!1,null,null,null);e.default=component.exports},3285:function(t,e,n){var content=n(3293);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(211).default)("039833c2",content,!0,{sourceMap:!1})},3287:function(t,e,n){"use strict";n(3269)},3288:function(t,e,n){var o=n(210)(!1);o.push([t.i,".gradient-btn-large{width:100%;height:56px;font-size:18px;font-weight:100;border:none;border-radius:8px;background:linear-gradient(90deg,#9945ff,#43b4ca 53%,#19fb9b)!important;color:#000}.gradient-btn-large:hover{background:linear-gradient(90deg,#b77dff,#7dc7db 53%,#5ffcb9)!important}.gradient-btn-large:disabled{color:rgba(0,0,0,.5);cursor:not-allowed}.gradient-btn-large:disabled,.gradient-btn-large:disabled:hover{background:linear-gradient(90deg,rgba(153,69,255,.5),rgba(67,180,202,.5) 53%,rgba(25,251,155,.5))!important}.gradient-btn-large-new-version{width:100%;height:56px;font-size:14px;font-weight:100;border-radius:8px;background:linear-gradient(90deg,#9945ff,#43b4ca 53%,#19fb9b)!important;border:none!important;color:#000}.gradient-btn-large-new-version:hover{background:linear-gradient(90deg,#b77dff,#7dc7db 53%,#5ffcb9)!important}.gradient-btn-large-new-version:disabled{color:#161616;font-weight:300!important;cursor:not-allowed}.gradient-btn-large-new-version:disabled,.gradient-btn-large-new-version:disabled:hover{background:linear-gradient(90deg,rgba(153,69,255,.5),rgba(67,180,202,.5) 53%,rgba(25,251,155,.5))!important}.new-gradient-btn-large{width:100%;height:56px;box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:16px;margin-top:20px}.farm-btn-small,.new-gradient-btn-large{background:linear-gradient(180deg,#e4e2fe,#2881f2);padding:1px}.farm-btn-small{line-height:1;height:40px;border-radius:6px;border:none}.farm-btn-small div{text-align:center;border-radius:6px;font-size:14px;font-weight:400;color:#fff;background:linear-gradient(268deg,#5fe6d0,#597bff 38%,#9380ff 72%,#e590ff)}.farm-btn-small div:hover{background:linear-gradient(270deg,#93ffed,#84caff 34%,#a291ff 68%,#efb9ff)}.pool-setting .slippage-tolerance{margin-top:14px;color:#b5b8c2}.pool-setting .input-content{margin-top:10px;display:flex;justify-content:space-between}.pool-setting .input-content .slippage-item{width:80px;height:40px;background:none;font-size:14px;font-weight:500;color:#fff;text-align:center;line-height:40px;box-shadow:0 4px 12px 0 #25282c;border-radius:10px;border:1px solid #3f434e}.pool-setting .input-content .slippage-item-active{background:#42454b;box-shadow:0 2px 6px 0 rgba(26,28,31,.5);border-radius:10px;color:#07ebad;border:1px solid #07ebad}.pool-setting .input-content input{width:80px;height:40px;color:#fff;border:none;background:#23262b;box-shadow:0 2px 3px 1px #1a1c1f;border-radius:10px}.pool-setting .input-content .ant-input-affix-wrapper{width:auto}.pool-setting .input-content .ant-input-affix-wrapper .ant-input-suffix{color:#fff}.pool-setting .input-content .ant-input-affix-wrapper input{text-align:center!important;font-size:14px;line-height:20px;background:#23262b;box-shadow:0 2px 3px 1px #1a1c1f;border-radius:10px}.pool-setting .slippage-hint{margin-top:14px}.pool-setting .slippage-hint-waring{color:#fb0}.pool-setting .slippage-hint-error{color:#ff5050}.pool-setting .btn-box{display:flex;margin-top:40px;justify-content:space-between}.pool-setting .disconnect-btn{width:168px;height:48px;box-shadow:0 4px 12px 0 #25282c;border-radius:12px;font-size:16px;border:1px solid #3f434e;font-weight:600;background:transparent}.pool-setting .disconnect-btn:hover{background:hsla(0,0%,100%,.05)}.pool-setting .switch-wallet-btn-box{width:168px;height:46px;margin-top:0;margin-left:0!important;border-radius:12px}.pool-setting .switch-wallet-btn-box .switch-wallet-btn{width:100%;height:56px;font-size:18px;font-weight:100;border:none;border-radius:8px;background:linear-gradient(90deg,#9945ff,#43b4ca 53%,#19fb9b)!important;color:#000;height:100%;font-size:16px}.pool-setting .switch-wallet-btn-box .switch-wallet-btn:hover{background:linear-gradient(90deg,#b77dff,#7dc7db 53%,#5ffcb9)!important}.pool-setting .switch-wallet-btn-box .switch-wallet-btn:disabled{color:rgba(0,0,0,.5);cursor:not-allowed}.pool-setting .switch-wallet-btn-box .switch-wallet-btn:disabled,.pool-setting .switch-wallet-btn-box .switch-wallet-btn:disabled:hover{background:linear-gradient(90deg,rgba(153,69,255,.5),rgba(67,180,202,.5) 53%,rgba(25,251,155,.5))!important}@media screen and (max-width:750px){.pool-setting .input-content .slippage-item,.pool-setting .input-content input{width:60px}.pool-setting .disconnect-btn,.pool-setting .switch-wallet-btn-box{width:calc(50% - 11px)!important;height:36px!important}}",""]),t.exports=o},3289:function(t,e,n){var content=n(3308);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(211).default)("0ffab0d6",content,!0,{sourceMap:!1})},3290:function(t,e,n){var content=n(3314);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(211).default)("65a71c36",content,!0,{sourceMap:!1})},3292:function(t,e,n){"use strict";n(3285)},3293:function(t,e,n){var o=n(210)(!1);o.push([t.i,".set-icon-container[data-v-92137002]{color:hsla(0,0%,100%,.5)}.set-icon-container .set-icon-box .set-icon-content[data-v-92137002]{height:auto!important;border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#7d8f99}.set-icon-container .set-icon-box .set-icon-content .icon[data-v-92137002]{width:16px;height:16px;fill:#7d8f99;cursor:pointer}.set-icon-container .set-icon-box .set-icon-content span[data-v-92137002]{font-size:12px;margin-left:4px}.set-icon-container .set-icon-box .set-icon-content[data-v-92137002]:hover{color:#fff}.set-icon-container .set-icon-box .set-icon-content:hover .icon[data-v-92137002]{fill:#fff}",""]),t.exports=o},3302:function(t,e,n){"use strict";n.r(e);var o=n(350).Vue.extend({data:function(){return{showSetting:!1}},computed:{slippageView:function(){return"".concat(this.$accessor.slippage,"%")}}}),r=(n(3292),n(212)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"set-icon-container"},[e("div",{staticClass:"set-icon-box",on:{click:function(e){t.showSetting=!0}}},[e("div",{staticClass:"set-icon-content"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-a-bianzu81"}})]),t._v(" "),e("span",[t._v(t._s(t.slippageView))])])]),t._v(" "),t.showSetting?e("Setting",{on:{onClose:function(){return t.showSetting=!1}}}):t._e()],1)}),[],!1,null,"92137002",null);e.default=component.exports;installComponents(component,{Setting:n(3284).default})},3303:function(t,e,n){"use strict";n.r(e);n(157),n(1712),n(21),n(49),n(58),n(200),n(149),n(158);var o=n(57),r=n(759),c=n(95),l=n(289),d=n(281),f=o.default.extend({model:{prop:"value",event:"onInput"},props:{value:{type:String,default:""},swapDirection:{type:String,default:""},coinName:{type:String,default:""},balance:{type:Object,default:null},showMax:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showLock:{type:Boolean,default:!1},notSelect:{type:Boolean,default:!1},coinObj:{type:Object,default:function(){return{}}},rate:{type:Object,default:function(){return{}}},coinIcon:{type:String,default:""}},data:function(){return{tokensPrice:[]}},computed:Object.assign(Object.assign({},Object(d.e)(["wallet","liquidity"])),{coinBalance:function(){if(this.coinObj&&this.coinObj.mintAddress&&this.wallet.tokenAccounts){var t=this.wallet.tokenAccounts[this.coinObj.mintAddress];if(t&&t.balance)return t.balance}return 0},amountPirce:function(){if(this.value){var t=Number(this.value)*Number(this.tokensPrice&&this.tokensPrice[this.coinName.toUpperCase()]&&this.tokensPrice[this.coinName.toUpperCase()].price);return t>=.01?Object(c.e)(t,2):"<0.01"}return 0}}),watch:{"liquidity.tokensDefaultPriceRangeObj":{handler:"watchTokensDefaultPriceRangeObj",immediate:!0}},methods:{importIcon:r.a,lt:l.c,fixD:c.e,selectCoin:function(){this.notSelect||this.$emit("onSelect")},watchTokensDefaultPriceRangeObj:function(t){this.tokensPrice=t},thousands:function(t){if(Math.floor(t)===t)return(t||0).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,");var e=t.toString(),n=e.includes(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return e.replace(n,"$1,")}}}),h=(n(3307),n(212)),component=Object(h.a)(f,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"coin-block"},[e("div",{staticClass:"top-value"},[e("div",{staticClass:"value"},[t._v("\n      "+t._s("From"==t.swapDirection?"Pay":"deposit"==t.swapDirection?"":"Receive")+"\n    ")]),t._v(" "),e("div",{staticClass:"balance-box"},[e("span",[t._v("\n        Balance: "+t._s(t.wallet.connected&&t.balance&&!t.balance.wei.isNaN()&&Number(t.balance.fixed())||0)+"\n      ")]),t._v(" "),e("button",{staticClass:"max",class:t.wallet.connected&&t.balance&&!t.balance.wei.isNaN()&&t.balance.fixed()&&0!=Number(t.balance.fixed())?"":"disabled-btn",attrs:{disabled:!t.balance||!Number(t.balance.fixed())},on:{click:function(e){return t.$emit("onHalf")}}},[t._v("\n        Half\n      ")]),t._v(" "),e("button",{staticClass:"max",class:t.wallet.connected&&t.balance&&!t.balance.wei.isNaN()&&t.balance.fixed()&&0!=Number(t.balance.fixed())?"":"disabled-btn",attrs:{disabled:!t.balance||!Number(t.balance.fixed())},on:{click:function(e){return t.$emit("onMax")}}},[t._v("\n        Max\n      ")])])]),t._v(" "),e("div",{staticClass:"coin-box"},[e("div",{staticClass:"coin-name",on:{click:t.selectCoin}},[t.coinName?e("img",{attrs:{src:t.coinIcon||t.importIcon("/coins/".concat(t.coinName.toLowerCase(),".png"))}}):e("img",{attrs:{src:n(1717)}}),t._v(" "),e("div",{staticClass:"coinName-list"},[e("span",[t._v(t._s(t.coinName||"Select"))])]),t._v(" "),t.notSelect?t._e():e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-icon-on"}})])]),t._v(" "),e("div",{staticClass:"right"},[e("input",{attrs:{type:"text",autocomplete:"off",autocorrect:"off",placeholder:"0.00",pattern:"^[0-9]*[.,]?[0-9]*$",minlength:"1",maxlength:"79",spellcheck:"false",disabled:t.disabled,oninput:"this.value = this.value.replace(/[^\\d.]/g,'');"},domProps:{value:t.value},on:{input:function(e){return t.$emit("onInput",e.target.value)},focus:function(e){return t.$emit("onFocus")}}})])]),t._v(" "),e("div",{staticClass:"position-value"},[t._v("$"+t._s(t.thousands(t.amountPirce)))]),t._v(" "),t.showLock?e("div",{staticClass:"lock-mask"},[e("img",{attrs:{src:n(1715)}}),t._v(" "),e("p",[t._v("The market price is outside your specified price range. Single-asset deposit only.")])]):t._e()])}),[],!1,null,"2dd448db",null);e.default=component.exports},3307:function(t,e,n){"use strict";n(3289)},3308:function(t,e,n){var o=n(210)(!1);o.push([t.i,".coin-block[data-v-2dd448db]{position:relative;background:#151515;border-radius:8px;padding:0 16px}.coin-block .top-value[data-v-2dd448db]{display:flex;justify-content:space-between;height:40px}.coin-block .top-value .value[data-v-2dd448db]{font-weight:100;font-size:14px;line-height:40px}.coin-block .balance-box[data-v-2dd448db]{display:flex;justify-content:flex-end;align-items:center}.coin-block .balance-box span[data-v-2dd448db]{text-align:right;font-size:12px;line-height:1;color:hsla(0,0%,100%,.5)}.coin-block .balance-box button[data-v-2dd448db]{width:42px;height:20px;border-radius:2px;background:#23262b;box-shadow:0 4px 6px 0 rgba(26,28,31,.1);border:none;color:hsla(0,0%,100%,.5);margin-left:4px;font-size:10px!important}.coin-block .balance-box button[data-v-2dd448db]:hover{color:#fff;background:#3c4148}.coin-block .balance-box .disabled-btn[data-v-2dd448db]{color:#666!important;cursor:not-allowed!important}.coin-block .balance-box .disabled-btn[data-v-2dd448db]:hover{background:#23262b!important}.coin-block .coin-box[data-v-2dd448db]{display:flex;align-items:center;width:100%;height:40px}.coin-block .coin-box .coin-name[data-v-2dd448db]{width:148px;border-radius:12px;display:flex;align-items:center}.coin-block .coin-box .coin-name img[data-v-2dd448db]{width:32px;height:32px;border-radius:100%;margin-right:8px}.coin-block .coin-box .coin-name .coinName-list[data-v-2dd448db]{font-size:16px;color:#fff;font-weight:600;margin-right:4px;line-height:1}.coin-block .coin-box .coin-name .coinName-list>span[data-v-2dd448db]{display:inline-block;margin-top:0}.coin-block .coin-box .coin-name .coinName-list p[data-v-2dd448db]{font-size:12px;color:hsla(0,0%,100%,.5);font-weight:100!important;margin:4px 0 0}.coin-block .coin-box .coin-name svg[data-v-2dd448db]{width:22px;height:22px;fill:hsla(0,0%,100%,.5)}.coin-block .coin-box .coin-name:hover svg[data-v-2dd448db]{fill:#fff}.coin-block .coin-box .right[data-v-2dd448db]{flex:1;display:flex;align-items:center}.coin-block .coin-box .right>input[data-v-2dd448db]{font-size:24px;color:#fff;border:none;background:none;padding-left:10px;text-align:right;width:100%}.coin-block .position-value[data-v-2dd448db]{width:100%;height:40px;line-height:40px;font-size:12px;color:#b6b6b6;text-align:right}.coin-block .lock-mask[data-v-2dd448db]{position:absolute;left:0;right:0;top:0;bottom:0;background:rgba(94,92,92,.10196);border:1px solid #384044;display:flex;align-items:center;justify-content:center;border-radius:8px;padding:20px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(10px)}.coin-block .lock-mask img[data-v-2dd448db]{width:40px;height:40px}.coin-block .lock-mask p[data-v-2dd448db]{height:40px;margin:0;font-size:14px;color:#fff;text-align:center}@media screen and (max-width:750px){.coin-block[data-v-2dd448db]{width:100%;padding:0 8px}.coin-block .coin-box .coin-name[data-v-2dd448db]{width:120px}.coin-block .balance-box[data-v-2dd448db]{text-align:right}.coin-block .balance-box>span[data-v-2dd448db]{max-width:160px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}",""]),t.exports=o},3311:function(t,e,n){"use strict";n.r(e);n(48),n(1712);var o=n(20),r=(n(1716),n(377)),c=n.n(r),l=(n(760),n(351)),d=n.n(l),f=(n(74),n(294),n(40),n(64),n(21),n(149),n(158),n(57)),h=n(281),m=n(300),v=n(293),x=n(95);f.default.use(d.a);var C=f.default.extend({components:{Modal:d.a,Icon:c.a},props:{existingCoins:{type:String,default:""},lastSelectCoin:{type:String,default:""}},data:function(){return{value:"",tokenList:[]}},computed:Object.assign({},Object(h.e)(["wallet","liquidity"])),watch:{value:function(t){this.createTokenList(void 0,t)},"wallet.tokenAccounts":{handler:function(t,e){this.createTokenList(void 0,this.value)},deep:!0},"liquidity.tokensObj":{handler:"tokensObjWatch",immediate:!0}},methods:{tokensObjWatch:function(t){console.log("没进来吗#####liquidity.tokensObj###newVal###",t),Object(x.b)(t)||this.createTokenList(t)},toSelect:function(t,e){this.$emit("onSelect",t)},importIconNew:function(path){try{return n(1714)("./assets".concat(path))}catch(t){return n(1129)}},createTokenList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.liquidity.tokensObj,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],r=Object(v.a)(m.b),c=[],l=[],d={};console.log(t,"tokensObj====>"),d=Object(v.a)(t),console.log("createTokenList###tokenObject###",d);for(var f=0,h=Object.keys(d);f<h.length;f++){var address=h[f],x=Object(v.a)(d[address]);if(this.lastSelectCoin&&x.symbol===this.lastSelectCoin&&(x.unusable=!0),"SOL"!==x.symbol.toUpperCase()){var C=this.wallet.tokenAccounts[x.token_mint];C?(x=Object.assign(Object.assign({},x),C),c.push(x)):l.push(x)}}var w=this.wallet.tokenAccounts[m.b.mintAddress];w&&(r=Object.assign(Object.assign({},r),w)),c=c.sort((function(a,b){return b.balance.toEther()-a.balance.toEther()})),console.log("solAccount###",w),n=[r].concat(Object(o.a)(c),l),e&&(n=n.filter((function(t){return t.symbol.toUpperCase().includes(e.toUpperCase())||t.token_mint.toUpperCase().indexOf(e.toUpperCase())>=0}))),console.log("new###CoinSelect###tokenList####",n),this.tokenList=Object(v.a)(n)},handleInput:function(t){this.value=t.target.value}}}),w=C,k=(n(3313),n(212)),component=Object(k.a)(w,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Modal",{attrs:{title:"Select a token",width:400,centered:"",visible:!0,footer:null},on:{cancel:function(e){return t.$emit("onClose")}}},[e("div",{staticClass:"coin-select-modal"},[e("div",{staticClass:"search-input"},[e("input",{attrs:{type:"text",autocomplete:"off",autocorrect:"off",placeholder:"Enter the token symbol or address",minlength:"1",maxlength:"79",spellcheck:"false",oninput:"this.value=this.value.replace(/[^a-zA-Z]/g,'')"},domProps:{value:t.value},on:{input:t.handleInput}})]),t._v(" "),e("div",{staticClass:"coin-list-box"},[e("vue-scroll",[t.tokenList&&t.tokenList.length>0?e("ul",{staticClass:"coin-list"},t._l(t.tokenList,(function(n,o){return e("li",{key:o,class:n.unusable?"unusable":"",on:{click:function(e){return t.toSelect(n)}}},[e("div",{staticClass:"left"},[e("img",{attrs:{src:n.icon||t.importIconNew("/coins/".concat(n.symbol.toLowerCase(),".png"))}}),t._v(" "),e("div",{staticClass:"name-box"},[e("h3",[t._v(t._s(n.symbol))]),t._v(" "),e("p",[t._v(t._s(n.name))])])]),t._v(" "),e("div",{staticClass:"balance-box"},[e("div",{staticClass:"balance"},[t.wallet.loading?e("div",[e("Icon",{attrs:{type:"loading"}})],1):n.tokenAccountAddress&&t.wallet.connected?e("div",[t._v("\n                  "+t._s(n.balance.fixed())+"\n                ")]):e("div")]),t._v(" "),e("p")])])})),0):e("div",{staticClass:"no-data"},[e("img",{attrs:{src:n(1713)}}),t._v(" "),e("p",[t._v("No Data")])])])],1)])])}),[],!1,null,"43f451ec",null);e.default=component.exports},3313:function(t,e,n){"use strict";n(3290)},3314:function(t,e,n){var o=n(210)(!1);o.push([t.i,".coin-select-modal .search-input[data-v-43f451ec]{background:#23262b;border-radius:10px;width:100%;height:60px;padding:1px}.coin-select-modal .search-input input[data-v-43f451ec]{width:100%;height:100%;background:transparent;border-radius:10px;font-size:14px;border:none;padding:0 20px}.coin-select-modal .coin-list-box[data-v-43f451ec]{border-top:1px solid hsla(0,0%,100%,.1);height:282px;overflow-y:auto;margin-top:20px}.coin-select-modal .coin-list-box .coin-list[data-v-43f451ec]{min-height:300px}.coin-select-modal .coin-list-box .coin-list li[data-v-43f451ec]{display:flex;height:48px;margin-top:10px;align-items:center;justify-content:space-between;font-size:14px;color:#fff;cursor:pointer}.coin-select-modal .coin-list-box .coin-list li .left[data-v-43f451ec]{display:flex;align-items:center}.coin-select-modal .coin-list-box .coin-list li .left img[data-v-43f451ec]{width:30px;height:30px;border-radius:100%}.coin-select-modal .coin-list-box .coin-list li .left .name-box[data-v-43f451ec]{margin-left:10px}.coin-select-modal .coin-list-box .coin-list li .left .name-box h3[data-v-43f451ec],.coin-select-modal .coin-list-box .coin-list li .left .name-box p[data-v-43f451ec]{padding:0;margin:0}.coin-select-modal .coin-list-box .coin-list li .left .name-box p[data-v-43f451ec]{font-size:12px;color:hsla(0,0%,100%,.5)}.coin-select-modal .coin-list-box .coin-list li .balance-box[data-v-43f451ec]{padding-right:10px}.coin-select-modal .coin-list-box .coin-list li.unusable[data-v-43f451ec]{color:hsla(0,0%,100%,.5);cursor:not-allowed}.coin-select-modal .coin-list-box .coin-list li.unusable .left img[data-v-43f451ec]{filter:grayscale(1)}.coin-select-modal .no-data[data-v-43f451ec]{width:100%;min-height:260px;display:flex;align-items:center;justify-content:center;flex-direction:column}.coin-select-modal .no-data img[data-v-43f451ec]{width:80px;height:80px}.coin-select-modal .no-data p[data-v-43f451ec]{color:hsla(0,0%,100%,.8);padding-top:10px}",""]),t.exports=o},3334:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return r}));n(411),n(58),n(49),n(200);var o=RegExp("^\\d*(?:\\\\[.])?\\d*$");function r(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},3348:function(t,e,n){var content=n(3413);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(211).default)("38216580",content,!0,{sourceMap:!1})},3370:function(t,e,n){"use strict";n.r(e);var o=n(57).default.extend({}),r=(n(3412),n(212)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"swap-tab"},[e("nuxt-link",{staticClass:"aggregated",class:"/jupswap"===t.$route.path||"/jupswap/"===t.$route.path?"aggregated-active":"",attrs:{to:"/jupswap"}},[e("span",[t._v("Aggregated")]),t._v(" "),e("div",{staticClass:"tips"},[t._v("Powered by Jupiter")])]),t._v(" "),e("nuxt-link",{staticClass:"lite",class:"/swap"===t.$route.path||"/swap/"===t.$route.path||"/"===t.$route.path?"lite-active":"",attrs:{to:"/swap"}},[e("span",[t._v("Lite")]),t._v(" "),e("div",{staticClass:"tips"},[t._v("Crema CLMM pools only")])])],1)}),[],!1,null,"0d14429b",null);e.default=component.exports},3412:function(t,e,n){"use strict";n(3348)},3413:function(t,e,n){var o=n(210)(!1);o.push([t.i,".swap-tab[data-v-0d14429b]{width:480px;height:42px;margin:0 auto 8px;background:#151515;border:1px solid #3f434e;border-radius:8px;padding:4px;top:0;left:0;display:flex;justify-content:space-between}.swap-tab>a[data-v-0d14429b]{width:230px;text-align:center;line-height:32px;height:32px;color:hsla(0,0%,100%,.5);position:relative}.swap-tab>a .tips[data-v-0d14429b]{position:absolute;bottom:-30px;left:50%;z-index:100;transform:translate(-50%);height:28px;line-height:28px;background:#2e3138;box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:4px;font-size:12px;color:hsla(0,0%,100%,.5);white-space:nowrap;padding:0 16px;display:none}.swap-tab .aggregated[data-v-0d14429b]{left:0}.swap-tab .aggregated:hover .tips[data-v-0d14429b]{display:inline-block}.swap-tab .lite[data-v-0d14429b]{right:0}.swap-tab .lite:hover .tips[data-v-0d14429b]{display:inline-block}.swap-tab .aggregated-active[data-v-0d14429b],.swap-tab .lite-active[data-v-0d14429b]{color:#fff;background:#1e1f21;border-radius:4px}@media screen and (max-width:750px){.swap-tab-box[data-v-0d14429b]{margin-top:20px}.swap-tab[data-v-0d14429b]{width:100%}.swap-tab>a[data-v-0d14429b]{width:54%}.swap-tab .aggregated[data-v-0d14429b]{left:0}.swap-tab .aggregated:hover .tips[data-v-0d14429b]{display:none}.swap-tab .lite[data-v-0d14429b]{right:0}.swap-tab .lite:hover .tips[data-v-0d14429b]{display:none}}",""]),t.exports=o},3423:function(t,e,n){var content=n(3503);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(211).default)("05de13ba",content,!0,{sourceMap:!1})},3502:function(t,e,n){"use strict";n(3423)},3503:function(t,e,n){var o=n(210)(!1);o.push([t.i,".pc-address{display:block}.pc-address span{margin-left:4px}.h5-address{display:none}.mint-address .address-container{padding:4px;background:rgba(0,0,0,.05);border-radius:8px}.mint-address .address-container>.pc-address{display:flex;justify-content:space-between;align-items:center;color:#b5b8c2}.mint-address .address-container>.pc-address+div{margin-top:14px}.mint-address .address-container .icon{width:16px;height:16px;fill:#b5b8c2}.mint-address .address-container .icon:hover{fill:#fff}.mint-address .address-container img{width:30px;height:30px}@media screen and (max-width:750px){.mint-address .address-container>.pc-address{display:none}.mint-address .address-container>.h5-address{display:flex;justify-content:space-between;align-items:center;color:#b5b8c2}.mint-address .address-container>.h5-address+div{margin-top:14px}}",""]),t.exports=o},3559:function(t,e,n){var content=n(3756);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(211).default)("054c80e9",content,!0,{sourceMap:!1})},3603:function(t,e,n){"use strict";n.r(e);n(760);var o=n(351),r=n.n(o),c=n(57),l=n(759);c.default.use(r.a);var d=c.default.extend({components:{Modal:r.a},props:{toCoin:{type:Object,default:function(){return{}}},fromCoin:{type:Object,default:function(){return{}}}},methods:{importIcon:l.a}}),f=(n(3502),n(212)),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("Modal",{staticClass:"mint-address",attrs:{width:"400px",visible:!0,centered:"",title:"Address",footer:null},on:{cancel:function(e){return t.$emit("onClose")}}},[e("div",{staticClass:"address-container"},[t.fromCoin&&t.fromCoin.symbol&&t.fromCoin.token_mint?e("div",{staticClass:"pc-address"},[e("div",[e("img",{attrs:{src:t.fromCoin.icon||t.importIcon("/coins/".concat(t.fromCoin.symbol.toLowerCase(),".png"))}}),t._v(" "),e("span",[t._v("\n            "+t._s(t.fromCoin.token_mint&&t.fromCoin.token_mint.substr(0,14))+"\n            ...\n            "+t._s(t.fromCoin.token_mint&&t.fromCoin.token_mint.substr(t.fromCoin.token_mint.length-15,15))+"\n          ")])]),t._v(" "),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.$accessor.copy(t.fromCoin.token_mint)}}},[e("use",{attrs:{"xlink:href":"#icon-icon_copy"}})])]):t._e(),t._v(" "),t.toCoin&&t.toCoin.symbol&&t.toCoin.token_mint?e("div",{staticClass:"pc-address"},[e("div",[e("img",{attrs:{src:t.toCoin.icon||t.importIcon("/coins/".concat(t.toCoin.symbol.toLowerCase(),".png"))}}),t._v(" "),e("span",[t._v("\n            "+t._s(t.toCoin.token_mint&&t.toCoin.token_mint.substr(0,12))+"\n            ...\n            "+t._s(t.toCoin.token_mint&&t.toCoin.token_mint.substr(t.toCoin.token_mint.length-12,12))+"\n          ")])]),t._v(" "),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.$accessor.copy(t.toCoin.token_mint)}}},[e("use",{attrs:{"xlink:href":"#icon-icon_copy"}})])]):t._e(),t._v(" "),t.fromCoin&&t.fromCoin.symbol&&t.fromCoin.token_mint?e("div",{staticClass:"h5-address"},[e("div",[e("img",{attrs:{src:t.fromCoin.icon||t.importIcon("/coins/".concat(t.fromCoin.symbol.toLowerCase(),".png"))}}),t._v(" "),e("span",[t._v("\n            "+t._s(t.fromCoin.token_mint&&t.fromCoin.token_mint.substr(0,11))+"\n            ...\n            "+t._s(t.fromCoin.token_mint&&t.fromCoin.token_mint.substr(t.fromCoin.token_mint.length-11,11))+"\n          ")])]),t._v(" "),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.$accessor.copy(t.fromCoin.token_mint)}}},[e("use",{attrs:{"xlink:href":"#icon-icon_copy"}})])]):t._e(),t._v(" "),t.toCoin&&t.toCoin.symbol&&t.toCoin.token_mint?e("div",{staticClass:"h5-address"},[e("div",[e("img",{attrs:{src:t.toCoin.icon||t.importIcon("/coins/".concat(t.toCoin.symbol.toLowerCase(),".png"))}}),t._v(" "),e("span",[t._v("\n            "+t._s(t.toCoin.token_mint&&t.toCoin.token_mint.substr(0,11))+"\n            ...\n            "+t._s(t.toCoin.token_mint&&t.toCoin.token_mint.substr(t.toCoin.token_mint.length-11,11))+"\n          ")])]),t._v(" "),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.$accessor.copy(t.toCoin.token_mint)}}},[e("use",{attrs:{"xlink:href":"#icon-icon_copy"}})])]):t._e()])])],1)}),[],!1,null,null,null);e.default=component.exports},3755:function(t,e,n){"use strict";n(3559)},3756:function(t,e,n){var o=n(210),r=n(1128),c=n(1777),l=n(1776),d=o(!1),f=r(c),h=r(l);d.push([t.i,".gradient-btn-large[data-v-3e4e2d20]{width:100%;height:56px;font-size:18px;font-weight:100;border:none;border-radius:8px;background:linear-gradient(90deg,#9945ff,#43b4ca 53%,#19fb9b)!important;color:#000}.gradient-btn-large[data-v-3e4e2d20]:hover{background:linear-gradient(90deg,#b77dff,#7dc7db 53%,#5ffcb9)!important}.gradient-btn-large[data-v-3e4e2d20]:disabled{color:rgba(0,0,0,.5);cursor:not-allowed}.gradient-btn-large[data-v-3e4e2d20]:disabled,.gradient-btn-large[data-v-3e4e2d20]:disabled:hover{background:linear-gradient(90deg,rgba(153,69,255,.5),rgba(67,180,202,.5) 53%,rgba(25,251,155,.5))!important}.gradient-btn-large-new-version[data-v-3e4e2d20]{width:100%;height:56px;font-size:14px;font-weight:100;border-radius:8px;background:linear-gradient(90deg,#9945ff,#43b4ca 53%,#19fb9b)!important;border:none!important;color:#000}.gradient-btn-large-new-version[data-v-3e4e2d20]:hover{background:linear-gradient(90deg,#b77dff,#7dc7db 53%,#5ffcb9)!important}.gradient-btn-large-new-version[data-v-3e4e2d20]:disabled{color:#161616;font-weight:300!important;cursor:not-allowed}.gradient-btn-large-new-version[data-v-3e4e2d20]:disabled,.gradient-btn-large-new-version[data-v-3e4e2d20]:disabled:hover{background:linear-gradient(90deg,rgba(153,69,255,.5),rgba(67,180,202,.5) 53%,rgba(25,251,155,.5))!important}.new-gradient-btn-large[data-v-3e4e2d20]{width:100%;height:56px;box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:16px;margin-top:20px}.farm-btn-small[data-v-3e4e2d20],.new-gradient-btn-large[data-v-3e4e2d20]{background:linear-gradient(180deg,#e4e2fe,#2881f2);padding:1px}.farm-btn-small[data-v-3e4e2d20]{line-height:1;height:40px;border-radius:6px;border:none}.farm-btn-small div[data-v-3e4e2d20]{text-align:center;border-radius:6px;font-size:14px;font-weight:400;color:#fff;background:linear-gradient(268deg,#5fe6d0,#597bff 38%,#9380ff 72%,#e590ff)}.farm-btn-small div[data-v-3e4e2d20]:hover{background:linear-gradient(270deg,#93ffed,#84caff 34%,#a291ff 68%,#efb9ff)}.swap-all[data-v-3e4e2d20]{margin-top:20px}.c-title[data-v-3e4e2d20]{width:480px;margin:0 auto;padding-bottom:8px!important}.c-title .icon-box[data-v-3e4e2d20]{margin-right:10px}.c-title .buttons[data-v-3e4e2d20]{display:none;padding:4px 12px;background:#1d1d1d;border-radius:8px;border:1px solid #384044;position:relative}.c-title .buttons .progress-icon[data-v-3e4e2d20]{position:absolute;z-index:99;top:4px;left:16px;cursor:pointer}.c-title .refresh-icon[data-v-3e4e2d20]{display:flex;flex-wrap:nowrap;align-items:center;margin-left:8px;padding:4px 12px;background:#1d1d1d;border-radius:8px;border:1px solid #384044;position:relative}.c-title .refresh-icon .progress-icon[data-v-3e4e2d20]{position:absolute;z-index:99;top:4px;left:16px;cursor:pointer;height:22px;display:flex;align-items:center;justify-content:center}.icon[data-v-3e4e2d20]{width:20px;height:20px}.container[data-v-3e4e2d20]{width:480px;background:#1e1f21;border-radius:8px;border:1px solid #3f434e;padding:16px;position:relative;z-index:20}.container .form-block .change-icon[data-v-3e4e2d20]{display:flex;align-items:center;justify-content:center;position:relative;z-index:100;margin-top:-12px}.container .form-block .change-icon a[data-v-3e4e2d20]{display:block;width:32px;height:32px;background-position:50%;background-repeat:no-repeat;background-size:100% 100%;background-image:url("+f+")}.container .form-block .change-icon a[data-v-3e4e2d20]:hover{background-image:url("+h+")}.container .form-block .bottom-block[data-v-3e4e2d20]{margin-top:-12px}.container .swap-btn-content[data-v-3e4e2d20]{width:240px;margin:0 auto}.container .swap-btn-content button[data-v-3e4e2d20]{border-radius:8px!important;background:linear-gradient(90deg,#9945ff,#43b4ca 53%,#19fb9b)!important;color:#000;border:none!important}.container .swap-btn-content button[data-v-3e4e2d20]:disabled{color:#161616;font-weight:300!important;cursor:not-allowed}.container .swap-btn-content button[data-v-3e4e2d20]:disabled,.container .swap-btn-content button[data-v-3e4e2d20]:disabled:hover{background:linear-gradient(90deg,rgba(153,69,255,.5),rgba(67,180,202,.5) 53%,rgba(25,251,155,.5))!important}.container .swap-btn-content button[data-v-3e4e2d20]:hover{background:linear-gradient(90deg,#b77dff,#7dc7db 53%,#5ffcb9)!important}.container .swap-btn[data-v-3e4e2d20]{height:40px!important;color:#fff;font-size:20px;width:100%;height:56px;font-size:18px;font-weight:100;border:none;border-radius:8px;background:linear-gradient(90deg,#9945ff,#43b4ca 53%,#19fb9b)!important;color:#000;margin-top:16px;font-weight:100!important}.container .swap-btn[data-v-3e4e2d20]:hover{background:linear-gradient(90deg,#b77dff,#7dc7db 53%,#5ffcb9)!important}.container .swap-btn[data-v-3e4e2d20]:disabled{color:rgba(0,0,0,.5);cursor:not-allowed}.container .swap-btn[data-v-3e4e2d20]:disabled,.container .swap-btn[data-v-3e4e2d20]:disabled:hover{background:linear-gradient(90deg,rgba(153,69,255,.5),rgba(67,180,202,.5) 53%,rgba(25,251,155,.5))!important}@media screen and (max-width:750px){.swap-all[data-v-3e4e2d20]{margin-top:0}.container[data-v-3e4e2d20]{padding:8px;width:100%}.c-title[data-v-3e4e2d20]{width:100%;padding-top:20px}.c-title .refresh-icon .progress-icon[data-v-3e4e2d20]{top:4px}}",""]),t.exports=d},3846:function(t,e,n){"use strict";n.r(e);n(157),n(1712),n(3379);var progress=n(3380),o=n.n(progress),r=(n(761),n(511)),c=n.n(r),l=(n(24),n(21),n(296),n(282),n(48),n(58),n(247),n(49),n(321),n(40),n(227),n(57)),d=n(281),f=n(95),h=n(3251),m=n(293),v=n(3334),x=n(289),C=n(672),w=n(15),k=n(3370),_=n(295),y=n(3602),S=n(220),A=function(t,e,n,o){return new(n||(n=Promise))((function(r,c){function l(t){try{f(o.next(t))}catch(t){c(t)}}function d(t){try{f(o.throw(t))}catch(t){c(t)}}function f(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,d)}f((o=o.apply(t,e||[])).next())}))},j=l.default.extend({components:{Button:c.a,SwapTabV2:k.default,SwapInfo:y.default,Progress:o.a},data:function(){return{showCoinSelect:!1,fromCoin:null,toCoin:null,fromCoinAmount:"",toCoinAmount:"",currentCoinKey:"fromCoin",fixedFromCoin:!0,swaping:!1,showSetting:!1,showFeeTier:!1,showAddress:!1,loading:!1,existingCoins:"",lastSelectCoin:"",insufficientLiquidity:!1,swapSdk:null,isLoading:!1,tokenSwap:null,currentPriceView:"",currentPriceViewReverse:"",tickArrays:[],simulateSwapVal:"",exchange:!0,autoRefreshTime:20,refreshTimer:null,countdown:0,impact:1e-4,isItExceeded:!1}},head:{title:"Crema Finance | A Powerful Concentrated Liquidity Protocol"},computed:Object.assign(Object.assign({},Object(d.e)(["wallet","url","liquidity"])),{poolInfo:function(){var t=this;if(this.liquidity.poolsObj){var e=Object.values(this.liquidity.poolsObj).find((function(p){var e,n,o,r;return p.token_a.symbol.toLowerCase()===(null===(e=t.fromCoin)||void 0===e?void 0:e.symbol.toLowerCase())&&p.token_b.symbol.toLowerCase()===(null===(n=t.toCoin)||void 0===n?void 0:n.symbol.toLowerCase())&&"v2"==p.version||p.token_b.symbol.toLowerCase()===(null===(o=t.fromCoin)||void 0===o?void 0:o.symbol.toLowerCase())&&p.token_a.symbol.toLowerCase()===(null===(r=t.toCoin)||void 0===r?void 0:r.symbol.toLowerCase())&&"v2"==p.version}));return e&&!Object(f.b)(e)?e:null}return null},swapBtnText:function(){return this.fromCoin&&this.toCoin?this.fromCoin&&!this.toCoin||!this.fromCoin&&this.toCoin?"Select a token":this.poolInfo?this.poolInfo.isPause?"Pool Closed":Number(this.fromCoinAmount)?this.insufficientLiquidity?"Insufficient Liquidity":Object(x.b)(Number(this.fromCoinAmount),this.fromCoin&&this.fromCoin.balance?Number(this.fromCoin.balance.fixed()):0)?"Insufficient balance":"Swap":"Enter an amount":"Pool not found":"Select a token"}}),watch:{"wallet.tokenAccounts":{handler:function(t){this.updateCoinInfo(t)},deep:!0},poolInfo:{handler:function(t,e){t&&t.tokenSwapKey?((null==t?void 0:t.name)!==(null==e?void 0:e.name)&&(this.fixedFromCoin?this.toCoinAmount="":this.fromCoinAmount=""),this.tickArrays=[],this.getTokenSwap()):(this.fromCoinAmount="",this.toCoinAmount="",this.tokenSwap="")},deep:!0},fromCoinAmount:Object(h.a)((function(t,e){var n=this;t&&Number(t)?this.$nextTick((function(){v.b.test(Object(v.a)(t))?n.fixedFromCoin&&n.updateAmounts():n.fromCoinAmount=e})):this.fixedFromCoin&&(this.toCoinAmount="")}),1e3),toCoinAmount:Object(h.a)((function(t,e){var n=this;t&&Number(t)?this.$nextTick((function(){v.b.test(Object(v.a)(t))?n.fixedFromCoin||n.updateAmounts():n.toCoinAmount=e})):this.fixedFromCoin||(this.fromCoinAmount="")}),1e3),"liquidity.tokensObj":{handler:"tokensObjWatch",immediate:!0},currentRoute:function(t){return A(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return n=Object(m.a)(t),e.next=4,n.getDepositAndFee();case 4:o=e.sent,this.depositAndFee=Object(m.a)(o);case 6:case"end":return e.stop()}}),e,this)})))}},destroyed:function(){clearInterval(this.refreshTimer),this.refreshTimer=null},mounted:function(){this.updateCoinInfo(this.wallet.tokenAccounts),this.setRefreshTimer()},methods:{gt:x.b,getPriceImpactPct:function(t,e,n){var o=S.TickMath.sqrtPriceX64ToPrice(new w.BN(t.currentSqrtPrice),t.token_a.decimal,t.token_b.decimal).toNumber(),r=n?o:1/o;console.log(r,"===>>>>currentPrice"),console.log(Math.abs(r-Number(e)),"===>>>>currentPrice111");var c=Math.abs(r-Number(e))/Number(e)*100;return Number(Object(f.e)(c,2))},tokensObjWatch:function(t){t&&!Object(f.b)(t)&&this.$route&&this.$route.query&&(this.$route.query.from?this.fromCoin=Object(f.g)(t,this.$route.query.from):this.fromCoin=Object(f.g)(t,"sol"),this.$route.query.to?this.toCoin=Object(f.g)(t,this.$route.query.to):this.toCoin=Object(f.g)(t,"usdc"))},getImpact:function(){if(this.poolInfo&&this.poolInfo.currentSqrtPrice&&this.fromCoinAmount&&this.toCoinAmount){console.log(this.poolInfo,"===<<<<poolInfo.value");var t=0==(this.fromCoin.token_mint===this.poolInfo.token_a.token_mint&&this.toCoin.token_mint===this.poolInfo.token_b.token_mint?0:1),e=new _.a(this.fromCoinAmount),n=new _.a(this.toCoinAmount),o=.01*Number(this.poolInfo.fee.substr(0,this.poolInfo.fee.length-1)),r=e.sub(e.mul(new _.a(o)).div(100));console.log(r.toString(),"===?????ffffff");var c=n.div(r);return console.log(c.toString(),"====>>>>rates.toString()"),this.getPriceImpactPct(this.poolInfo,c.toString(),t)}return 1e-4},getTokenSwap:function(){return A(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.poolInfo||!this.poolInfo.tokenSwapKey){t.next=9;break}return t.next=3,Object(C.e)(this.$wallet,this.poolInfo.swap_account);case 3:e=t.sent,this.tokenSwap=e,n=this.poolInfo?this.poolInfo.currentPriceView:0,o=String(1/Number(n)),this.currentPriceView=String(n),this.currentPriceViewReverse=o;case 9:case"end":return t.stop()}}),t,this)})))},refresh:function(){0!=Number(this.fromCoinAmount)&&(this.$accessor.wallet.getTokenAccounts(),this.$refs.swapInfo.countdown=0,this.getTokenSwap(),this.updateAmounts())},automatic:function(){this.updateAmounts()},updateCoinInfo:function(t){if(this.fromCoin){var e=t[this.fromCoin.token_mint];e&&(this.fromCoin=Object.assign(Object.assign({},this.fromCoin),e))}if(this.toCoin){var n=t[this.toCoin.token_mint];n&&(this.toCoin=Object.assign(Object.assign({},this.toCoin),n))}},updateAmounts:function(t){var e,n,o,r,c,l,d,h,m;return A(this,void 0,void 0,regeneratorRuntime.mark((function v(){var x,k,y,S,A,j,O,I,N,$,P,L,M,z;return regeneratorRuntime.wrap((function(v){for(;;)switch(v.prev=v.next){case 0:if(x=t||this.poolInfo){v.next=3;break}return v.abrupt("return");case 3:return this.exchange=!0,k="11111111111111111111111111111111"===(null===(e=this.fromCoin)||void 0===e?void 0:e.token_mint)?"So11111111111111111111111111111111111111112":null===(n=this.fromCoin)||void 0===n?void 0:n.token_mint,y="11111111111111111111111111111111"===(null===(o=this.toCoin)||void 0===o?void 0:o.token_mint)?"So11111111111111111111111111111111111111112":null===(r=this.toCoin)||void 0===r?void 0:r.token_mint,S=k===x.token_a.token_mint&&y===x.token_b.token_mint?0:1,v.next=9,Object(C.d)(this.$wallet,x.swap_account,x.redeemers);case 9:if(A=v.sent,this.tokenSwap=A,!this.fromCoin||!this.toCoin||!this.fromCoinAmount&&!this.toCoinAmount){v.next=48;break}if(this.loading=!0,!this.fixedFromCoin){v.next=36;break}if(Number(this.fromCoinAmount)){v.next=16;break}return v.abrupt("return");case 16:return j=new _.a(this.fromCoinAmount).mul(Math.pow(10,null===(c=this.fromCoin)||void 0===c?void 0:c.decimal)).toString(),O=String(Number(j).toFixed()),v.prev=18,I=new w.BN(O),v.next=22,A.simulateSwap(0===S,this.fixedFromCoin,I);case 22:N=v.sent,this.isItExceeded=!1,v.next=30;break;case 26:v.prev=26,v.t0=v.catch(18),this.isItExceeded=!0,console.log("pre swap error",v.t0);case 30:this.exchange=!1,N&&N.estimatedAmountOut?(this.insufficientLiquidity=!1,$=Number(N.estimatedAmountOut)/Math.pow(10,null===(l=this.toCoin)||void 0===l?void 0:l.decimal),this.toCoinAmount=Object(f.c)(String($),null===(d=this.toCoin)||void 0===d?void 0:d.decimal),this.simulateSwapVal=N,N.isExceed&&(this.insufficientLiquidity=!0)):(this.insufficientLiquidity=!0,this.toCoinAmount="0"),this.impact=this.getImpact(),this.loading=!1,v.next=48;break;case 36:if(Number(this.toCoinAmount)){v.next=38;break}return v.abrupt("return");case 38:return P=new _.a(this.toCoinAmount).mul(Math.pow(10,null===(h=this.toCoin)||void 0===h?void 0:h.decimal)).toString(),L=String(Number(P).toFixed()),M=new w.BN(L),v.next=43,A.simulateSwap(0===S,this.fixedFromCoin,M);case 43:z=v.sent,this.exchange=!1,z&&z.estimatedAmountIn?(this.insufficientLiquidity=!1,this.fromCoinAmount=String(Number(z.estimatedAmountIn.toString())/Math.pow(10,null===(m=this.fromCoin)||void 0===m?void 0:m.decimal)),this.simulateSwapVal=z,z.isExceed&&(this.insufficientLiquidity=!0)):(this.insufficientLiquidity=!0,this.fromCoinAmount="0"),this.exchange=!1,this.loading=!1;case 48:case"end":return v.stop()}}),v,this,[[18,26]])})))},openCoinSelect:function(t){var e,n,o,r;this.currentCoinKey=t,"fromCoin"===t?(this.existingCoins=(null===(e=this.toCoin)||void 0===e?void 0:e.symbol)||"",this.lastSelectCoin=(null===(n=this.fromCoin)||void 0===n?void 0:n.symbol)||""):(this.existingCoins=(null===(o=this.fromCoin)||void 0===o?void 0:o.symbol)||"",this.lastSelectCoin=(null===(r=this.toCoin)||void 0===r?void 0:r.symbol)||""),this.showCoinSelect=!0},onCoinSelect:function(t){var e,n;"fromCoin"===this.currentCoinKey?(t.symbol.toLowerCase()===(null===(e=this.toCoin)||void 0===e?void 0:e.symbol.toLowerCase())&&(this.toCoin=null),this.fromCoin=t):(t.symbol.toLowerCase()===(null===(n=this.fromCoin)||void 0===n?void 0:n.symbol.toLowerCase())&&(this.fromCoin=null),this.toCoin=t),this.showCoinSelect=!1},maxBtnSelect:function(t){this.wallet.connected&&("fromCoin"===t?(this.fixedFromCoin=!0,this.fromCoinAmount=this.fromCoin&&this.fromCoin.balance?"SOL"!==this.fromCoin.symbol?this.fromCoin.balance.fixed():String(Number(this.fromCoin.balance.fixed())-.01<0?0:Object(f.e)(Number(this.fromCoin.balance.fixed())-.01,9)):"0"):(this.fixedFromCoin=!1,this.toCoinAmount=this.toCoin&&this.toCoin.balance?"SOL"!==this.toCoin.symbol?this.toCoin.balance.fixed():String(Number(this.toCoin.balance.fixed())-.01<0?0:Object(f.e)(Number(this.toCoin.balance.fixed())-.01,9)):"0"))},halfBtnSelect:function(t){this.wallet.connected&&("fromCoin"===t?(this.fixedFromCoin=!0,this.fromCoinAmount=this.fromCoin&&this.fromCoin.balance?String(Number(this.fromCoin.balance.fixed())/2):"0"):(this.fixedFromCoin=!1,this.toCoinAmount=this.toCoin&&this.toCoin.balance?String(Number(this.toCoin.balance.fixed())/2):"0"))},changeCoinPosition:function(){var t=this.fromCoin,e=this.toCoin;this.fromCoin=e,this.toCoin=t;var n=this.fromCoinAmount,o=this.toCoinAmount;this.fixedFromCoin=!this.fixedFromCoin,this.fixedFromCoin?(this.toCoinAmount="",this.fromCoinAmount=o):(this.fromCoinAmount="",this.toCoinAmount=n)},toSwap:function(){var t,e,n,o,r,c,l,d,f,h;return A(this,void 0,void 0,regeneratorRuntime.mark((function v(){var x,k,_,y,S,A,j,O,I,N,$,P,L=this;return regeneratorRuntime.wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return this.swaping=!0,x=Object(m.a)(this.poolInfo),k="11111111111111111111111111111111"===(null===(t=this.fromCoin)||void 0===t?void 0:t.token_mint)?"So11111111111111111111111111111111111111112":null===(e=this.fromCoin)||void 0===e?void 0:e.token_mint,_="11111111111111111111111111111111"===(null===(n=this.toCoin)||void 0===n?void 0:n.token_mint)?"So11111111111111111111111111111111111111112":null===(o=this.toCoin)||void 0===o?void 0:o.token_mint,k===x.token_a.token_mint&&_===x.token_b.token_mint?0:1,this.$accessor.transaction.setTransactionDesc("Swap ".concat(this.fromCoinAmount," ").concat(null===(r=this.fromCoin)||void 0===r?void 0:r.symbol," to ").concat(this.toCoinAmount," ").concat(null===(c=this.toCoin)||void 0===c?void 0:c.symbol)),this.$accessor.transaction.setShowWaiting(!0),v.next=9,Object(C.e)(this.$wallet,x.tokenSwapKey);case 9:return y=v.sent,S="",A=Number(this.$accessor.slippage)/100,j=Object.assign(Object.assign({},this.simulateSwapVal),{amountLimit:this.fixedFromCoin?new w.BN((Number(this.toCoinAmount)-Number(this.toCoinAmount)*A)*Math.pow(10,null===(l=this.toCoin)||void 0===l?void 0:l.decimal)):new w.BN((Number(this.fromCoinAmount)+Number(this.fromCoinAmount)*A)*Math.pow(10,null===(d=this.fromCoin)||void 0===d?void 0:d.decimal))}),v.prev=13,v.next=16,y.swap(j,this.wallet.address,!0);case 16:return O=v.sent,I={skipPreflight:!0,commitment:"confirmed",preflightCommitment:"confirmed",maxRetries:30,printLogs:!0},v.next=20,O.confirm(I);case 20:(N=v.sent)&&N.signature&&(S=N.signature,$="Swap ".concat(this.fromCoinAmount," ").concat(null===(f=this.fromCoin)||void 0===f?void 0:f.symbol," to ").concat(this.toCoinAmount," ").concat(null===(h=this.toCoin)||void 0===h?void 0:h.symbol),this.$accessor.transaction.setShowSubmitted(!0),P=this,this.$accessor.transaction.sub({txid:S,description:$,type:"Swap",successCallback:function(){P.swaping=!1,P.refresh(),L.$accessor.transaction.setShowSubmitted(!1)},errorCallback:function(){P.swaping=!1,L.$accessor.transaction.setShowSubmitted(!1)}})),this.fromCoinAmount="",this.toCoinAmount="",v.next=33;break;case 26:v.prev=26,v.t0=v.catch(13),this.$accessor.transaction.setShowWaiting(!1),this.$accessor.transaction.setShowSubmitted(!1),this.$notify.close(S+"loading"),this.$notify.error({key:"swap failed",message:"Swap failed",description:v.t0.message,class:"error",icon:this.$createElement("img",{class:{"notify-icon":!0},attrs:{src:"/icon_Error@2x.png"}})}),this.swaping=!1;case 33:case"end":return v.stop()}}),v,this,[[13,26]])})))},toRefreshData:function(){this.countdown=0,this.automatic()},setRefreshTimer:function(){var t=this;this.refreshTimer=setInterval((function(){t.loading||t.countdown<t.autoRefreshTime&&(t.countdown+=1,t.countdown===t.autoRefreshTime&&t.toRefreshData())}),1e3)}}}),O=(n(3755),n(212)),component=Object(O.a)(j,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"swap-all"},[e("div",{staticClass:"c-title"},[e("span",[t._v("Swap")]),t._v(" "),e("div",{staticClass:"refresh-icon"},[e("RefreshIcon",{attrs:{loading:t.loading},on:{refresh:t.toRefreshData}}),t._v(" "),e("Progress",{staticClass:"progress-icon",attrs:{type:"circle",width:14,"stroke-width":10,percent:100/t.autoRefreshTime*t.countdown,"show-info":!1,"trail-color":"#7D8F99","stroke-color":"#1FC7B6"},on:{click:t.toRefreshData}}),t._v(" "),e("SetIcon")],1),t._v(" "),e("div",{staticClass:"buttons"},[e("RefreshIcon",{attrs:{loading:t.loading},on:{refresh:t.toRefreshData}}),t._v(" "),e("SetIcon")],1)]),t._v(" "),e("SwapTabV2"),t._v(" "),e("div",{staticClass:"container swap-container"},[e("div",{staticClass:"form-block"},[e("CoinBlock",{attrs:{"coin-name":t.fromCoin?t.fromCoin.symbol:null,balance:t.fromCoin?t.fromCoin.balance:null,"coin-icon":t.fromCoin?t.fromCoin.icon:"","swap-direction":"From"},on:{onInput:function(e){return t.fromCoinAmount=e},onFocus:function(){t.fixedFromCoin=!0},onMax:function(e){return t.maxBtnSelect("fromCoin")},onSelect:function(e){return t.openCoinSelect("fromCoin")},onHalf:function(e){return t.halfBtnSelect("fromCoin")}},model:{value:t.fromCoinAmount,callback:function(e){t.fromCoinAmount=e},expression:"fromCoinAmount"}}),t._v(" "),e("div",{staticClass:"change-icon"},[e("a",{on:{click:t.changeCoinPosition}})]),t._v(" "),e("CoinBlock",{staticClass:"bottom-block",attrs:{"coin-name":t.toCoin?t.toCoin.symbol:"",balance:t.toCoin?t.toCoin.balance:null,"swap-direction":"To",disabled:!1,"coin-icon":t.toCoin?t.toCoin.icon:"","show-max":!1},on:{onInput:function(e){return t.toCoinAmount=e},onFocus:function(){t.fixedFromCoin=!1},onMax:function(e){return t.maxBtnSelect("toCoin")},onSelect:function(e){return t.openCoinSelect("toCoin")},onHalf:function(e){return t.halfBtnSelect("toCoin")}},model:{value:t.toCoinAmount,callback:function(e){t.toCoinAmount=e},expression:"toCoinAmount"}})],1),t._v(" "),t.wallet.connected?e("div",{staticClass:"swap-btn-content"},[e("Button",{staticClass:"swap-btn",attrs:{loading:t.loading,disabled:!t.poolInfo||t.insufficientLiquidity||t.loading||!t.fromCoin||!t.toCoin||!Number(t.fromCoinAmount)||!Number(t.toCoinAmount)||t.swaping||t.gt(t.fromCoinAmount,t.fromCoin&&t.fromCoin.balance?t.fromCoin.balance.fixed():"0")||t.poolInfo.isPause},on:{click:t.toSwap}},[t._v("\n        "+t._s(t.swapBtnText)+"\n      ")])],1):e("div",{staticClass:"swap-btn-content"},[e("Button",{staticClass:"swap-btn",on:{click:t.$accessor.wallet.openModal}},[t._v(" Connect Wallet ")])],1),t._v(" "),t.showCoinSelect?e("CoinSelect",{attrs:{"existing-coins":t.existingCoins,"last-select-coin":t.lastSelectCoin},on:{onClose:function(){return t.showCoinSelect=!1},onSelect:t.onCoinSelect}}):t._e(),t._v(" "),t.showAddress?e("MintAddress",{attrs:{"from-coin":t.fromCoin,"to-coin":t.toCoin},on:{onClose:function(){return t.showAddress=!1}}}):t._e()],1),t._v(" "),Number(t.fromCoinAmount)&&t.poolInfo&&!t.isItExceeded?e("SwapInfo",{ref:"swapInfo",attrs:{"from-coin":t.fromCoin,"to-coin":t.toCoin,"from-coin-amount":t.fromCoinAmount,"to-coin-amount":t.toCoinAmount,"pool-info":t.poolInfo,"current-price-view-reverse":t.currentPriceViewReverse,"current-price-view":t.currentPriceView,"fixed-from-coin":t.fixedFromCoin,exchange:t.exchange,impact:t.impact},on:{refresh:t.refresh,automatic:t.automatic}}):t._e()],1)}),[],!1,null,"3e4e2d20",null);e.default=component.exports;installComponents(component,{RefreshIcon:n(3280).default,SetIcon:n(3302).default,SwapTabV2:n(3370).default,CoinBlock:n(3303).default,CoinSelect:n(3311).default,MintAddress:n(3603).default,SwapInfo:n(3602).default})}}]);