(window.webpackJsonp=window.webpackJsonp||[]).push([[17,32,35,58,66,69,74,79,80],{1972:function(t,o,n){var content=n(1995);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(88).default)("7ebf25a7",content,!0,{sourceMap:!1})},1984:function(t,o,n){var content=n(2004);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(88).default)("f580aa36",content,!0,{sourceMap:!1})},1994:function(t,o,n){"use strict";n(1972)},1995:function(t,o,n){var e=n(87)(!1);e.push([t.i,".refresh-icon-box[data-v-de09bf26]{width:30px;height:30px;background:linear-gradient(141deg,#383e49,#1a1c1f);border-radius:15px;margin-left:10px;display:flex;align-items:center;justify-content:center;cursor:pointer}.refresh-icon-box[data-v-de09bf26]:hover{background:linear-gradient(141deg,#424953,#2a2e33);box-shadow:2px 4px 12px 0 #23262b,-3px -2px 10px 0 rgba(138,147,160,.16)}.refresh-icon-box svg[data-v-de09bf26]{width:18px;height:18px;fill:#fff}.refresh-icon-box .is-loading[data-v-de09bf26]{-webkit-animation:spin-data-v-de09bf26 1s linear infinite;animation:spin-data-v-de09bf26 1s linear infinite}@-webkit-keyframes spin-data-v-de09bf26{to{transform:rotate(1turn)}}@keyframes spin-data-v-de09bf26{to{transform:rotate(1turn)}}",""]),t.exports=e},1997:function(t,o,n){"use strict";n.r(o);var e=n(188).Vue.extend({props:{loading:{type:Boolean,default:!1}},methods:{refresh:function(){this.$emit("refresh")}}}),r=(n(1994),n(89)),component=Object(r.a)(e,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"icon-box refresh-icon-box"},[n("svg",{class:["icon",t.loading?"is-loading":""],attrs:{"aria-hidden":"true"},on:{click:t.refresh}},[n("use",{attrs:{"xlink:href":"#icon-icon-refresh"}})])])}),[],!1,null,"de09bf26",null);o.default=component.exports},2001:function(t,o,n){"use strict";n.r(o);n(2011);var input=n(2012),e=n.n(input),r=(n(409),n(158)),c=n.n(r),l=(n(82),n(330),n(27));l.default.use(c.a);var d=l.default.extend({components:{Modal:c.a,Input:e.a},data:function(){return{slippage:"",slippageArr:["0.1","0.5","1"]}},mounted:function(){this.slippage=this.$accessor.slippage},methods:{oninput:function(t){t.target.value=t.target.value.match(/^\d+(?:\.\d{0,2})?/)?t.target.value.match(/^\d+(?:\.\d{0,2})?/)[0]||null:"",t.target.value&&(this.slippage=t.target.value)},confirmSlippage:function(){this.$accessor.setSlippage(this.slippage),this.$emit("onClose")}}}),f=(n(2003),n(89)),component=Object(f.a)(d,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("Modal",{attrs:{title:"Settings","z-index":1070,centered:"",width:"400px",visible:!0,footer:null},on:{cancel:function(o){return t.$emit("onClose")}}},[n("div",{staticClass:"pool-setting"},[n("div",{staticClass:"slippage-tolerance"},[t._v("Slippage tolerance")]),t._v(" "),n("div",{staticClass:"input-content"},[t._l(t.slippageArr,(function(o,e){return n("div",{key:e,staticClass:"slippage-item",class:o===t.slippage?"slippage-item-active":"",on:{click:function(n){t.slippage=o}}},[t._v("\n        "+t._s(o)+"\n      ")])})),t._v(" "),n("Input",{attrs:{typ:"number",size:"large",suffix:"%"},on:{input:t.oninput},model:{value:t.slippage,callback:function(o){t.slippage=o},expression:"slippage"}})],2),t._v(" "),t.slippage?n("div",{staticClass:"slippage-hint",class:Number(t.slippage)>1&&50>=Number(t.slippage)?"slippage-hint-waring":Number(t.slippage)>50?"slippage-hint-error":""},[t._v("\n      "+t._s(Number(t.slippage)>1&&50>=Number(t.slippage)?"Your transaction may be fronturn":Number(t.slippage)>50?"Enter a valid slippage percentage":"")+"\n    ")]):t._e(),t._v(" "),n("div",{staticClass:"btn-box"},[n("Button",{staticClass:"disconnect-btn",on:{click:function(o){return t.$emit("onClose")}}},[t._v(" Cancel ")]),t._v(" "),n("div",{staticClass:"switch-wallet-btn-box"},[n("Button",{staticClass:"switch-wallet-btn",attrs:{disabled:Number(t.slippage)>50},on:{click:t.confirmSlippage}},[t._v("\n          Confirm\n        ")])],1)],1)])])}),[],!1,null,null,null);o.default=component.exports},2002:function(t,o,n){var content=n(2009);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(88).default)("4f02b76c",content,!0,{sourceMap:!1})},2003:function(t,o,n){"use strict";n(1984)},2004:function(t,o,n){var e=n(87)(!1);e.push([t.i,".gradient-btn-large{width:100%;height:56px;background:linear-gradient(268deg,#5fe6d0,#596eff 32%,#6950f5 68%,#ad4ff6);box-shadow:0 4px 6px 0 rgba(26,28,31,.5);border-radius:10px;font-size:18px;font-weight:700;border:1px solid #e8e4ff;color:#fff}.gradient-btn-large:hover{background:linear-gradient(268deg,#68f5de,#6c7fff 32%,#7058f8 68%,#ba60ff)}.gradient-btn-large:disabled{border:2px solid rgba(232,228,255,.1);cursor:not-allowed}.gradient-btn-large:disabled,.gradient-btn-large:disabled:hover{background:hsla(0,0%,100%,.1)}.new-gradient-btn-large{width:100%;height:56px;box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:16px;margin-top:20px}.farm-btn-small,.new-gradient-btn-large{background:linear-gradient(180deg,#e4e2fe,#2881f2);padding:1px}.farm-btn-small{line-height:1;height:40px;border-radius:6px;border:none}.farm-btn-small div{text-align:center;border-radius:6px;font-size:14px;font-weight:400;color:#fff;background:linear-gradient(268deg,#5fe6d0,#597bff 38%,#9380ff 72%,#e590ff)}.farm-btn-small div:hover{background:linear-gradient(270deg,#93ffed,#84caff 34%,#a291ff 68%,#efb9ff)}.pool-setting .slippage-tolerance{margin-top:14px;color:#b5b8c2}.pool-setting .input-content{margin-top:10px;display:flex;justify-content:space-between}.pool-setting .input-content .slippage-item{width:80px;height:40px;background:none;font-size:14px;font-weight:500;color:#fff;text-align:center;line-height:40px;box-shadow:0 4px 12px 0 #25282c;border-radius:10px;border:1px solid #3f434e}.pool-setting .input-content .slippage-item-active{background:#42454b;box-shadow:0 2px 6px 0 rgba(26,28,31,.5);border-radius:10px;color:#07ebad;border:1px solid #07ebad}.pool-setting .input-content input{width:80px;height:40px;color:#fff;border:none;background:#23262b;box-shadow:0 2px 3px 1px #1a1c1f;border-radius:10px}.pool-setting .input-content .ant-input-affix-wrapper{width:auto}.pool-setting .input-content .ant-input-affix-wrapper .ant-input-suffix{color:#fff}.pool-setting .input-content .ant-input-affix-wrapper input{text-align:center!important;font-size:14px;line-height:20px;background:#23262b;box-shadow:0 2px 3px 1px #1a1c1f;border-radius:10px}.pool-setting .slippage-hint{margin-top:14px}.pool-setting .slippage-hint-waring{color:#fb0}.pool-setting .slippage-hint-error{color:#ff5050}.pool-setting .btn-box{display:flex;margin-top:40px;justify-content:space-between}.pool-setting .disconnect-btn{width:168px;height:48px;box-shadow:0 4px 12px 0 #25282c;border-radius:12px;font-size:16px;border:1px solid #3f434e;font-weight:600;background:transparent}.pool-setting .disconnect-btn:hover{background:hsla(0,0%,100%,.05)}.pool-setting .switch-wallet-btn-box{width:168px;height:46px;margin-top:0;margin-left:0!important;border-radius:12px}.pool-setting .switch-wallet-btn-box .switch-wallet-btn{width:100%;height:56px;background:linear-gradient(268deg,#5fe6d0,#596eff 32%,#6950f5 68%,#ad4ff6);box-shadow:0 4px 6px 0 rgba(26,28,31,.5);border-radius:10px;font-size:18px;font-weight:700;border:1px solid #e8e4ff;color:#fff;height:100%;font-size:16px}.pool-setting .switch-wallet-btn-box .switch-wallet-btn:hover{background:linear-gradient(268deg,#68f5de,#6c7fff 32%,#7058f8 68%,#ba60ff)}.pool-setting .switch-wallet-btn-box .switch-wallet-btn:disabled{border:2px solid rgba(232,228,255,.1);background:hsla(0,0%,100%,.1);cursor:not-allowed}.pool-setting .switch-wallet-btn-box .switch-wallet-btn:disabled:hover{background:hsla(0,0%,100%,.1)}@media screen and (max-width:750px){.pool-setting .input-content .slippage-item,.pool-setting .input-content input{width:60px}}",""]),t.exports=e},2008:function(t,o,n){"use strict";n(2002)},2009:function(t,o,n){var e=n(87)(!1);e.push([t.i,".set-icon-container .set-icon-box .set-icon-content[data-v-46a6cc42]{height:28px;padding:0 8px;background:linear-gradient(270deg,#3e434e,#282a2f);box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:8px;border:1px solid #3f434e;display:flex;align-items:center;justify-content:center;cursor:pointer}.set-icon-container .set-icon-box .set-icon-content[data-v-46a6cc42]:hover{background:#464953}.set-icon-container .set-icon-box .set-icon-content .icon[data-v-46a6cc42]{width:16px;height:16px;fill:#fff;cursor:pointer}.set-icon-container .set-icon-box .set-icon-content span[data-v-46a6cc42]{font-size:12px;margin-left:4px}",""]),t.exports=e},2013:function(t,o,n){"use strict";n.r(o);var e=n(188).Vue.extend({data:function(){return{showSetting:!1}},computed:{slippageView:function(){return"".concat(this.$accessor.slippage,"%")}}}),r=(n(2008),n(89)),component=Object(r.a)(e,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"set-icon-container"},[n("div",{staticClass:"set-icon-box",on:{click:function(o){t.showSetting=!0}}},[n("div",{staticClass:"set-icon-content"},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-a-bianzu81"}})]),t._v(" "),n("span",[t._v(t._s(t.slippageView))])])]),t._v(" "),t.showSetting?n("Setting",{on:{onClose:function(){return t.showSetting=!1}}}):t._e()],1)}),[],!1,null,"46a6cc42",null);o.default=component.exports;installComponents(component,{Setting:n(2001).default})},2014:function(t,o,n){var content=n(2046);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(88).default)("eb09123e",content,!0,{sourceMap:!1})},2020:function(t,o,n){"use strict";n.d(o,"b",(function(){return e})),n.d(o,"a",(function(){return r}));n(412),n(82),n(96),n(148);var e=RegExp("^\\d*(?:\\\\[.])?\\d*$");function r(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},2031:function(t,o,n){var content=n(2087);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(88).default)("c0913b84",content,!0,{sourceMap:!1})},2034:function(t,o,n){var content=n(2102);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(88).default)("33165894",content,!0,{sourceMap:!1})},2041:function(t,o,n){"use strict";n.r(o);var e=n(27),r=n(664),c=n(130),l=n(124),d=e.default.extend({model:{prop:"value",event:"onInput"},props:{value:{type:String,default:""},coinName:{type:String,default:""},balance:{type:Object,default:null},showMax:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showLock:{type:Boolean,default:!1},notSelect:{type:Boolean,default:!1},coinObj:{type:Object,default:function(){return{}}},coinIcon:{type:String,default:""}},computed:Object.assign(Object.assign({},Object(l.e)(["wallet"])),{coinBalance:function(){if(this.coinObj&&this.coinObj.mintAddress&&this.wallet.tokenAccounts){var t=this.wallet.tokenAccounts[this.coinObj.mintAddress];if(t&&t.balance)return t.balance}return 0}}),methods:{importIcon:r.a,lt:c.c,selectCoin:function(){this.notSelect||this.$emit("onSelect")}}}),f=(n(2045),n(89)),component=Object(f.a)(d,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"coin-block"},[e("div",{staticClass:"coin-box"},[e("div",{staticClass:"coin-name",on:{click:t.selectCoin}},[t.coinName?e("img",{attrs:{src:t.coinIcon||t.importIcon("/coins/"+t.coinName.toLowerCase()+".png")}}):e("img",{attrs:{src:n(963)}}),t._v(" "),e("span",[t._v(t._s(t.coinName||"Select"))]),t._v(" "),t.notSelect?t._e():e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-icon-on"}})])]),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"balance-box"},[e("span",[t._v("Balance: "+t._s(t.wallet.connected&&t.balance&&!t.balance.wei.isNaN()&&t.balance.fixed()||0))]),t._v(" "),t.wallet.connected&&t.showMax&&t.balance&&(!t.value||t.lt(t.value,t.balance.toEther()))?e("button",{staticClass:"max",on:{click:function(o){return t.$emit("onMax")}}},[t._v("\n          MAX\n        ")]):t._e()]),t._v(" "),e("input",{attrs:{type:"text",autocomplete:"off",autocorrect:"off",placeholder:"0.00",pattern:"^[0-9]*[.,]?[0-9]*$",minlength:"1",maxlength:"79",spellcheck:"false",disabled:t.disabled,oninput:"this.value = this.value.replace(/[^\\d.]/g,'');"},domProps:{value:t.value},on:{input:function(o){return t.$emit("onInput",o.target.value)},focus:function(o){return t.$emit("onFocus")}}})])]),t._v(" "),t.showLock?e("div",{staticClass:"lock-mask"},[e("img",{attrs:{src:n(970)}}),t._v(" "),e("p",[t._v("The market price is outside your specified price range. Single-asset deposit only.")])]):t._e()])}),[],!1,null,"05d05a2a",null);o.default=component.exports},2045:function(t,o,n){"use strict";n(2014)},2046:function(t,o,n){var e=n(87)(!1);e.push([t.i,".coin-block[data-v-05d05a2a]{position:relative;width:460px;height:80px;background:#23262b;box-shadow:0 0 2px 0 #535966,0 2px 3px 1px #1a1c1f;border-radius:20px}.coin-block .coin-box[data-v-05d05a2a]{display:flex;align-items:center;padding:8px 20px 8px 8px}.coin-block .coin-box .coin-name[data-v-05d05a2a]{width:148px;height:64px;border-radius:12px;border:1px solid #3f434e;display:flex;align-items:center;justify-content:center;background:linear-gradient(270deg,#3e434e,#2f333b);box-shadow:0 4px 12px 0 rgba(26,28,31,.5)}.coin-block .coin-box .coin-name img[data-v-05d05a2a]{width:36px;height:36px;border-radius:100%;margin-right:6px}.coin-block .coin-box .coin-name span[data-v-05d05a2a]{font-size:16px;color:#fff;font-weight:700}.coin-block .coin-box .coin-name svg[data-v-05d05a2a]{width:20px;height:20px;fill:hsla(0,0%,100%,.5)}.coin-block .coin-box .coin-name:hover svg[data-v-05d05a2a]{fill:#fff}.coin-block .coin-box .right[data-v-05d05a2a]{height:64px;flex:1}.coin-block .coin-box .right .balance-box[data-v-05d05a2a]{display:flex;justify-content:flex-end;align-items:center}.coin-block .coin-box .right .balance-box span[data-v-05d05a2a]{font-size:14px;line-height:1;color:hsla(0,0%,100%,.5)}.coin-block .coin-box .right .balance-box button[data-v-05d05a2a]{width:48px;height:24px;background:linear-gradient(268deg,#82e6ff,#7b98ff 38%,#c492ff);box-shadow:0 4px 6px 0 rgba(26,28,31,.1);border-radius:7px;color:#fff;margin-left:10px;font-size:12px}.coin-block .coin-box .right>input[data-v-05d05a2a]{font-size:24px;color:#fff;border:none;background:none;padding-left:10px;text-align:right;width:100%;margin-top:10px}.coin-block .lock-mask[data-v-05d05a2a]{position:absolute;left:0;right:0;top:0;bottom:0;background:rgba(51,55,64,.9);display:flex;align-items:center;justify-content:center;border-radius:10px;padding:20px}.coin-block .lock-mask img[data-v-05d05a2a]{width:40px;height:40px}.coin-block .lock-mask p[data-v-05d05a2a]{height:40px;margin-left:10px;font-size:14px;color:#fff;text-align:center}@media screen and (max-width:750px){.coin-block[data-v-05d05a2a]{width:100%}.coin-block .coin-box .coin-name[data-v-05d05a2a]{width:120px}.coin-block .coin-box .balance-box[data-v-05d05a2a]{text-align:right}}",""]),t.exports=e},2062:function(t,o,n){"use strict";n.r(o);var e=n(32),r=(n(961),n(173)),c=n.n(r),l=(n(409),n(158)),d=n.n(l),f=(n(132),n(295),n(129),n(142),n(40),n(141),n(159),n(27)),m=n(124),h=n(146),x=n(134),v=n(56);f.default.use(d.a);var C=f.default.extend({components:{Modal:d.a,Icon:c.a},props:{existingCoins:{type:String,default:""},lastSelectCoin:{type:String,default:""}},data:function(){return{keyword:"",tokenList:[]}},computed:Object.assign({},Object(m.e)(["wallet","liquidity"])),watch:{keyword:function(t){this.createTokenList(void 0,t)},"wallet.tokenAccounts":{handler:function(t,o){this.createTokenList(void 0,this.keyword)},deep:!0},"liquidity.tokensObj":{handler:"tokensObjWatch",immediate:!0}},methods:{tokensObjWatch:function(t){console.log("没进来吗#####liquidity.tokensObj###newVal###",t),Object(v.b)(t)||this.createTokenList(t)},toSelect:function(t,o){this.$emit("onSelect",t)},importIconNew:function(path){try{return n(971)("./assets".concat(path))}catch(t){return n(666)}},createTokenList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.liquidity.tokensObj,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],r=Object(x.a)(h.b),c=[],l=[],d={};d=Object(x.a)(t),console.log("createTokenList###tokenObject###",d);for(var f=0,m=Object.keys(d);f<m.length;f++){var address=m[f],v=Object(x.a)(d[address]);if(this.lastSelectCoin&&v.symbol===this.lastSelectCoin&&(v.unusable=!0),"SOL"!==v.symbol.toUpperCase()){var C=this.wallet.tokenAccounts[v.token_mint];C?(v=Object.assign(Object.assign({},v),C),c.push(v)):l.push(v)}}var w=this.wallet.tokenAccounts[h.b.mintAddress];w&&(r=Object.assign(Object.assign({},r),w)),c=c.sort((function(a,b){return b.balance.toEther()-a.balance.toEther()})),console.log("solAccount###",w),n=[r].concat(Object(e.a)(c),l),o&&(n=n.filter((function(t){return t.symbol.toUpperCase().includes(o.toUpperCase())||t.token_mint.toUpperCase().indexOf(o.toUpperCase())>=0}))),console.log("new###CoinSelect###tokenList####",n),this.tokenList=Object(x.a)(n)}}}),w=C,k=(n(2086),n(89)),component=Object(k.a)(w,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("Modal",{attrs:{title:"Select a token",width:400,centered:"",visible:!0,footer:null},on:{cancel:function(o){return t.$emit("onClose")}}},[e("div",{staticClass:"coin-select-modal"},[e("div",{staticClass:"search-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:"Enter the token symbol or address"},domProps:{value:t.keyword},on:{input:function(o){o.target.composing||(t.keyword=o.target.value)}}})]),t._v(" "),e("div",{staticClass:"coin-list-box"},[e("vue-scroll",[t.tokenList&&t.tokenList.length>0?e("ul",{staticClass:"coin-list"},t._l(t.tokenList,(function(o,n){return e("li",{key:n,class:o.unusable?"unusable":"",on:{click:function(n){return t.toSelect(o)}}},[e("div",{staticClass:"left"},[e("img",{attrs:{src:o.icon||t.importIconNew("/coins/"+o.symbol.toLowerCase()+".png")}}),t._v(" "),e("div",{staticClass:"name-box"},[e("h3",[t._v(t._s(o.symbol))]),t._v(" "),e("p",[t._v(t._s(o.name))])])]),t._v(" "),e("div",{staticClass:"balance-box"},[e("div",{staticClass:"balance"},[t.wallet.loading?e("div",[e("Icon",{attrs:{type:"loading"}})],1):o.tokenAccountAddress&&t.wallet.connected?e("div",[t._v("\n                  "+t._s(o.balance.fixed())+"\n                ")]):e("div")]),t._v(" "),e("p")])])})),0):e("div",{staticClass:"no-data"},[e("img",{attrs:{src:n(959)}}),t._v(" "),e("p",[t._v("No Data")])])])],1)])])}),[],!1,null,"6f5746a4",null);o.default=component.exports},2086:function(t,o,n){"use strict";n(2031)},2087:function(t,o,n){var e=n(87)(!1);e.push([t.i,".coin-select-modal .search-input[data-v-6f5746a4]{background:#23262b;box-shadow:0 2px 3px 1px #1a1c1f;border-radius:10px;width:100%;height:60px;padding:1px}.coin-select-modal .search-input input[data-v-6f5746a4]{width:100%;height:100%;background:transparent;border-radius:10px;font-size:14px;border:none;padding:0 20px}.coin-select-modal .coin-list-box[data-v-6f5746a4]{border-top:1px solid hsla(0,0%,100%,.1);height:282px;overflow-y:auto;margin-top:20px}.coin-select-modal .coin-list-box .coin-list[data-v-6f5746a4]{min-height:300px}.coin-select-modal .coin-list-box .coin-list li[data-v-6f5746a4]{display:flex;height:48px;margin-top:10px;align-items:center;justify-content:space-between;font-size:14px;color:#fff;cursor:pointer}.coin-select-modal .coin-list-box .coin-list li .left[data-v-6f5746a4]{display:flex;align-items:center}.coin-select-modal .coin-list-box .coin-list li .left img[data-v-6f5746a4]{width:30px;height:30px;border-radius:100%}.coin-select-modal .coin-list-box .coin-list li .left .name-box[data-v-6f5746a4]{margin-left:10px}.coin-select-modal .coin-list-box .coin-list li .left .name-box h3[data-v-6f5746a4],.coin-select-modal .coin-list-box .coin-list li .left .name-box p[data-v-6f5746a4]{padding:0;margin:0}.coin-select-modal .coin-list-box .coin-list li .left .name-box p[data-v-6f5746a4]{font-size:12px;color:hsla(0,0%,100%,.5)}.coin-select-modal .coin-list-box .coin-list li .balance-box[data-v-6f5746a4]{padding-right:10px}.coin-select-modal .coin-list-box .coin-list li.unusable[data-v-6f5746a4]{color:hsla(0,0%,100%,.5);cursor:not-allowed}.coin-select-modal .coin-list-box .coin-list li.unusable .left img[data-v-6f5746a4]{filter:grayscale(1)}.coin-select-modal .no-data[data-v-6f5746a4]{width:100%;min-height:260px;display:flex;align-items:center;justify-content:center;flex-direction:column}.coin-select-modal .no-data img[data-v-6f5746a4]{width:80px;height:80px}.coin-select-modal .no-data p[data-v-6f5746a4]{color:hsla(0,0%,100%,.8);padding-top:10px}",""]),t.exports=e},2101:function(t,o,n){"use strict";n(2034)},2102:function(t,o,n){var e=n(87)(!1);e.push([t.i,".swap-tab-box[data-v-ade2dcf8]{width:234px;height:40px;background:#23262b;box-shadow:0 0 2px 0 #535966,inset 0 2px 3px 1px #1a1c1f;border-radius:12px;padding:4px;margin:0 auto 20px}.swap-tab-box .swap-tab[data-v-ade2dcf8]{width:100%;height:100%;display:flex;align-items:center}.swap-tab-box .swap-tab .tab-item[data-v-ade2dcf8]{width:113px;height:32px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.swap-tab-box .swap-tab .tab-item span[data-v-ade2dcf8]{font-size:14px;color:hsla(0,0%,100%,.5)}.swap-tab-box .swap-tab .tab-item svg[data-v-ade2dcf8]{width:10px;height:10px}.swap-tab-box .swap-tab .tab-item.nuxt-link-exact-active[data-v-ade2dcf8]{background:linear-gradient(270deg,#3e434e,#282a2f);box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:6px;border:1px solid #3f434e}.swap-tab-box .swap-tab .tab-item.nuxt-link-exact-active span[data-v-ade2dcf8]{font-size:14px;color:#fff}.swap-tab-box .swap-tab .tab-item .tips[data-v-ade2dcf8]{position:absolute;bottom:-38px;left:50%;transform:translate(-50%);height:28px;line-height:28px;background:#2e3138;box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:4px;font-size:12px;color:hsla(0,0%,100%,.5);white-space:nowrap;padding:0 16px;display:none}.swap-tab-box .swap-tab .tab-item:hover .tips[data-v-ade2dcf8]{display:inline-block}@media screen and (max-width:750px){.swap-tab-box[data-v-ade2dcf8]{margin-top:20px}}",""]),t.exports=e},2114:function(t,o,n){var content=n(2189);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(88).default)("1528e20c",content,!0,{sourceMap:!1})},2115:function(t,o,n){var content=n(2191);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(88).default)("78b9a0ae",content,!0,{sourceMap:!1})},2143:function(t,o,n){"use strict";n.r(o);var e=n(27).default.extend({}),r=(n(2101),n(89)),component=Object(r.a)(e,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"swap-tab-box"},[n("div",{staticClass:"swap-tab"},[n("nuxt-link",{staticClass:"tab-item active",attrs:{to:"/jupswap"}},[n("span",[t._v("Aggregated")]),t._v(" "),n("div",{staticClass:"tips"},[t._v("Powered by Jupiter")])]),t._v(" "),n("nuxt-link",{class:"/swap"===t.$route.path||"/"===t.$route.path?"nuxt-link-exact-active nuxt-link-active tab-item":"tab-item",attrs:{to:"/swap"}},[n("span",[t._v("Lite")]),t._v(" "),n("div",{staticClass:"tips"},[t._v("Crema CLMM pools only")])])],1)])}),[],!1,null,"ade2dcf8",null);o.default=component.exports},2188:function(t,o,n){"use strict";n(2114)},2189:function(t,o,n){var e=n(87)(!1);e.push([t.i,".swap-info>.block[data-v-1a5c1c0a]{display:flex;align-items:center;justify-content:space-between;margin-top:20px;font-size:14px}.swap-info>.block>span[data-v-1a5c1c0a]{color:#b5b8c2}.swap-info>.block .right[data-v-1a5c1c0a]{display:flex;align-items:center;color:#fff}.swap-info>.block .right .ant-progress[data-v-1a5c1c0a]{margin-left:6px;margin-bottom:3px}.swap-info>.block .right svg[data-v-1a5c1c0a]{width:20px;height:20px}",""]),t.exports=e},2190:function(t,o,n){"use strict";n(2115)},2191:function(t,o,n){var e=n(87)(!1);e.push([t.i,".pc-address{display:block}.h5-address{display:none}.mint-address .address-container{padding:12px;background:rgba(0,0,0,.05);border-radius:8px}.mint-address .address-container>.pc-address{display:flex;justify-content:space-between;align-items:center;color:#b5b8c2}.mint-address .address-container>.pc-address+div{margin-top:14px}.mint-address .address-container .icon{width:16px;height:16px;fill:#b5b8c2}.mint-address .address-container .icon:hover{fill:#fff}.mint-address .address-container img{width:30px;height:30px}@media screen and (max-width:750px){.mint-address .address-container>.pc-address{display:none}.mint-address .address-container>.h5-address{display:flex;justify-content:space-between;align-items:center;color:#b5b8c2}.mint-address .address-container>.h5-address+div{margin-top:14px}}",""]),t.exports=e},2248:function(t,o,n){var content=n(2444);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(88).default)("6dd18874",content,!0,{sourceMap:!1})},2288:function(t,o,n){"use strict";n.r(o);n(2043);var progress=n(2044),e=n.n(progress),r=(n(225),n(91),n(189),n(27)),c=n(56),l=r.default.extend({components:{Progress:e.a},props:{poolInfo:{type:Object,default:function(){return{}}},fromCoin:{type:Object,default:function(){return{}}},toCoin:{type:Object,default:function(){return{}}},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fixedFromCoin:{type:Boolean,default:!0},dataIsLoading:{type:Boolean,default:!1},currentPriceView:{type:String||Number,default:""},currentPriceViewReverse:{type:String||Number,default:""}},data:function(){return{autoRefreshTime:20,countdown:0,refreshTimer:null}},computed:{defaultRates:function(){var t,o,n,e;return this.poolInfo&&(null===(t=this.fromCoin)||void 0===t?void 0:t.symbol.toLowerCase())===this.poolInfo.token_a.symbol.toLowerCase()&&(null===(o=this.toCoin)||void 0===o?void 0:o.symbol.toLowerCase())===this.poolInfo.token_b.symbol.toLowerCase()?this.poolInfo.currentPriceView:this.poolInfo&&(null===(n=this.fromCoin)||void 0===n?void 0:n.symbol.toLowerCase())===this.poolInfo.token_b.symbol.toLowerCase()&&(null===(e=this.toCoin)||void 0===e?void 0:e.symbol.toLowerCase())===this.poolInfo.token_a.symbol.toLowerCase()?this.poolInfo.currentPriceViewReverse:""}},watch:{poolInfo:{handler:"poolInfoWatch",immediate:!0}},mounted:function(){this.setRefreshTimer()},destroyed:function(){clearInterval(this.refreshTimer),this.refreshTimer=null},methods:{fixD:c.d,poolInfoWatch:function(t,o){console.log("swapInfo###poolInfoWatch###poolInfo###",t),console.log("swapInfo###poolInfoWatch###old###",o),(null==t?void 0:t.name)!==(null==o?void 0:o.name)&&(this.isChangePool=!0)},toRefreshData:function(){this.countdown=0,this.$emit("refresh")},setRefreshTimer:function(){var t=this;this.refreshTimer=setInterval((function(){t.loading||t.countdown<t.autoRefreshTime&&(t.countdown+=1,t.countdown===t.autoRefreshTime&&t.toRefreshData())}),1e3)}}}),d=(n(2188),n(89)),component=Object(d.a)(l,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"swap-info"},[n("div",{staticClass:"block"},[n("span",[t._v("Exchange Rate")]),t._v(" "),n("div",{staticClass:"right"},[t.fromCoin&&t.toCoin&&Number(t.fromCoinAmount)&&Number(t.toCoinAmount)&&t.defaultRates?n("div",[Number(t.fromCoinAmount)&&Number(t.toCoinAmount)?n("span",[t._v("\n          1 "+t._s(t.fromCoin.symbol)+" = "+t._s(t.fixD(Number(t.toCoinAmount)/Number(t.fromCoinAmount),t.toCoin.decimal))+"\n          "+t._s(t.toCoin.symbol)+"\n        ")]):n("span",[t._v("1 "+t._s(t.fromCoin.symbol)+" = "+t._s(t.fixD(Number(t.defaultRates),t.toCoin.decimal))+" "+t._s(t.toCoin.symbol))])]):t._e(),t._v(" "),!t.fromCoin||!t.toCoin||Number(t.fromCoinAmount)&&Number(t.toCoinAmount)?t._e():n("div",[n("span",[t._v("1 "+t._s(t.fromCoin.symbol)+" = "+t._s(t.fixD(Number(t.defaultRates),t.toCoin.decimal))+" "+t._s(t.toCoin.symbol))])]),t._v(" "),n("Progress",{class:t.dataIsLoading?"disabled":"",attrs:{type:"circle",width:14,"stroke-width":10,percent:100/t.autoRefreshTime*t.countdown,"show-info":!1},on:{click:t.toRefreshData}})],1)]),t._v(" "),t.toCoinAmount&&t.fromCoinAmount&&Number(t.toCoinAmount)>0?[t.toCoinAmount&&t.fromCoinAmount?n("div",{staticClass:"block"},[n("span",[t._v(t._s(t.fixedFromCoin?"Minimum Received":"Maximum Sold"))]),t._v(" "),n("div",{staticClass:"right"},[t._v("\n        "+t._s(t.fixedFromCoin?t.fixD(Number(t.toCoinAmount)/(1+Number(t.$accessor.slippage)/100),t.toCoin.decimal):t.fixD(t.fromCoinAmount*(1+Number(t.$accessor.slippage)/100),t.toCoin.decimal))+"\n      ")])]):t._e(),t._v(" "),n("div",{staticClass:"block"},[n("span",[t._v("Fee")]),t._v(" "),t.poolInfo?n("div",{staticClass:"right"},[t._v(t._s(t.poolInfo.feeView)+"%")]):t._e()])]:t._e()],2)}),[],!1,null,"1a5c1c0a",null);o.default=component.exports},2289:function(t,o,n){"use strict";n.r(o);n(409);var e=n(158),r=n.n(e),c=n(27),l=n(664);c.default.use(r.a);var d=c.default.extend({components:{Modal:r.a},props:{toCoin:{type:Object,default:function(){return{}}},fromCoin:{type:Object,default:function(){return{}}}},methods:{importIcon:l.a}}),f=(n(2190),n(89)),component=Object(f.a)(d,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",[n("Modal",{staticClass:"mint-address",attrs:{width:"400px",visible:!0,centered:"",title:"Address",footer:null},on:{cancel:function(o){return t.$emit("onClose")}}},[n("div",{staticClass:"address-container"},[t.fromCoin&&t.fromCoin.symbol&&t.fromCoin.token_mint?n("div",{staticClass:"pc-address"},[n("img",{attrs:{src:t.fromCoin.icon||t.importIcon("/coins/"+t.fromCoin.symbol.toLowerCase()+".png")}}),t._v(" "),n("span",[t._v("\n          "+t._s(t.fromCoin.token_mint&&t.fromCoin.token_mint.substr(0,14))+"\n          ...\n          "+t._s(t.fromCoin.token_mint&&t.fromCoin.token_mint.substr(t.fromCoin.token_mint.length-15,15))+"\n        ")]),t._v(" "),n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(o){return t.$accessor.copy(t.fromCoin.token_mint)}}},[n("use",{attrs:{"xlink:href":"#icon-icon_copy"}})])]):t._e(),t._v(" "),t.toCoin&&t.toCoin.symbol&&t.toCoin.token_mint?n("div",{staticClass:"pc-address"},[n("img",{attrs:{src:t.toCoin.icon||t.importIcon("/coins/"+t.toCoin.symbol.toLowerCase()+".png")}}),t._v(" "),n("span",[t._v("\n          "+t._s(t.toCoin.token_mint&&t.toCoin.token_mint.substr(0,14))+"\n          ...\n          "+t._s(t.toCoin.token_mint&&t.toCoin.token_mint.substr(t.toCoin.token_mint.length-15,15))+"\n        ")]),t._v(" "),n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(o){return t.$accessor.copy(t.toCoin.token_mint)}}},[n("use",{attrs:{"xlink:href":"#icon-icon_copy"}})])]):t._e(),t._v(" "),t.fromCoin&&t.fromCoin.symbol&&t.fromCoin.token_mint?n("div",{staticClass:"h5-address"},[n("img",{attrs:{src:t.fromCoin.icon||t.importIcon("/coins/"+t.fromCoin.symbol.toLowerCase()+".png")}}),t._v(" "),n("span",[t._v("\n          "+t._s(t.fromCoin.token_mint&&t.fromCoin.token_mint.substr(0,11))+"\n          ...\n          "+t._s(t.fromCoin.token_mint&&t.fromCoin.token_mint.substr(t.fromCoin.token_mint.length-11,11))+"\n        ")]),t._v(" "),n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(o){return t.$accessor.copy(t.fromCoin.token_mint)}}},[n("use",{attrs:{"xlink:href":"#icon-icon_copy"}})])]):t._e(),t._v(" "),t.toCoin&&t.toCoin.symbol&&t.toCoin.token_mint?n("div",{staticClass:"h5-address"},[n("img",{attrs:{src:t.toCoin.icon||t.importIcon("/coins/"+t.toCoin.symbol.toLowerCase()+".png")}}),t._v(" "),n("span",[t._v("\n          "+t._s(t.toCoin.token_mint&&t.toCoin.token_mint.substr(0,11))+"\n          ...\n          "+t._s(t.toCoin.token_mint&&t.toCoin.token_mint.substr(t.toCoin.token_mint.length-11,11))+"\n        ")]),t._v(" "),n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(o){return t.$accessor.copy(t.toCoin.token_mint)}}},[n("use",{attrs:{"xlink:href":"#icon-icon_copy"}})])]):t._e()])])],1)}),[],!1,null,null,null);o.default=component.exports},2443:function(t,o,n){"use strict";n(2248)},2444:function(t,o,n){var e=n(87),r=n(665),c=n(1011),l=n(1010),d=e(!1),f=r(c),m=r(l);d.push([t.i,".gradient-btn-large[data-v-016c21db]{width:100%;height:56px;background:linear-gradient(268deg,#5fe6d0,#596eff 32%,#6950f5 68%,#ad4ff6);box-shadow:0 4px 6px 0 rgba(26,28,31,.5);border-radius:10px;font-size:18px;font-weight:700;border:1px solid #e8e4ff;color:#fff}.gradient-btn-large[data-v-016c21db]:hover{background:linear-gradient(268deg,#68f5de,#6c7fff 32%,#7058f8 68%,#ba60ff)}.gradient-btn-large[data-v-016c21db]:disabled{border:2px solid rgba(232,228,255,.1);cursor:not-allowed}.gradient-btn-large[data-v-016c21db]:disabled,.gradient-btn-large[data-v-016c21db]:disabled:hover{background:hsla(0,0%,100%,.1)}.new-gradient-btn-large[data-v-016c21db]{width:100%;height:56px;box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:16px;margin-top:20px}.farm-btn-small[data-v-016c21db],.new-gradient-btn-large[data-v-016c21db]{background:linear-gradient(180deg,#e4e2fe,#2881f2);padding:1px}.farm-btn-small[data-v-016c21db]{line-height:1;height:40px;border-radius:6px;border:none}.farm-btn-small div[data-v-016c21db]{text-align:center;border-radius:6px;font-size:14px;font-weight:400;color:#fff;background:linear-gradient(268deg,#5fe6d0,#597bff 38%,#9380ff 72%,#e590ff)}.farm-btn-small div[data-v-016c21db]:hover{background:linear-gradient(270deg,#93ffed,#84caff 34%,#a291ff 68%,#efb9ff)}.icon[data-v-016c21db]{width:20px;height:20px}.container[data-v-016c21db]{width:492px;background:linear-gradient(270deg,#3e434e,#292d33);border-radius:20px;border:1px solid #3f434e;padding:20px 16px}.container .form-block .change-icon[data-v-016c21db]{display:flex;align-items:center;justify-content:center;padding:12px 0}.container .form-block .change-icon a[data-v-016c21db]{display:block;width:40px;height:40px;background-position:50%;background-repeat:no-repeat;background-size:100% 100%;background-image:url("+f+")}.container .form-block .change-icon a[data-v-016c21db]:hover{background-image:url("+m+")}.container .swap-btn[data-v-016c21db]{font-size:20px;width:100%;height:56px;background:linear-gradient(268deg,#5fe6d0,#596eff 32%,#6950f5 68%,#ad4ff6);box-shadow:0 4px 6px 0 rgba(26,28,31,.5);border-radius:10px;font-size:18px;font-weight:700;border:1px solid #e8e4ff;color:#fff;margin-top:20px}.container .swap-btn[data-v-016c21db]:hover{background:linear-gradient(268deg,#68f5de,#6c7fff 32%,#7058f8 68%,#ba60ff)}.container .swap-btn[data-v-016c21db]:disabled{border:2px solid rgba(232,228,255,.1);background:hsla(0,0%,100%,.1);cursor:not-allowed}.container .swap-btn[data-v-016c21db]:disabled:hover{background:hsla(0,0%,100%,.1)}@media screen and (max-width:750px){.container[data-v-016c21db]{margin-top:20px;width:100%;padding:20px 10px}}",""]),t.exports=d},2524:function(t,o,n){"use strict";n.r(o);n(410);var e=n(293),r=n.n(e),c=(n(67),n(40),n(413),n(414),n(225),n(960),n(91),n(82),n(129),n(96),n(958),n(27)),l=n(124),d=n(56),f=n(1967),m=n(134),h=n(2020),x=n(130),v=n(8),C=n.n(v),w=n(97),k=n(524),_=function(t,o,n,e){return new(n||(n=Promise))((function(r,c){function l(t){try{f(e.next(t))}catch(t){c(t)}}function d(t){try{f(e.throw(t))}catch(t){c(t)}}function f(t){var o;t.done?r(t.value):(o=t.value,o instanceof n?o:new n((function(t){t(o)}))).then(l,d)}f((e=e.apply(t,o||[])).next())}))},y=c.default.extend({components:{Button:r.a},data:function(){return{showCoinSelect:!1,fromCoin:null,toCoin:null,fromCoinAmount:"",toCoinAmount:"",currentCoinKey:"fromCoin",fixedFromCoin:!0,swaping:!1,showSetting:!1,showFeeTier:!1,showAddress:!1,loading:!1,existingCoins:"",lastSelectCoin:"",insufficientLiquidity:!1,swapSdk:null,isLoading:!1,tokenSwap:null,currentPriceView:"",currentPriceViewReverse:""}},head:{title:"Crema Finance | A Powerful Concentrated Liquidity Protocol"},computed:Object.assign(Object.assign({},Object(l.e)(["wallet","url","liquidity"])),{poolInfo:function(){var t=this;if(this.liquidity.poolsObj){var o=Object.values(this.liquidity.poolsObj).find((function(p){var o,n,e,r;return p.token_a.symbol.toLowerCase()===(null===(o=t.fromCoin)||void 0===o?void 0:o.symbol.toLowerCase())&&p.token_b.symbol.toLowerCase()===(null===(n=t.toCoin)||void 0===n?void 0:n.symbol.toLowerCase())||p.token_b.symbol.toLowerCase()===(null===(e=t.fromCoin)||void 0===e?void 0:e.symbol.toLowerCase())&&p.token_a.symbol.toLowerCase()===(null===(r=t.toCoin)||void 0===r?void 0:r.symbol.toLowerCase())}));return o&&!Object(d.b)(o)?o:null}return null},swapBtnText:function(){return this.poolInfo?Number(this.fromCoinAmount)?this.insufficientLiquidity?"Insufficient Liquidity":Object(x.b)(Number(this.fromCoinAmount),this.fromCoin&&this.fromCoin.balance?Number(this.fromCoin.balance.fixed()):0)?"Insufficient balance":"Swap":"Enter an amount":"Pool not found"}}),watch:{"wallet.tokenAccounts":{handler:function(t){this.updateCoinInfo(t)},deep:!0},poolInfo:{handler:function(t,o){t&&t.tokenSwapKey?((null==t?void 0:t.name)!==(null==o?void 0:o.name)&&(this.fixedFromCoin?this.toCoinAmount="":this.fromCoinAmount=""),this.getTokenSwap(),this.updateAmounts(t)):(this.fromCoinAmount="",this.toCoinAmount="",this.tokenSwap="")},deep:!0},fromCoinAmount:Object(f.a)((function(t,o){var n=this;this.$nextTick((function(){h.b.test(Object(h.a)(t))?n.fixedFromCoin&&n.updateAmounts():n.fromCoinAmount=o}))}),500),toCoinAmount:Object(f.a)((function(t,o){var n=this;this.$nextTick((function(){h.b.test(Object(h.a)(t))?n.fixedFromCoin||n.updateAmounts():n.toCoinAmount=o}))}),500),"liquidity.tokensObj":{handler:"tokensObjWatch",immediate:!0}},mounted:function(){this.updateCoinInfo(this.wallet.tokenAccounts)},methods:{gt:x.b,tokensObjWatch:function(t){t&&!Object(d.b)(t)&&this.$route&&this.$route.query&&(this.$route.query.from?this.fromCoin=Object(d.e)(t,this.$route.query.from):this.fromCoin=Object(d.e)(t,"usdt"),this.$route.query.to?this.toCoin=Object(d.e)(t,this.$route.query.to):this.toCoin=Object(d.e)(t,"usdc"))},getTokenSwap:function(){return _(this,void 0,void 0,regeneratorRuntime.mark((function t(){var o,n,e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.poolInfo||!this.poolInfo.tokenSwapKey){t.next=10;break}return t.next=3,Object(k.c)(this.poolInfo.tokenSwapKey,this.$wallet);case 3:o=t.sent,this.tokenSwap=o,console.log("getTokenSwap###this.poolInfo####",this.poolInfo),n=Object(w.g)(o.tokenSwapInfo.currentSqrtPrice.pow(2),this.poolInfo.token_a.decimal,this.poolInfo.token_b.decimal).toNumber(),e=String(1/Number(n)),this.currentPriceView=String(n),this.currentPriceViewReverse=e;case 10:case"end":return t.stop()}}),t,this)})))},refresh:function(){this.$accessor.wallet.getTokenAccounts(),this.getTokenSwap(),this.updateAmounts()},updateCoinInfo:function(t){if(this.fromCoin){var o=t[this.fromCoin.token_mint];o&&(this.fromCoin=Object.assign(Object.assign({},this.fromCoin),o))}if(this.toCoin){var n=t[this.toCoin.token_mint];n&&(this.toCoin=Object.assign(Object.assign({},this.toCoin),n))}},updateAmounts:function(t){var o,n,e,r,c,l,f,m,h,x;return _(this,void 0,void 0,regeneratorRuntime.mark((function v(){var w,_,y,S,A,j,O,I,L,$,N,M,R,z,T;return regeneratorRuntime.wrap((function(v){for(;;)switch(v.prev=v.next){case 0:if(w=t||this.poolInfo){v.next=3;break}return v.abrupt("return");case 3:if(_="11111111111111111111111111111111"===(null===(o=this.fromCoin)||void 0===o?void 0:o.token_mint)?"So11111111111111111111111111111111111111112":null===(n=this.fromCoin)||void 0===n?void 0:n.token_mint,y="11111111111111111111111111111111"===(null===(e=this.toCoin)||void 0===e?void 0:e.token_mint)?"So11111111111111111111111111111111111111112":null===(r=this.toCoin)||void 0===r?void 0:r.token_mint,S=_===w.token_a.token_mint&&y===w.token_b.token_mint?0:1,!this.tokenSwap||t){v.next=10;break}A=this.tokenSwap,v.next=14;break;case 10:return v.next=12,Object(k.c)(w.tokenSwapKey,this.$wallet);case 12:A=v.sent,this.tokenSwap=A;case 14:if(!this.fromCoin||!this.toCoin||!this.fromCoinAmount&&!this.toCoinAmount){v.next=44;break}if(this.loading=!0,!(A&&A.ticks&&A.ticks.length>1)){v.next=20;break}this.insufficientLiquidity=!1,v.next=23;break;case 20:return this.insufficientLiquidity=!0,this.loading=!1,v.abrupt("return");case 23:if(!this.fixedFromCoin){v.next=36;break}if(Number(this.fromCoinAmount)){v.next=26;break}return v.abrupt("return");case 26:j=new C.a(Math.pow(10,null===(c=this.fromCoin)||void 0===c?void 0:c.decimal)),O=new C.a(this.fromCoinAmount).mul(j),I=0===S?A.preSwapA(new C.a(O)):A.preSwapB(new C.a(O)),new C.a(2e3),new C.a(2e4),(L=I&&I.amountOut.toNumber()||0)?(this.insufficientLiquidity=!1,$=Number(L)/Math.pow(10,null===(l=this.toCoin)||void 0===l?void 0:l.decimal),this.toCoinAmount=Object(d.c)(String($),null===(f=this.toCoin)||void 0===f?void 0:f.decimal),I.amountUsed.lt(O)&&(this.insufficientLiquidity=!0)):(this.insufficientLiquidity=!0,this.toCoinAmount="0"),this.loading=!1,v.next=44;break;case 36:if(Number(this.toCoinAmount)){v.next=38;break}return v.abrupt("return");case 38:N=new C.a(Math.pow(10,null===(m=this.toCoin)||void 0===m?void 0:m.decimal)),M=new C.a(this.toCoinAmount).mul(N),R=0===S?A.preSwapB(new C.a(M)):A.preSwapA(new C.a(M)),(z=R&&R.amountOut.toNumber()||0)?(this.insufficientLiquidity=!1,T=Number(z)/Math.pow(10,null===(h=this.fromCoin)||void 0===h?void 0:h.decimal),this.fromCoinAmount=Object(d.c)(String(T),null===(x=this.fromCoin)||void 0===x?void 0:x.decimal),R.amountUsed.lt(M)&&(this.insufficientLiquidity=!0)):(this.insufficientLiquidity=!0,this.fromCoinAmount="0"),this.loading=!1;case 44:case"end":return v.stop()}}),v,this)})))},openCoinSelect:function(t){var o,n,e,r;this.currentCoinKey=t,"fromCoin"===t?(this.existingCoins=(null===(o=this.toCoin)||void 0===o?void 0:o.symbol)||"",this.lastSelectCoin=(null===(n=this.fromCoin)||void 0===n?void 0:n.symbol)||""):(this.existingCoins=(null===(e=this.fromCoin)||void 0===e?void 0:e.symbol)||"",this.lastSelectCoin=(null===(r=this.toCoin)||void 0===r?void 0:r.symbol)||""),this.showCoinSelect=!0},onCoinSelect:function(t){var o,n;"fromCoin"===this.currentCoinKey?(t.symbol.toLowerCase()===(null===(o=this.toCoin)||void 0===o?void 0:o.symbol.toLowerCase())&&(this.toCoin=null),this.fromCoin=t):(t.symbol.toLowerCase()===(null===(n=this.fromCoin)||void 0===n?void 0:n.symbol.toLowerCase())&&(this.fromCoin=null),this.toCoin=t),this.showCoinSelect=!1},maxBtnSelect:function(t){"fromCoin"===t?(this.fixedFromCoin=!0,this.fromCoinAmount=this.fromCoin&&this.fromCoin.balance?"SOL"!==this.fromCoin.symbol?this.fromCoin.balance.fixed():String(Number(this.fromCoin.balance.fixed())-.01<0?0:Object(d.d)(Number(this.fromCoin.balance.fixed())-.01,9)):"0"):(this.fixedFromCoin=!1,this.toCoinAmount=this.toCoin&&this.toCoin.balance?"SOL"!==this.toCoin.symbol?this.toCoin.balance.fixed():String(Number(this.toCoin.balance.fixed())-.01<0?0:Object(d.d)(Number(this.toCoin.balance.fixed())-.01,9)):"0")},changeCoinPosition:function(){var t=this.fromCoin,o=this.toCoin;this.fromCoin=o,this.toCoin=t;var n=this.fromCoinAmount,e=this.toCoinAmount;this.fromCoinAmount=e,this.toCoinAmount=n},toSwap:function(){var t,o,n,e,r,c,l,f;return _(this,void 0,void 0,regeneratorRuntime.mark((function h(){var x,v,w,_,y,S,A,j,O,I,L,$,N,M,R,z=this;return regeneratorRuntime.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:return this.swaping=!0,x=Object(m.a)(this.poolInfo),v="11111111111111111111111111111111"===(null===(t=this.fromCoin)||void 0===t?void 0:t.token_mint)?"So11111111111111111111111111111111111111112":null===(o=this.fromCoin)||void 0===o?void 0:o.token_mint,w="11111111111111111111111111111111"===(null===(n=this.toCoin)||void 0===n?void 0:n.token_mint)?"So11111111111111111111111111111111111111112":null===(e=this.toCoin)||void 0===e?void 0:e.token_mint,_=v===x.token_a.token_mint&&w===x.token_b.token_mint?0:1,this.$accessor.transaction.setTransactionDesc("Swap ".concat(this.fromCoinAmount," ").concat(null===(r=this.fromCoin)||void 0===r?void 0:r.symbol," to ").concat(this.toCoinAmount," ").concat(null===(c=this.toCoin)||void 0===c?void 0:c.symbol)),this.$accessor.transaction.setShowWaiting(!0),h.next=9,Object(k.c)(x.tokenSwapKey,this.$wallet);case 9:return y=h.sent,S=new C.a(this.fromCoinAmount),A=_?y.tokenBLamports(S):y.tokenALamports(S),j=_?y.preSwapB(A):y.preSwapA(A),O=j.amountOut.div(new C.a(1).add(new C.a(Number(this.$accessor.slippage)/100)).toString()),I="",h.prev=15,h.next=18,y.swapAtomic(_,A,new C.a(Object(d.d)(O.toString(),0)));case 18:return L=h.sent,$={skipPreflight:!0,commitment:"confirmed",preflightCommitment:"confirmed",maxRetries:30,printLogs:!0},h.next=22,L.send($);case 22:return(N=h.sent)&&N.signature&&(I=N.signature,M="Swap ".concat(this.fromCoinAmount," ").concat(null===(l=this.fromCoin)||void 0===l?void 0:l.symbol," to ").concat(this.toCoinAmount," ").concat(null===(f=this.toCoin)||void 0===f?void 0:f.symbol),this.$accessor.transaction.setShowSubmitted(!0),R=this,this.$accessor.transaction.sub({txid:I,description:M,type:"Swap",successCallback:function(){R.swaping=!1,R.refresh(),z.$accessor.transaction.setShowSubmitted(!1)},errorCallback:function(){R.swaping=!1,z.$accessor.transaction.setShowSubmitted(!1)}})),h.next=26,N.wait({commitment:"confirmed",useWebsocket:!0,retries:30});case 26:h.sent,this.fromCoinAmount="",this.toCoinAmount="",h.next=39;break;case 31:h.prev=31,h.t0=h.catch(15),console.log("toSwap###error####",h.t0),this.$accessor.transaction.setShowWaiting(!1),this.$accessor.transaction.setShowSubmitted(!1),this.$notify.close(I+"loading"),this.$notify.error({key:"swap failed",message:"Swap failed",description:h.t0.message,class:"error",icon:this.$createElement("img",{class:{"notify-icon":!0},attrs:{src:"/icon_Error@2x.png"}})}),this.swaping=!1;case 39:case"end":return h.stop()}}),h,this,[[15,31]])})))}}}),S=(n(2443),n(89)),component=Object(S.a)(y,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",[n("SwapTab"),t._v(" "),n("div",{staticClass:"container swap-container"},[n("div",{staticClass:"c-title"},[n("span",[t._v("Swap")]),t._v(" "),n("div",{staticClass:"buttons"},[n("RefreshIcon",{attrs:{loading:t.loading},on:{refresh:t.refresh}}),t._v(" "),n("div",{staticClass:"icon-box"},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(o){t.showAddress=!0}}},[n("use",{attrs:{"xlink:href":"#icon-a-bianzu181"}})])]),t._v(" "),n("div",{staticStyle:{width:"8px"}}),t._v(" "),n("SetIcon")],1)]),t._v(" "),n("div",{staticClass:"form-block"},[n("CoinBlock",{attrs:{"coin-name":t.fromCoin?t.fromCoin.symbol:null,balance:t.fromCoin?t.fromCoin.balance:null,"coin-icon":t.fromCoin?t.fromCoin.icon:"","swap-direction":"From"},on:{onInput:function(o){return t.fromCoinAmount=o},onFocus:function(){t.fixedFromCoin=!0},onMax:function(o){return t.maxBtnSelect("fromCoin")},onSelect:function(o){return t.openCoinSelect("fromCoin")}},model:{value:t.fromCoinAmount,callback:function(o){t.fromCoinAmount=o},expression:"fromCoinAmount"}}),t._v(" "),n("div",{staticClass:"change-icon"},[n("a",{on:{click:t.changeCoinPosition}})]),t._v(" "),n("CoinBlock",{attrs:{"coin-name":t.toCoin?t.toCoin.symbol:"",balance:t.toCoin?t.toCoin.balance:null,"swap-direction":"To",disabled:!1,"coin-icon":t.toCoin?t.toCoin.icon:"","show-max":!1},on:{onInput:function(o){return t.toCoinAmount=o},onFocus:function(){t.fixedFromCoin=!1},onMax:function(o){return t.maxBtnSelect("toCoin")},onSelect:function(o){return t.openCoinSelect("toCoin")}},model:{value:t.toCoinAmount,callback:function(o){t.toCoinAmount=o},expression:"toCoinAmount"}})],1),t._v(" "),t.wallet.connected?n("div",{staticClass:"swap-btn-content"},[n("Button",{staticClass:"swap-btn",attrs:{loading:t.loading,disabled:!t.poolInfo||"CRM-USDC"!==t.poolInfo.name||t.insufficientLiquidity||t.loading||!t.fromCoin||!t.toCoin||!Number(t.fromCoinAmount)||t.swaping||t.gt(t.fromCoinAmount,t.fromCoin&&t.fromCoin.balance?t.fromCoin.balance.fixed():"0")},on:{click:t.toSwap}},[t._v("\n        "+t._s(t.swapBtnText)+"\n      ")])],1):n("div",{staticClass:"swap-btn-content"},[n("Button",{staticClass:"swap-btn",on:{click:t.$accessor.wallet.openModal}},[t._v(" Connect Wallet ")])],1),t._v(" "),n("SwapInfo",{directives:[{name:"show",rawName:"v-show",value:t.fromCoin&&t.toCoin&&t.poolInfo,expression:"fromCoin && toCoin && poolInfo"}],attrs:{"from-coin":t.fromCoin,"to-coin":t.toCoin,"from-coin-amount":t.fromCoinAmount,"to-coin-amount":t.toCoinAmount,"pool-info":t.poolInfo,"current-price-view-reverse":t.currentPriceViewReverse,"current-price-view":t.currentPriceView,"fixed-from-coin":t.fixedFromCoin},on:{refresh:t.refresh}}),t._v(" "),t.showCoinSelect?n("CoinSelect",{attrs:{"existing-coins":t.existingCoins,"last-select-coin":t.lastSelectCoin},on:{onClose:function(){return t.showCoinSelect=!1},onSelect:t.onCoinSelect}}):t._e(),t._v(" "),t.showAddress?n("MintAddress",{attrs:{"from-coin":t.fromCoin,"to-coin":t.toCoin},on:{onClose:function(){return t.showAddress=!1}}}):t._e()],1)],1)}),[],!1,null,"016c21db",null);o.default=component.exports;installComponents(component,{SwapTab:n(2143).default,RefreshIcon:n(1997).default,SetIcon:n(2013).default,CoinBlock:n(2041).default,SwapInfo:n(2288).default,CoinSelect:n(2062).default,MintAddress:n(2289).default})}}]);