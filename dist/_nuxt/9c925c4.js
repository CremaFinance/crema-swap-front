(window.webpackJsonp=window.webpackJsonp||[]).push([[37,10,13,14,26,29],{1136:function(t,n,o){"use strict";var e=o(55),r=o(20),c=o(264),l=o(77),d=o(57),f=o(135),m=o(369),h=o(180),v=o(541),x=o(19),C=o(136),w=o(151).f,k=o(108).f,y=o(66).f,A=o(1139).trim,O="Number",_=r.Number,S=_.prototype,j=f(C(S))==O,I=function(t){if(h(t))throw TypeError("Cannot convert a Symbol value to a number");var n,o,e,r,c,l,d,code,f=v(t,"number");if("string"==typeof f&&f.length>2)if(43===(n=(f=A(f)).charCodeAt(0))||45===n){if(88===(o=f.charCodeAt(2))||120===o)return NaN}else if(48===n){switch(f.charCodeAt(1)){case 66:case 98:e=2,r=49;break;case 79:case 111:e=8,r=55;break;default:return+f}for(l=(c=f.slice(2)).length,d=0;d<l;d++)if((code=c.charCodeAt(d))<48||code>r)return NaN;return parseInt(c,e)}return+f};if(c(O,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var N,$=function(t){var n=arguments.length<1?0:t,o=this;return o instanceof $&&(j?x((function(){S.valueOf.call(o)})):f(o)!=O)?m(new _(I(n)),o,$):I(n)},P=e?w(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),E=0;P.length>E;E++)d(_,N=P[E])&&!d($,N)&&y($,N,k(_,N));$.prototype=S,S.constructor=$,l(r,O,$)}},1138:function(t,n,o){var content=o(1149);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(52).default)("f580aa36",content,!0,{sourceMap:!1})},1139:function(t,n,o){var e=o(76),r=o(53),c="["+o(1140)+"]",l=RegExp("^"+c+c+"*"),d=RegExp(c+c+"*$"),f=function(t){return function(n){var o=r(e(n));return 1&t&&(o=o.replace(l,"")),2&t&&(o=o.replace(d,"")),o}};t.exports={start:f(1),end:f(2),trim:f(3)}},1140:function(t,n){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},1145:function(t,n,o){"use strict";o.r(n);o(1165);var input=o(1166),e=o.n(input),r=(o(540),o(262)),c=o.n(r),l=(o(96),o(370),o(13));l.default.use(c.a);var d=l.default.extend({components:{Modal:c.a,Input:e.a},data:function(){return{slippage:"",slippageArr:["0.1","0.5","1"]}},mounted:function(){this.slippage=this.$accessor.slippage},methods:{oninput:function(t){t.target.value=t.target.value.match(/^\d+(?:\.\d{0,2})?/)?t.target.value.match(/^\d+(?:\.\d{0,2})?/)[0]||null:"",t.target.value&&(this.slippage=t.target.value)},confirmSlippage:function(){this.$accessor.setSlippage(this.slippage),this.$emit("onClose")}}}),f=(o(1148),o(58)),component=Object(f.a)(d,(function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("Modal",{attrs:{title:"Settings",zIndex:1070,centered:"",width:"430px",visible:!0,footer:null},on:{cancel:function(n){return t.$emit("onClose")}}},[o("div",{staticClass:"pool-setting"},[o("div",{staticClass:"slippage-tolerance"},[t._v("Slippage tolerance")]),t._v(" "),o("div",{staticClass:"input-content"},[t._l(t.slippageArr,(function(n,e){return o("div",{key:e,staticClass:"slippage-item",class:n===t.slippage?"slippage-item-active":"",on:{click:function(o){t.slippage=n}}},[t._v("\n        "+t._s(n)+"\n      ")])})),t._v(" "),o("Input",{attrs:{typ:"number",size:"large",suffix:"%"},on:{input:t.oninput},model:{value:t.slippage,callback:function(n){t.slippage=n},expression:"slippage"}})],2),t._v(" "),o("div",{staticClass:"btn-box"},[o("div",{staticClass:"disconnect-btn-box"},[o("Button",{staticClass:"disconnect-btn",attrs:{ghost:""},on:{click:function(n){return t.$emit("onClose")}}},[t._v(" Cancel ")])],1),t._v(" "),o("Button",{staticClass:"switch-wallet-btn",attrs:{ghost:""},on:{click:t.confirmSlippage}},[t._v(" Confirm ")])],1)])])}),[],!1,null,null,null);n.default=component.exports},1148:function(t,n,o){"use strict";o(1138)},1149:function(t,n,o){var e=o(51)(!1);e.push([t.i,".pool-setting .slippage-tolerance{margin-top:14px}.pool-setting .input-content{margin-top:10px;display:flex;justify-content:space-between}.pool-setting .input-content .slippage-item{width:80px;height:40px;background:none;font-size:14px;font-weight:500;color:#07ebad;text-align:center;line-height:40px;border-radius:10px;border:1px solid #07ebad}.pool-setting .input-content .slippage-item-active{background:rgba(7,235,173,.3);border-radius:10px;border:1px solid #07ebad}.pool-setting .input-content input{width:80px;height:40px;background:#1a1e21;border:1px solid #07ebad;color:#07ebad;border-radius:10px}.pool-setting .input-content .ant-input-affix-wrapper{width:auto;background:#1a1e21}.pool-setting .input-content .ant-input-affix-wrapper .ant-input-suffix{color:#07ebad}.pool-setting .input-content .ant-input-affix-wrapper input{background:#1a1e21;text-align:center!important;font-size:14px;line-height:20px;border-radius:10px}.pool-setting .btn-box{display:flex;margin-top:40px;justify-content:space-between}.pool-setting .disconnect-btn-box{width:168px;height:48px;font-size:16px;border-radius:10px;padding:2px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff)}.pool-setting .disconnect-btn-box .disconnect-btn{width:100%;height:100%;border:none;background:#1b2023!important;border-radius:10px;color:#fff}.pool-setting .switch-wallet-btn{width:168px;height:48px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff)!important;font-size:16px;margin-left:12px;border-radius:10px;color:#fff;border:none}",""]),t.exports=e},1163:function(t,n,o){var content=o(1184);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(52).default)("18d5f4a7",content,!0,{sourceMap:!1})},1164:function(t,n,o){var content=o(1189);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(52).default)("dccd8cd4",content,!0,{sourceMap:!1})},1183:function(t,n,o){"use strict";o(1163)},1184:function(t,n,o){var e=o(51)(!1);e.push([t.i,".coin-block .balance-block[data-v-74651d14]{display:flex;align-items:center;justify-content:space-between;font-size:14px;color:#fff;padding-bottom:10px}.coin-block .input-block-box[data-v-74651d14]{border-radius:20px;padding:2px;position:relative;background-color:#33383b}.coin-block .input-block-box[data-v-74651d14]:active,.coin-block .input-block-box[data-v-74651d14]:hover{background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff)}.coin-block .lock-mask[data-v-74651d14]{position:absolute;left:0;top:0;width:100%;height:100%;border-radius:20px;display:flex;align-items:center;padding:16px 20px;background:rgba(50,50,50,.88)}.coin-block .lock-mask img[data-v-74651d14]{width:40px;height:40px}.coin-block .lock-mask p[data-v-74651d14]{flex:1;font-size:14px;color:#fff;margin-left:8px;text-align:center;margin-bottom:0}.coin-block .input-block[data-v-74651d14]{display:flex;align-items:center;width:100%;height:72px;background:#33383b;border-radius:20px;padding:0 16px}.coin-block .input-block .coin-select[data-v-74651d14]{display:flex;align-items:center;width:112px}.coin-block .input-block .coin-select img[data-v-74651d14]{width:30px;height:30px}.coin-block .input-block .coin-select span[data-v-74651d14]{display:block;width:55px;font-size:16px;color:#fff;margin-left:8px}.coin-block .input-block .coin-select svg[data-v-74651d14]{width:20px;height:20px;fill:hsla(0,0%,100%,.5)}.coin-block .input-block input[data-v-74651d14]{flex:1;padding-right:20px;border:none;background:none;text-align:right;font-size:20px;font-weight:400}.coin-block .input-block .max[data-v-74651d14]{width:48px;height:20px;line-height:20px;font-size:12px;color:#fff;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:8px}.coin-block .input-block .max[data-v-74651d14]:active,.coin-block .input-block .max[data-v-74651d14]:hover{background:linear-gradient(214deg,#a4fff0,#8996ff 61%,#c9c0ff 76%,#f1c3ff)}@media screen and (max-width:750px){.coin-block .input-block input[data-v-74651d14]{width:100px}}",""]),t.exports=e},1187:function(t,n,o){"use strict";var e=o(21),r=o(125),c=o(67),l=o(34),d=o(53),f=o(19),m=o(551),h=o(266),v=o(552),x=o(553),C=o(184),w=o(554),k=[],y=k.sort,A=f((function(){k.sort(void 0)})),O=f((function(){k.sort(null)})),_=h("sort"),S=!f((function(){if(C)return C<70;if(!(v&&v>3)){if(x)return!0;if(w)return w<603;var code,t,n,o,e="";for(code=65;code<76;code++){switch(t=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(o=0;o<47;o++)k.push({k:t+o,v:n})}for(k.sort((function(a,b){return b.v-a.v})),o=0;o<k.length;o++)t=k[o].k.charAt(0),e.charAt(e.length-1)!==t&&(e+=t);return"DGBEFHACIJK"!==e}}));e({target:"Array",proto:!0,forced:A||!O||!_||!S},{sort:function(t){void 0!==t&&r(t);var n=c(this);if(S)return void 0===t?y.call(n):y.call(n,t);var o,e,f=[],h=l(n.length);for(e=0;e<h;e++)e in n&&f.push(n[e]);for(o=(f=m(f,function(t){return function(n,o){return void 0===o?-1:void 0===n?1:void 0!==t?+t(n,o)||0:d(n)>d(o)?1:-1}}(t))).length,e=0;e<o;)n[e]=f[e++];for(;e<h;)delete n[e++];return n}})},1188:function(t,n,o){"use strict";o(1164)},1189:function(t,n,o){var e=o(51)(!1);e.push([t.i,".coin-select-modal .search-input[data-v-c6bbdb86]{background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);width:100%;height:48px;padding:1px;border-radius:10px}.coin-select-modal .search-input input[data-v-c6bbdb86]{width:100%;height:100%;background:#1a1e21;border-radius:10px;font-size:14px;border:none;padding:0 20px}.coin-select-modal .coin-list-box[data-v-c6bbdb86]{border-top:1px solid hsla(0,0%,100%,.1);max-height:280px;overflow-y:auto;margin-top:20px}.coin-select-modal .coin-list-box .coin-list li[data-v-c6bbdb86]{display:flex;height:48px;margin-top:10px;align-items:center;justify-content:space-between;font-size:14px;color:#fff}.coin-select-modal .coin-list-box .coin-list li .left[data-v-c6bbdb86]{display:flex;align-items:center}.coin-select-modal .coin-list-box .coin-list li .left img[data-v-c6bbdb86]{width:30px;height:30px;border-radius:100%}.coin-select-modal .coin-list-box .coin-list li .left span[data-v-c6bbdb86]{margin-left:10px}.coin-select-modal .no-data[data-v-c6bbdb86]{width:100%;min-height:260px;display:flex;align-items:center;justify-content:center;flex-direction:column}.coin-select-modal .no-data img[data-v-c6bbdb86]{width:80px;height:80px}.coin-select-modal .no-data p[data-v-c6bbdb86]{color:hsla(0,0%,100%,.8);padding-top:10px}",""]),t.exports=e},1192:function(t,n,o){var content=o(1221);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(52).default)("2519ee04",content,!0,{sourceMap:!1})},1195:function(t,n,o){"use strict";o.r(n);var e=o(13),r=o(368),c=o(44),l=e.default.extend({model:{prop:"value",event:"onInput"},props:{value:{type:String,default:""},coinName:{type:String,default:""},balance:{type:Object,default:null},showMax:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showLock:{type:Boolean,default:!1},swapDirection:{type:String,default:""}},methods:{importIcon:r.a,lt:c.c}}),d=(o(1183),o(58)),component=Object(d.a)(l,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"coin-block"},[e("div",{staticClass:"balance-block"},[e("span",[t._v(t._s(t.swapDirection))]),t._v(" "),e("span",[t._v("Balance: "+t._s(t.balance&&!t.balance.wei.isNaN()&&t.balance.fixed()||0))])]),t._v(" "),e("div",{staticClass:"input-block-box"},[e("div",{staticClass:"input-block"},[e("div",{staticClass:"coin-select",on:{click:function(n){return t.$emit("onSelect")}}},[t.coinName?e("img",{attrs:{src:t.importIcon("/coins/"+t.coinName.toLowerCase()+".png")}}):e("img",{attrs:{src:o(549)}}),t._v(" "),e("span",[t._v(t._s(t.coinName))]),t._v(" "),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-icon-on"}})])]),t._v(" "),e("input",{attrs:{type:"number",autocomplete:"off",autocorrect:"off",placeholder:"0.00",pattern:"^[0-9]*[.,]?[0-9]*$",minlength:"1",maxlength:"79",spellcheck:"false",disabled:t.disabled},domProps:{value:t.value},on:{input:function(n){return t.$emit("onInput",n.target.value)},focus:function(n){return t.$emit("onFocus")}}}),t._v(" "),t.showMax&&t.balance&&(!t.value||t.lt(t.value,t.balance.toEther()))?e("button",{staticClass:"max",on:{click:function(n){return t.$emit("onMax")}}},[t._v("\n        MAX\n      ")]):t._e()]),t._v(" "),t.showLock?e("div",{staticClass:"lock-mask"},[e("img",{attrs:{src:o(550)}}),t._v(" "),e("p",[t._v("The market price is outside your specified price range. Single-asset deposit only.")])]):t._e()])])}),[],!1,null,"74651d14",null);n.default=component.exports},1196:function(t,n,o){"use strict";o.r(n);o(50),o(72),o(54),o(83);var e=o(113),r=o(36),c=(o(547),o(98)),l=o.n(c),d=(o(540),o(262)),f=o.n(d),m=(o(65),o(1187),o(85),o(64),o(139),o(152),o(13)),h=o(86),v=o(70),x=o(49);function C(object,t){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),n.push.apply(n,o)}return n}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(n){Object(r.a)(t,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(source,n))}))}return t}m.default.use(f.a);var k=m.default.extend({components:{Modal:f.a,Icon:l.a},props:{existingCoins:{type:String,default:""}},data:function(){return{keyword:"",tokenList:[]}},computed:w({},Object(h.e)(["wallet"])),watch:{keyword:function(t){this.createTokenList(t)},"wallet.tokenAccounts":{handler:function(t,n){this.createTokenList()},deep:!0}},mounted:function(){this.createTokenList()},methods:{importIconNew:function(path){try{return o(548)("./assets".concat(path))}catch(t){return o(372)}},createTokenList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=[],o=Object(x.a)(v.b),r=[],c=[],l={};l=Object(x.a)(v.d);for(var d=0,f=Object.keys(l);d<f.length;d++){var symbol=f[d],m=Object(x.a)(l[symbol]);if(m.showDefault){m.symbol=symbol;var h=this.wallet.tokenAccounts[m.mintAddress];h?(m=w(w({},m),h),r.push(m)):c.push(m)}}var C=this.wallet.tokenAccounts[v.b.mintAddress];C&&(o=w(w({},o),C)),r=r.sort((function(a,b){return b.balance.toEther()-a.balance.toEther()})),n=[].concat(Object(e.a)(r),c),t&&(n=n.filter((function(n){return n.symbol.includes(t.toUpperCase())}))),this.tokenList=Object(x.a)(n)}}}),y=(o(1188),o(58)),component=Object(y.a)(k,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("Modal",{attrs:{title:"Select a token",centered:"",visible:!0,footer:null},on:{cancel:function(n){return t.$emit("onClose")}}},[e("div",{staticClass:"coin-select-modal"},[e("div",{staticClass:"search-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{placeholder:"Enter the token symbol or address"},domProps:{value:t.keyword},on:{input:function(n){n.target.composing||(t.keyword=n.target.value)}}})]),t._v(" "),e("div",{staticClass:"coin-list-box"},[t.tokenList&&t.tokenList.length>0?e("ul",{staticClass:"coin-list"},t._l(t.tokenList,(function(n,o){return e("li",{key:o,on:{click:function(o){return t.$emit("onSelect",n)}}},[e("div",{staticClass:"left"},[e("img",{attrs:{src:t.importIconNew("/coins/"+n.symbol.toLowerCase()+".png")}}),t._v(" "),e("span",[t._v(t._s(n.symbol))])]),t._v(" "),e("div",{staticClass:"balance"},[t.wallet.loading?e("div",[e("Icon",{attrs:{type:"loading"}})],1):n.tokenAccountAddress?e("div",[t._v("\n              "+t._s(n.balance.toEther())+"\n            ")]):e("div")])])})),0):e("div",{staticClass:"no-data"},[e("img",{attrs:{src:o(546)}}),t._v(" "),e("p",[t._v("No Data")])])])])])}),[],!1,null,"c6bbdb86",null);n.default=component.exports},1197:function(t,n,o){"use strict";var e=o(21),r=o(566);e({target:"String",proto:!0,forced:o(567)("fixed")},{fixed:function(){return r(this,"tt","","")}})},1211:function(t,n,o){"use strict";o.d(n,"b",(function(){return e})),o.d(n,"a",(function(){return r}));o(556),o(96),o(84),o(154);var e=RegExp("^\\d*(?:\\\\[.])?\\d*$");function r(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},1220:function(t,n,o){"use strict";o(1192)},1221:function(t,n,o){var e=o(51)(!1);e.push([t.i,".swap-info>.block[data-v-0ff21bea]{display:flex;align-items:center;justify-content:space-between;margin-top:20px;font-size:14px}.swap-info>.block>span[data-v-0ff21bea]{color:hsla(0,0%,100%,.8)}.swap-info>.block .right[data-v-0ff21bea]{display:flex;align-items:center;color:#fff}.swap-info>.block .right svg[data-v-0ff21bea]{width:20px;height:20px}",""]),t.exports=e},1237:function(t,n,o){var content=o(1280);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(52).default)("03582ebf",content,!0,{sourceMap:!1})},1253:function(t,n,o){"use strict";o.r(n);o(1136);var e=o(13),r=o(97),c=e.default.extend({props:{poolInfo:{type:Object,default:function(){return{}}},fromCoin:{type:Object,default:function(){return{}}},toCoin:{type:Object,default:function(){return{}}},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""}},data:function(){return{defaultRates:""}},watch:{poolInfo:{handler:"poolInfoWatch",immediate:!0},fromCoin:function(){this.poolInfo&&this.poolInfo.coin&&this.fromCoin&&this.toCoin&&this.setDefaultExchangeRate(this.poolInfo)}},methods:{fixD:r.a,poolInfoWatch:function(t){t&&t.coin&&this.fromCoin&&this.toCoin&&this.setDefaultExchangeRate(t)},setDefaultExchangeRate:function(t){var n,o;(null===(n=this.fromCoin)||void 0===n?void 0:n.symbol)===t.coin.symbol&&(null===(o=this.toCoin)||void 0===o?void 0:o.symbol)===t.pc.symbol?this.defaultRates=String(Math.pow(Number(t.currentPrice)/Math.pow(10,12),2)):this.defaultRates=String(1/Math.pow(Number(t.currentPrice)/Math.pow(10,12),2))}}}),l=(o(1220),o(58)),component=Object(l.a)(c,(function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"swap-info"},[o("div",{staticClass:"block"},[o("span",[t._v("Exchange Rate")]),t._v(" "),t.fromCoin&&t.toCoin?o("div",{staticClass:"right"},[t.fromCoinAmount&&t.toCoinAmount?o("span",[t._v("\n        1 "+t._s(t.fromCoin.symbol)+" = "+t._s(t.fixD(Number(t.toCoinAmount)/Number(t.fromCoinAmount),t.toCoin.decimals))+"\n        "+t._s(t.toCoin.symbol)+"\n      ")]):o("span",[t._v("1 "+t._s(t.fromCoin.symbol)+" = "+t._s(t.fixD(Number(t.defaultRates),t.toCoin.decimals))+" "+t._s(t.toCoin.symbol))])]):t._e()]),t._v(" "),t._m(0),t._v(" "),o("div",{staticClass:"block"},[o("span",[t._v("Fee")]),t._v(" "),o("div",{staticClass:"right"},[t._v(t._s(t.poolInfo.fee)+"%")])])])}),[function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"block"},[o("span",[t._v("Price Impact")]),t._v(" "),o("div",{staticClass:"right"},[t._v("<0.01%")])])}],!1,null,"0ff21bea",null);n.default=component.exports},1278:function(t,n,o){"use strict";(function(t){o.d(n,"a",(function(){return k})),o.d(n,"b",(function(){return A}));var e=o(8),r=(o(26),o(84),o(33),o(17)),c=o(18),l=o(1),d=o(4),f=o(70),m=o(44),h=o(38),v=o(374),x=o(155),C=o(30),w=o(265);function k(t,n,o,e,r,c){return y.apply(this,arguments)}function y(){return(y=Object(e.a)(regeneratorRuntime.mark((function t(n,o,e,c,l,f){var h,v,k,data,y,A,O,_,S,j,I,N,$;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h=o.coin,v=o.pc,k=e===h.mintAddress&&c===v.mintAddress?0:1,t.next=4,Object(x.a)(n,new d.PublicKey(o.tokenSwapAccount),C.f);case 4:return data=t.sent,y=r.e.decode(data),t.next=8,r.d.loadTokenSwap(n,new d.PublicKey(o.tokenSwapAccount),C.f,C.b);case 8:return A=t.sent,console.log("tokenSwap###",A),O=new d.PublicKey(y.tick_detail_key),_=y.tick_append_index,console.log("3333333333##@"),t.next=15,r.c.loadTickInfo(n,O,C.f,_);case 15:return S=t.sent,console.log("没走到这里吧####"),j=new w.a(S,_),I=Object(w.f)(l,k,A,j),console.log("the preswap caclutate the result is ",I),N=0===k?v.decimals:h.decimals,$=I/(1+f/100),t.abrupt("return",{amountOut:new m.a(I,N),amountOutWithSlippage:new m.a($,N)});case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t,n,o,e,r,c,l,d,f){return O.apply(this,arguments)}function O(){return(O=Object(e.a)(regeneratorRuntime.mark((function t(n,o,e,r,c,l,x,C,w){var k,y,A,O,S,j,I,N,$,P,E,M,L,T;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k=new d.Transaction,y=[],A=o.publicKey,O=Object(f.e)(r),S=Object(f.e)(c),O&&S){t.next=7;break}throw new Error("Miss token info");case 7:if(e.tokenSwapAccount){t.next=9;break}throw new Error("Miss token swap account");case 9:if(j=new m.a(C,O.decimals,!1),I=new m.a(w,S.decimals,!1),console.log("amountIn####",j),console.log("amountOut####",I),console.log("Math.floor(amountIn.toWei().toNumber())###",Math.floor(j.toWei().toNumber())),console.log("Math.floor(amountOut.toWei().toNumber())####",Math.floor(I.toWei().toNumber())),$=c,(N=r)===f.b.mintAddress&&(N=f.d.WSOL.mintAddress),$===f.b.mintAddress&&($=f.d.WSOL.mintAddress),P=null,E=null,r!==f.b.mintAddress){t.next=25;break}return t.next=24,Object(h.d)(n,P,A,f.d.WSOL.mintAddress,j.wei.toNumber()+1e7,k,y);case 24:P=t.sent;case 25:if(c!==f.b.mintAddress){t.next=29;break}return t.next=28,Object(h.d)(n,E,A,f.d.WSOL.mintAddress,1e7,k,y);case 28:E=t.sent;case 29:return console.log("fromCoinMint$$$$###",r),console.log("toCoinMint$$$$###",c),console.log("fromTokenAccount####",l),t.next=34,Object(h.b)(l,A,N,k);case 34:return M=t.sent,console.log("newFromTokenAccount####",M.toString()),console.log("toTokenAccount#####",x),t.next=39,Object(h.b)(x,A,$,k);case 39:return L=t.sent,console.log("wrappedSolAccount####",P),console.log("newToTokenAccount####",L.toString()),T=new d.PublicKey("C8L7YYHrn38sKfAxVo5BFsGYFWcLeRAdaavVNfzg9s5N"),k.add(_(new d.PublicKey(e.tokenSwapAccount),new d.PublicKey(e.authority),A,null!=P?P:M,null!=E?E:L,r===e.coin.mintAddress?new d.PublicKey(e.poolCoinTokenAccount):new d.PublicKey(e.poolPcTokenAccount),c===e.pc.mintAddress?new d.PublicKey(e.poolPcTokenAccount):new d.PublicKey(e.poolCoinTokenAccount),new d.PublicKey(e.tickDetailKey),T,new d.PublicKey(e.programId),Math.floor(j.toWei().toNumber()),Math.floor(I.toWei().toNumber()))),P&&k.add(Object(v.closeAccount)({source:P,destination:A,owner:A})),E&&k.add(Object(v.closeAccount)({source:E,destination:A,owner:A})),t.next=48,Object(h.g)(n,o,k,y);case 48:return t.abrupt("return",t.sent);case 49:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(n,o,e,f,m,h,v,x,C,w,k,y){var A=l.struct([l.u8("instruction"),c.d("amountIn"),c.d("minimumAmountOut")]),data=t.alloc(A.span);A.encode({instruction:1,amountIn:new r.b(k).toBuffer(),minimumAmountOut:new r.b(y).toBuffer()},data);var O=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!1}];return new d.TransactionInstruction({keys:O,programId:C,data:data})}}).call(this,o(5).Buffer)},1279:function(t,n,o){"use strict";o(1237)},1280:function(t,n,o){var e=o(51),r=o(371),c=o(572),l=o(571),d=e(!1),f=r(c),m=r(l);d.push([t.i,".gradient-btn-large[data-v-3ed4c7cc]{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:none;color:#fff}.gradient-btn-large[data-v-3ed4c7cc]:hover{background:linear-gradient(214deg,#a4fff0,#8996ff 61%,#c9c0ff 76%,#f1c3ff)}.gradient-btn-large[data-v-3ed4c7cc]:disabled{cursor:not-allowed}.gradient-btn-large[data-v-3ed4c7cc]:disabled,.gradient-btn-large[data-v-3ed4c7cc]:disabled:hover{background:hsla(0,0%,100%,.1)}.container[data-v-3ed4c7cc]{width:492px;background:hsla(0,0%,100%,.06);border-radius:30px}.container .form-block .change-icon[data-v-3ed4c7cc]{display:flex;align-items:center;justify-content:center;padding-top:20px}.container .form-block .change-icon a[data-v-3ed4c7cc]{display:block;width:40px;height:40px;background-position:50%;background-repeat:no-repeat;background-size:100% 100%;background-image:url("+f+")}.container .form-block .change-icon a[data-v-3ed4c7cc]:hover{background-image:url("+m+")}.container .swap-btn[data-v-3ed4c7cc]{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:none;color:#fff;margin-top:20px}.container .swap-btn[data-v-3ed4c7cc]:hover{background:linear-gradient(214deg,#a4fff0,#8996ff 61%,#c9c0ff 76%,#f1c3ff)}.container .swap-btn[data-v-3ed4c7cc]:disabled{background:hsla(0,0%,100%,.1);cursor:not-allowed}.container .swap-btn[data-v-3ed4c7cc]:disabled:hover{background:hsla(0,0%,100%,.1)}@media screen and (max-width:750px){.container[data-v-3ed4c7cc]{width:100%}}",""]),t.exports=d},1291:function(t,n,o){"use strict";var e=o(153),r=o(114),c=o(104);var l=function(t){return"symbol"==typeof t||Object(c.a)(t)&&"[object Symbol]"==Object(r.a)(t)},d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;var m=function(t,object){if(Object(e.a)(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!l(t))||(f.test(t)||!d.test(t)||null!=object&&t in Object(object))},h=o(375);function v(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var o=function(){var e=arguments,r=n?n.apply(this,e):e[0],c=o.cache;if(c.has(r))return c.get(r);var l=t.apply(this,e);return o.cache=c.set(r,l)||c,l};return o.cache=new(v.Cache||h.a),o}v.Cache=h.a;var x=v;var C=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,w=/\\(\\)?/g,k=function(t){var n=x(t,(function(t){return 500===o.size&&o.clear(),t})),o=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(C,(function(t,o,e,r){n.push(e?r.replace(w,"$1"):o||t)})),n})),y=o(115);var A=function(t,n){for(var o=-1,e=null==t?0:t.length,r=Array(e);++o<e;)r[o]=n(t[o],o,t);return r},O=y.a?y.a.prototype:void 0,_=O?O.toString:void 0;var S=function t(n){if("string"==typeof n)return n;if(Object(e.a)(n))return A(n,t)+"";if(l(n))return _?_.call(n):"";var o=n+"";return"0"==o&&1/n==-Infinity?"-0":o};var j=function(t){return null==t?"":S(t)};var I=function(t,object){return Object(e.a)(t)?t:m(t,object)?[t]:k(j(t))};var N=function(t){if("string"==typeof t||l(t))return t;var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var $=function(object,path){for(var t=0,n=(path=I(path,object)).length;null!=object&&t<n;)object=object[N(path[t++])];return t&&t==n?object:void 0};n.a=function(object,path,t){var n=null==object?void 0:$(object,path);return void 0===n?t:n}},1297:function(t,n,o){"use strict";o.r(n);o(65),o(50),o(64),o(72),o(54),o(83);var e=o(8),r=o(36),c=(o(263),o(179)),l=o.n(c),d=(o(33),o(269),o(565),o(1136),o(1197),o(26),o(84),o(85),o(555),o(13)),f=o(86),m=o(70),h=o(44),v=o(97),x=o(1291),C=o(1278),w=o(1211);function k(object,t){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),n.push.apply(n,o)}return n}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(n){Object(r.a)(t,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(source,n))}))}return t}var A=Object(m.f)("CUSDC"),O=Object(m.f)("CUSDT"),_=d.default.extend({components:{Button:l.a},data:function(){return{showCoinSelect:!1,fromCoin:A,toCoin:O,fromCoinAmount:"",toCoinAmount:"",currentCoinKey:"fromCoin",fixedFromCoin:!0,swaping:!1,showSetting:!1,loading:!1,existingCoins:"",insufficientLiquidity:!1}},head:{title:"Crema Finance | A Powerful Concentrated Liquidity Protocol"},computed:y(y({},Object(f.e)(["wallet","url"])),{},{poolInfo:function(){var t=this;return Object.values(this.$accessor.liquidity.infos).find((function(p){var n,o,e,r;return p.coin.symbol===(null===(n=t.fromCoin)||void 0===n?void 0:n.symbol)&&p.pc.symbol===(null===(o=t.toCoin)||void 0===o?void 0:o.symbol)||p.coin.symbol===(null===(e=t.toCoin)||void 0===e?void 0:e.symbol)&&p.pc.symbol===(null===(r=t.fromCoin)||void 0===r?void 0:r.symbol)}))}}),watch:{"wallet.tokenAccounts":{handler:function(t){this.updateCoinInfo(t)},deep:!0},"liquidity.infos":{handler:function(t){this.updateAmounts(this.poolInfo.currentPrice)},deep:!0},poolInfo:{handler:function(t){t?this.updateAmounts(t.currentPrice):this.fixedFromCoin?this.toCoin=null:this.fromCoin=null},deep:!0},fromCoinAmount:function(t,n){var o=this;this.$nextTick((function(){w.b.test(Object(w.a)(t))?o.fixedFromCoin&&o.updateAmounts(o.poolInfo.currentPrice):o.fromCoinAmount=n}))},toCoinAmount:function(t,n){var o=this;this.$nextTick((function(){w.b.test(Object(w.a)(t))?o.fixedFromCoin||o.updateAmounts(o.poolInfo.currentPrice):o.toCoinAmount=n}))}},mounted:function(){this.updateCoinInfo(this.wallet.tokenAccounts)},methods:{gt:h.b,updateCoinInfo:function(t){if(this.fromCoin){var n=t[this.fromCoin.mintAddress];n&&(this.fromCoin=y(y({},this.fromCoin),n))}if(this.toCoin){var o=t[this.toCoin.mintAddress];o&&(this.toCoin=y(y({},this.toCoin),o))}},updateAmounts:function(t){var n=this;return Object(e.a)(regeneratorRuntime.mark((function t(){var o,e,r,c,l,d,f,m,v,x,w,k,y,A,O;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("进来了啊"),f=Number(n.$accessor.slippage),!n.fromCoin||!n.toCoin||!n.fromCoinAmount&&!n.toCoinAmount){t.next=28;break}if(n.loading=!0,!n.fixedFromCoin){t.next=18;break}return m=new h.a(n.fromCoinAmount,null===(o=n.fromCoin)||void 0===o?void 0:o.decimals,!1).wei.toNumber(),console.log("到这里了吗"),t.next=9,Object(C.a)(n.$web3,n.poolInfo,null===(e=n.fromCoin)||void 0===e?void 0:e.mintAddress,null===(r=n.toCoin)||void 0===r?void 0:r.mintAddress,m,f);case 9:v=t.sent,x=v.amountOut,w=v.amountOutWithSlippage,console.log("fixedFromCoin###if####amountOut###",x.fixed()),console.log("fixedFromCoin###if####amountOutWithSlippage###",w.fixed()),Number(w.fixed())?(n.insufficientLiquidity=!1,n.toCoinAmount=w.fixed()):(n.insufficientLiquidity=!0,n.toCoinAmount="0"),n.loading=!1,t.next=28;break;case 18:return k=new h.a(n.toCoinAmount,null===(c=n.toCoin)||void 0===c?void 0:c.decimals,!1).wei.toNumber(),t.next=21,Object(C.a)(n.$web3,n.poolInfo,null===(l=n.toCoin)||void 0===l?void 0:l.mintAddress,null===(d=n.fromCoin)||void 0===d?void 0:d.mintAddress,k,f);case 21:y=t.sent,A=y.amountOut,O=y.amountOutWithSlippage,Number(A.fixed())?(n.insufficientLiquidity=!1,n.fromCoinAmount=A.fixed()):(n.insufficientLiquidity=!0,n.fromCoinAmount="0"),n.loading=!1,console.log("fixedFromCoin###else####amountOut###",A.fixed()),console.log("fixedFromCoin###else####amountOutWithSlippage###",O.fixed());case 28:case"end":return t.stop()}}),t)})))()},openCoinSelect:function(t){var n,o;this.currentCoinKey=t,this.existingCoins="fromCoin"===t?(null===(n=this.toCoin)||void 0===n?void 0:n.symbol)||"":(null===(o=this.fromCoin)||void 0===o?void 0:o.symbol)||"",this.showCoinSelect=!0},onCoinSelect:function(t){"fromCoin"===this.currentCoinKey?this.fromCoin=t:this.toCoin=t,this.showCoinSelect=!1},maxBtnSelect:function(t){var n,o;"fromCoin"===t?(this.fixedFromCoin=!0,this.fromCoinAmount=this.fromCoin&&this.fromCoin.balance?"SOL"!==this.fromCoin.symbol?this.fromCoin.balance.fixed():String(Number(this.fromCoin.balance.fixed())-.05):"0"):(this.fixedFromCoin=!1,this.toCoinAmount=(null===(o=null===(n=this.toCoin)||void 0===n?void 0:n.balance)||void 0===o?void 0:o.fixed())||"")},changeCoinPosition:function(){var t=this.fromCoin,n=this.toCoin;this.fromCoin=n,this.toCoin=t;var o=this.fromCoinAmount,e=this.toCoinAmount;this.fromCoinAmount=e,this.toCoinAmount=o},placeOrder:function(){var t,n,o=this;this.swaping=!0;var e=Object(v.b)().toString();this.$notify.info({key:e,message:"Making transaction...",description:"",duration:0,icon:this.$createElement("img",{class:{"notify-icon":!0},attrs:{src:"/tanhao@2x.png"}})}),console.log("this.$accessor.liquidity.infos####",this.$accessor.liquidity.infos);var r=Object.values(this.$accessor.liquidity.infos).find((function(p){var t,n,e,r;return p.coin.symbol===(null===(t=o.fromCoin)||void 0===t?void 0:t.symbol)&&p.pc.symbol===(null===(n=o.toCoin)||void 0===n?void 0:n.symbol)||p.coin.symbol===(null===(e=o.toCoin)||void 0===e?void 0:e.symbol)&&p.pc.symbol===(null===(r=o.fromCoin)||void 0===r?void 0:r.symbol)}));console.log("poolInfo#####",r),Object(C.b)(this.$web3,this.$wallet,r,(null===(t=this.fromCoin)||void 0===t?void 0:t.mintAddress)||"",(null===(n=this.toCoin)||void 0===n?void 0:n.mintAddress)||"",Object(x.a)(this.wallet.tokenAccounts,"".concat(this.fromCoin.mintAddress,".tokenAccountAddress")),Object(x.a)(this.wallet.tokenAccounts,"".concat(this.toCoin.mintAddress,".tokenAccountAddress")),this.fromCoinAmount,this.fixedFromCoin?this.toCoinAmount:String(Number(this.toCoinAmount)/(1+Number(this.$accessor.slippage)/100))).then((function(t){var n,r;o.$notify.info({key:e,message:"Transaction has been sent",icon:o.$createElement("img",{class:{"notify-icon":!0},attrs:{src:"/tanhao@2x.png"}}),description:function(n){return n("div",["Confirmation is in progress.  Check your transaction on ",n("a",{attrs:{href:"".concat(o.url.explorer,"/tx/").concat(t),target:"_blank"}},"here")])}});var c="Swap ".concat(o.fromCoinAmount," ").concat(null===(n=o.fromCoin)||void 0===n?void 0:n.symbol," to ").concat(o.toCoinAmount," ").concat(null===(r=o.toCoin)||void 0===r?void 0:r.symbol);o.$accessor.transaction.sub({txid:t,description:c})})).catch((function(t){o.$notify.error({key:e,message:"Swap failed",description:t.message,class:"error",icon:o.$createElement("img",{class:{"notify-icon":!0},attrs:{src:"/icon_Error@2x.png"}})})})).finally((function(){o.swaping=!1}))}}}),S=(o(1279),o(58)),component=Object(S.a)(_,(function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"container swap-container"},[o("div",{staticClass:"c-title"},[o("span",[t._v("Swap")]),t._v(" "),o("div",{staticClass:"buttons"},[o("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(n){t.showSetting=!0}}},[o("use",{attrs:{"xlink:href":"#icon-a-bianzu81"}})])])]),t._v(" "),o("div",{staticClass:"form-block"},[o("CoinBlock",{attrs:{"coin-name":t.fromCoin?t.fromCoin.symbol:null,balance:t.fromCoin?t.fromCoin.balance:null,swapDirection:"From"},on:{onInput:function(n){return t.fromCoinAmount=n},onFocus:function(){t.fixedFromCoin=!0},onMax:function(n){return t.maxBtnSelect("fromCoin")},onSelect:function(n){return t.openCoinSelect("fromCoin")}},model:{value:t.fromCoinAmount,callback:function(n){t.fromCoinAmount=n},expression:"fromCoinAmount"}}),t._v(" "),o("div",{staticClass:"change-icon"},[o("a",{on:{click:t.changeCoinPosition}})]),t._v(" "),o("CoinBlock",{attrs:{"coin-name":t.toCoin?t.toCoin.symbol:"",balance:t.toCoin?t.toCoin.balance:null,swapDirection:"To",disabled:!1,showMax:!1},on:{onInput:function(n){return t.toCoinAmount=n},onFocus:function(){t.fixedFromCoin=!1},onMax:function(n){return t.maxBtnSelect("toCoin")},onSelect:function(n){return t.openCoinSelect("toCoin")}},model:{value:t.toCoinAmount,callback:function(n){t.toCoinAmount=n},expression:"toCoinAmount"}})],1),t._v(" "),t.wallet.connected?o("Button",{staticClass:"swap-btn",attrs:{loading:t.loading,disabled:t.insufficientLiquidity||t.loading||!t.fromCoin||!t.toCoin||!Number(t.fromCoinAmount)||t.swaping||t.gt(t.fromCoinAmount,t.fromCoin&&t.fromCoin.balance?t.fromCoin.balance.fixed():"0")},on:{click:t.placeOrder}},[t._v("\n    "+t._s(t.insufficientLiquidity?"Insufficient Liquidity":t.gt(t.fromCoinAmount,t.fromCoin&&t.fromCoin.balance?t.fromCoin.balance.fixed():"0")?"Insufficient balance":"Swap")+"\n  ")]):o("Button",{staticClass:"swap-btn",on:{click:t.$accessor.wallet.openModal}},[t._v("Connect Wallet")]),t._v(" "),o("SwapInfo",{attrs:{"from-coin":t.fromCoin,"to-coin":t.toCoin,"from-coin-amount":t.fromCoinAmount,"to-coin-amount":t.toCoinAmount,"pool-info":t.poolInfo}}),t._v(" "),t.showSetting?o("Setting",{on:{onClose:function(){return t.showSetting=!1}}}):t._e(),t._v(" "),t.showCoinSelect?o("CoinSelect",{attrs:{"existing-coins":t.existingCoins},on:{onClose:function(){return t.showCoinSelect=!1},onSelect:t.onCoinSelect}}):t._e()],1)}),[],!1,null,"3ed4c7cc",null);n.default=component.exports;installComponents(component,{CoinBlock:o(1195).default,SwapInfo:o(1253).default,Setting:o(1145).default,CoinSelect:o(1196).default})}}]);