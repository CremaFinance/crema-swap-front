import{_ as So}from"./back.fe7c48ab.mjs";import{_ as wo}from"./assets-card.ce3dfb1c.mjs";import{_ as Lo}from"./swap-setting.7e62e97c.mjs";import{a as no,Q as ko,b as to,a0 as io,X as so,e as T,Y as G,r as a,i as ao,j as lo,k as q,l as ro,J as Ao,o as s,c as b,w as X,p as e,t,m as u,q as k,G as N,B as uo,y as co,z as mo,a7 as Io,a8 as qo,A as Ro,Z as g,a1 as H,a2 as Bo,a3 as x,a4 as Mo,a5 as Vo,$ as Oo,a9 as K,a6 as oo,s as eo,L as To,M as No,v as Y,I as Do,aa as Fo,S as Po}from"./entry.c597b80b.mjs";/* empty css               */const Yo=no({components:{Modal:ko},props:{fromCoin:{type:Object,required:!0},toCoin:{type:Object,required:!0},fromCoinAmount:{type:String,required:!0},toCoinAmount:{type:String,required:!0},burnValue:{type:String,required:!0},fixedFromCoin:{type:Boolean,required:!0},liquidityBalance:{type:String,required:!0},currentLpInfo:{type:Object,required:!0},slideVal:{type:String,required:!0}},emits:["on-close","to-remove"],setup(o,n){const R=to();io();const p=so();T(()=>p),G();const B=a(R.slippage||.5),c=a(!0),v=a(!1);function f(_){c.value=_}return{slippage:B,importIcon:ao,fixD:lo,decimalFormat:q,direct:c,changeDirect:f,rateChange:v,clickNextBtn:async()=>{n.emit("to-remove")}}}});const U=o=>(co("data-v-0dc82e2b"),o=o(),mo(),o),Xo=U(()=>e("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Uo={class:"remove-confirm-container"},Eo={class:"card-content"},jo={class:"top"},Wo={class:"coin"},zo=["src"],Ko=N(" \xA0\xA0 "),Go=U(()=>e("div",{class:"svg-box"},[e("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-icon-add1"})])],-1)),Jo={class:"coin"},Qo=["src"],Zo=N(" \xA0\xA0 "),Ho={class:"bottom"},xo={class:"desc"},oe={class:"induction"},ee={class:"item"},ne=U(()=>e("div",{class:"induction-text"},"Rate",-1)),te={class:"induction-value induction-value-change"},ie={key:0},se={key:1},ae=U(()=>e("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),le=[ae],re={class:"item"},ue={class:"induction-text"},ce={class:"induction-value"},de=N(t("Confirm Remove"));function me(o,n,R,p,B,c){const v=uo,f=Ao("Modal");return s(),b(f,{width:"440px",visible:!0,footer:null,title:"You will receive",class:"remove-confirm-modal",onCancel:n[1]||(n[1]=A=>o.$emit("on-close"))},{closeIcon:X(()=>[Xo]),default:X(()=>[e("div",Uo,[e("div",Eo,[e("div",jo,[e("div",Wo,[e("img",{src:o.fromCoin.icon||o.importIcon(`/image/coins/${o.fromCoin.symbol.toLowerCase()}.png`)},null,8,zo),e("p",null,t(o.fromCoinAmount),1),Ko,e("p",null,t(o.fromCoin.symbol),1)]),Go,e("div",Jo,[e("img",{src:o.toCoin.icon||o.importIcon(`/image/coins/${o.toCoin.symbol.toLowerCase()}.png`)},null,8,Qo),e("p",null,t(o.toCoinAmount),1),Zo,e("p",null,t(o.toCoin.symbol),1)])]),e("div",Ho,[e("div",xo,"Output is estimated. if the price changes by more than "+t(o.slippage)+"% your transaction will revert.",1),e("div",oe,[e("div",ee,[ne,e("div",te,[o.rateChange?(s(),u("span",se,"1 "+t(o.toCoin.symbol)+" \u2248 "+t(o.fixD(1/o.currentLpInfo.price,2))+" "+t(o.fromCoin.symbol),1)):(s(),u("span",ie,"1 "+t(o.fromCoin.symbol)+" \u2248 "+t(o.fixD(o.currentLpInfo.price,2))+" "+t(o.toCoin.symbol),1)),(s(),u("svg",{class:"icon-change","aria-hidden":"true",onClick:n[0]||(n[0]=A=>o.rateChange=!o.rateChange)},le))])]),e("div",re,[e("div",ue,t(o.fromCoin.symbol)+" - "+t(o.toCoin.symbol)+" LP Burned",1),e("div",ce,t(o.burnValue),1)])])])])]),k(v,{class:"big-btn swap-confirm-btn",onClick:o.clickNextBtn},{default:X(()=>[de]),_:1},8,["onClick"])]),_:1})}const ve=ro(Yo,[["render",me],["__scopeId","data-v-0dc82e2b"]]),pe=no({setup(o,n){const R=Io(qo,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),p=Ro();G();const B=so(),c=T(()=>B),v=G(),f=T(()=>v);let A=a(!1),_=a(!1),$=a(!1),M=a(!1);const V=a(!1),O=a(!0),i=a(!0),h=a(""),S=a(""),I=a("50"),E=to(),vo=T(()=>E.slippage),w=a(g[p.currentRoute.value.query.from]||g.USDC),L=a(g[p.currentRoute.value.query.to]||g.USDT),r=a({}),j=a(""),J=a(""),po=T(()=>Number(h.value)?"Remove":"Enter an amount"),fo=()=>{V.value=!0,setTimeout(()=>{V.value=!1},1e3),c.value.address&&v.setMyLplist(c.value.address)},ho=[{name:"25%",value:25},{name:"50%",value:50},{name:"75%",value:75},{name:"MAX",value:100}],yo=()=>{const l=w.value;w.value=L.value,L.value=l,M.value=!0,setTimeout(()=>{M.value=!1},300)},Co=l=>{l==="fromCoin"?(O.value=!0,h.value=w.value&&q(w.value.balance,r.value.coinA.value.decimals)||""):(O.value=!1,S.value=L.value&&q(L.value.balance,r.value.coinB.value.decimals)||"")},D=io();H(I,Bo((l,y)=>{if(I.value=l,l!==y){const d=Number(I.value)/100;I.value==="100"?W(r.value.balanceOrigin):W(K(r.value.balanceOrigin).mul(d).toString())}},500)),H(r,()=>{r.value&&W(K(r.value.balanceOrigin).mul(Number(I.value)/100).toString())});const W=async l=>{const y=oo(w.value.symbol,L.value.symbol);j.value=l,J.value=q(K(l).div(Math.pow(10,y.decimals)).toString(),y.decimals)||"";const d=a({});if(l!==""&&l!==0&&l!=="0"){if(d.value={coinX:g[w.value.symbol],coinY:g[L.value.symbol],liquidity:l},d.value)try{const m=await D.getCoinXYForLiquidity(d.value);h.value=q(m.coinXAmount,r.value.coinA.decimals)||"",S.value=q(m.coinYAmount,r.value.coinB.decimals)||""}catch{}}else S.value="",h.value=""},F=a(!1),{setIsShowSuccess:go,setIsShowRejected:Q,setIsShowWaiting:P,setTransactionDesc:bo,setTransactionTxid:Z}=E,_o=async()=>{_.value=!1,F.value=!0,Z(""),bo(`Removing ${h.value} ${r.value.coinA.symbol} and 
        ${S.value} ${r.value.coinB.symbol}`),P(!0);try{const l=a({});l.value={coinX:g[r.value.coinA.symbol],coinY:g[r.value.coinB.symbol],liquidity:parseInt(j.value),slippage:Number(E.slippage)/100};const y=await D.removeLiquidityTransactionPayload(l.value),d=await c.value.currentWallet.signAndSubmitTransaction(y);if(d&&d.hash){Z(d.hash),P(!1),go(!0);const m={title:"Remove Liquidity",desc:`Removed ${h.value} ${r.value.coinA.symbol} and 
        ${S.value} ${r.value.coinB.symbol}`,hash:d.hash};D.showTransitionPending(m),await D.watchTransaction(m)&&(setTimeout(()=>{v.setMyLplist(c.value.address)},3e3),setTimeout(()=>{v.setMyLplist(c.value.address)},6e3))}else P(!1),Q(!0);F.value=!1}catch{F.value=!1,P(!1),Q(!0)}};return x(async()=>{c.value.address&&v.setMyLplist(c.value.address)}),x(()=>{if(f.value.myLplist&&c.value.address){const l=f.value.myLplist,y=p.currentRoute.value.query.from,d=p.currentRoute.value.query.to;let m;if(y&&d&&(m=oo(y,d)),m){if(!m.balance||!Number(m.balance)){p.push("/pools");return}const z=l.filter($o=>$o.symbol===m.symbol)[0];z&&(r.value=z)}}}),{loading:F,indicator:R,addCommom:Mo,fixD:lo,prettyAmount:Vo,liquidity:f,clickExchange:yo,change:M,fixedFromCoin:O,router:p,wallet:c,refresh:V,amountArr:ho,sliderVal:I,slippage:vo,importIcon:ao,clickRefresh:fo,isShowSwapSetting:A,fromCoin:w,toCoin:L,maxBtnSelect:Co,fromCoinAmount:h,toCoinAmount:S,direct:i,rateChange:$,isShowRemoveModal:_,btnText:po,LP_TOKENS:Oo,currentLpInfo:r,selectLp:j,selectLpView:J,toRemove:_o}}});const C=o=>(co("data-v-e0085664"),o=o(),mo(),o),fe={class:"management-remove-liquidity"},he={class:"remove-liquidity-top"},ye=C(()=>e("div",{class:"remove-title"},"Remove Liquidity",-1)),Ce={class:"right title-right"},ge=C(()=>e("svg",{class:"icon","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),be=C(()=>e("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),_e=[be],$e={class:"remove-liquidity-center"},Se={class:"bottom"},we={class:"add-amount"},Le={class:"add-amount-header"},ke=C(()=>e("span",null,"Amount",-1)),Ae={class:"amount-list"},Ie=["onClick"],qe={class:"slider-box"},Re={class:"card-container"},Be={class:"card-item"},Me={class:"card-item"},Ve={class:"induction remove-liquidity-bottom"},Oe={class:"item"},Te=C(()=>e("div",{class:"induction-text"},"Rate",-1)),Ne={key:0},De={key:0},Fe={key:1},Pe=C(()=>e("svg",{class:"icon-change","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-change2"})],-1)),Ye={key:0,"aria-hidden":"true"},Xe=C(()=>e("use",{"xlink:href":"#icon-icon-Remove"},null,-1)),Ue=[Xe],Ee={key:0,class:"showMyLiquidity"},je={class:"myLiquidity"},We=C(()=>e("div",{class:"left"},"Your Liquidity",-1)),ze={key:0,class:"right"},Ke={class:"liquidityAsset"},Ge={class:"item"},Je={class:"left"},Qe=["src"],Ze={key:0,class:"right"},He={class:"item"},xe={class:"left"},on=["src"],en={key:0,class:"right"},nn={class:"induction induction-liquidity"},tn={class:"item"},sn=C(()=>e("div",{class:"induction-text"},"Share of Pool",-1)),an={key:0,class:"induction-value"};function ln(o,n,R,p,B,c){const v=So,f=Do,A=Fo,_=wo,$=Po,M=uo,V=Lo,O=ve;return s(),u("div",fe,[k(v),e("div",he,[ye,e("div",Ce,[e("div",{class:"slippage-icon",onClick:n[0]||(n[0]=i=>o.isShowSwapSetting=!0)},[ge,e("span",null,t(o.slippage)+"%",1)]),(s(),u("svg",{"aria-hidden":"true",class:eo(o.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:n[1]||(n[1]=(...i)=>o.clickRefresh&&o.clickRefresh(...i))},_e,2))])]),e("div",$e,[e("div",Se,[e("div",we,[e("div",Le,[ke,e("div",Ae,[(s(!0),u(To,null,No(o.amountArr,(i,h)=>(s(),u("div",{key:h,class:eo(["amount-item",o.sliderVal==i.value?"amount-item-active":""]),onClick:S=>o.sliderVal=i.value},t(i.name),11,Ie))),128))])]),e("div",qe,[k(f,{value:o.sliderVal,"onUpdate:value":n[2]||(n[2]=i=>o.sliderVal=i),oninput:"this.value = this.value.replace(/[^\\d.]/g,'');",suffix:"%"},null,8,["value"]),k(A,{value:o.sliderVal,"onUpdate:value":n[3]||(n[3]=i=>o.sliderVal=i)},null,8,["value"])])])])]),e("div",Re,[e("div",Be,[k(_,{modelValue:o.fromCoinAmount,"onUpdate:modelValue":n[4]||(n[4]=i=>o.fromCoinAmount=i),"has-arrow":!1,"input-disabled":!0,havemax:!1,"is-total":!0,"input-value":o.fromCoinAmount,"coin-name":o.fromCoin?o.fromCoin.symbol:null,balance:o.currentLpInfo.myCoinXAmount||null,"coin-icon":o.fromCoin?o.fromCoin.icon:"","swap-direction":"From",onOnMax:n[5]||(n[5]=i=>o.maxBtnSelect("fromCoin")),onOnInput:n[6]||(n[6]=i=>o.fromCoinAmount=i),onOnFocus:n[7]||(n[7]=()=>{o.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-name","balance","coin-icon"])]),e("div",Me,[k(_,{modelValue:o.toCoinAmount,"onUpdate:modelValue":n[8]||(n[8]=i=>o.toCoinAmount=i),"has-arrow":!1,havemax:!1,"is-total":!0,"input-disabled":!0,"input-value":o.toCoinAmount,"coin-name":o.fromCoin?o.toCoin.symbol:"",balance:o.currentLpInfo.myCoinYAmount||null,"swap-direction":"To","coin-icon":o.toCoin?o.toCoin.icon:"",onOnMax:n[9]||(n[9]=i=>o.maxBtnSelect("toCoin")),onOnInput:n[10]||(n[10]=i=>o.toCoinAmount=i),onOnFocus:n[11]||(n[11]=()=>{o.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-name","balance","coin-icon"])])]),e("div",Ve,[e("div",Oe,[Te,e("div",{class:"induction-value induction-value-change",onClick:n[12]||(n[12]=i=>o.rateChange=!o.rateChange)},[o.rateChange?(s(),u("span",Fe,"1 "+t(o.toCoin.symbol)+" \u2248 "+t(o.fixD(1/o.currentLpInfo.price,2))+" "+t(o.fromCoin.symbol),1)):(s(),u("span",Ne,[N(" 1 "+t(o.fromCoin.symbol)+" \u2248 ",1),o.currentLpInfo.price?(s(),u("span",De,t(o.fixD(o.currentLpInfo.price,2)),1)):(s(),b($,{key:1,indicator:o.indicator},null,8,["indicator"])),N(" "+t(o.toCoin.symbol),1)])),Pe])])]),k(M,{disabled:o.wallet.connected?!o.fromCoinAmount||!o.toCoinAmount||o.loading:!1,class:"remove-btn big-btn",onClick:n[13]||(n[13]=i=>o.wallet.connected?o.isShowRemoveModal=!0:o.wallet.setIsShowWalletModal(!0))},{default:X(()=>[o.wallet.connected?(s(),u("svg",Ye,Ue)):Y("",!0),e("span",null,t(o.wallet.connected?o.btnText:"Connect Wallet"),1)]),_:1},8,["disabled"]),o.wallet.connected?(s(),u("div",Ee,[e("div",je,[We,o.currentLpInfo.myLpBalance?(s(),u("div",ze,[e("p",null,t(o.currentLpInfo.myLpBalance)+" LP",1),e("span",null,"\u2248 $"+t(o.addCommom(o.currentLpInfo.myBalanceUSD,2)),1)])):(s(),b($,{key:1,indicator:o.indicator},null,8,["indicator"]))]),e("div",Ke,[e("div",Ge,[e("div",Je,[e("img",{src:o.fromCoin.icon||o.importIcon(`/image/coins/${o.fromCoin.symbol.toLowerCase()}.png`),alt:""},null,8,Qe),e("span",null,t(o.fromCoin.symbol),1)]),o.currentLpInfo.myCoinXAmount?(s(),u("div",Ze,t(o.currentLpInfo.myCoinXAmount),1)):(s(),b($,{key:1,indicator:o.indicator},null,8,["indicator"]))]),e("div",He,[e("div",xe,[e("img",{src:o.toCoin.icon||o.importIcon(`/image/coins/${o.toCoin.symbol.toLowerCase()}.png`),alt:""},null,8,on),e("span",null,t(o.toCoin.symbol),1)]),o.currentLpInfo.myCoinYAmount?(s(),u("div",en,t(o.currentLpInfo.myCoinYAmount),1)):(s(),b($,{key:1,indicator:o.indicator},null,8,["indicator"]))])]),e("div",nn,[e("div",tn,[sn,o.currentLpInfo.myshareOfPool?(s(),u("div",an,t(o.currentLpInfo.myshareOfPool)+" %",1)):(s(),b($,{key:1,indicator:o.indicator},null,8,["indicator"]))])])])):Y("",!0),o.isShowSwapSetting?(s(),b(V,{key:1,onOnClose:n[14]||(n[14]=i=>o.isShowSwapSetting=!1)})):Y("",!0),o.isShowRemoveModal?(s(),b(O,{key:2,"liquidity-balance":o.selectLp,"fixed-from-coin":o.fixedFromCoin,"from-coin":o.currentLpInfo.coinA,"to-coin":o.currentLpInfo.coinB,"from-coin-amount":o.fromCoinAmount,"to-coin-amount":o.toCoinAmount,"burn-value":o.selectLpView,"current-lp-info":o.currentLpInfo,onOnClose:n[15]||(n[15]=i=>o.isShowRemoveModal=!1),onToRemove:o.toRemove},null,8,["liquidity-balance","fixed-from-coin","from-coin","to-coin","from-coin-amount","to-coin-amount","burn-value","current-lp-info","onToRemove"])):Y("",!0)])}const vn=ro(pe,[["render",ln],["__scopeId","data-v-e0085664"]]);export{vn as default};
