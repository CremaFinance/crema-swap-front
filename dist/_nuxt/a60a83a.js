(window.webpackJsonp=window.webpackJsonp||[]).push([[2,26],{1145:function(e,t,n){var content=n(1156);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(51).default)("f580aa36",content,!0,{sourceMap:!1})},1152:function(e,t,n){"use strict";n.r(t);n(1165);var input=n(1166),o=n.n(input),r=(n(368),n(180)),c=n.n(r),d=(n(96),n(371),n(12));d.default.use(c.a);var l=d.default.extend({components:{Modal:c.a,Input:o.a},data:function(){return{slippage:"",slippageArr:["0.1","0.5","1"]}},mounted:function(){this.slippage=this.$accessor.slippage},methods:{oninput:function(e){e.target.value=e.target.value.match(/^\d+(?:\.\d{0,2})?/)?e.target.value.match(/^\d+(?:\.\d{0,2})?/)[0]||null:"",e.target.value&&(this.slippage=e.target.value)},confirmSlippage:function(){this.$accessor.setSlippage(this.slippage),this.$emit("onClose")}}}),f=(n(1155),n(53)),component=Object(f.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{title:"Settings",zIndex:1070,centered:"",width:"430px",visible:!0,footer:null},on:{cancel:function(t){return e.$emit("onClose")}}},[n("div",{staticClass:"pool-setting"},[n("div",{staticClass:"slippage-tolerance"},[e._v("Slippage tolerance")]),e._v(" "),n("div",{staticClass:"input-content"},[e._l(e.slippageArr,(function(t,o){return n("div",{key:o,staticClass:"slippage-item",class:t===e.slippage?"slippage-item-active":"",on:{click:function(n){e.slippage=t}}},[e._v("\n        "+e._s(t)+"\n      ")])})),e._v(" "),n("Input",{attrs:{typ:"number",size:"large",suffix:"%"},on:{input:e.oninput},model:{value:e.slippage,callback:function(t){e.slippage=t},expression:"slippage"}})],2),e._v(" "),n("div",{staticClass:"btn-box"},[n("div",{staticClass:"disconnect-btn-box"},[n("Button",{staticClass:"disconnect-btn",attrs:{ghost:""},on:{click:function(t){return e.$emit("onClose")}}},[e._v(" Cancel ")])],1),e._v(" "),n("Button",{staticClass:"switch-wallet-btn",attrs:{ghost:""},on:{click:e.confirmSlippage}},[e._v(" Confirm ")])],1)])])}),[],!1,null,null,null);t.default=component.exports},1155:function(e,t,n){"use strict";n(1145)},1156:function(e,t,n){var o=n(50)(!1);o.push([e.i,".pool-setting .slippage-tolerance{margin-top:14px}.pool-setting .input-content{margin-top:10px;display:flex;justify-content:space-between}.pool-setting .input-content .slippage-item{width:80px;height:40px;background:none;font-size:14px;font-weight:500;color:#07ebad;text-align:center;line-height:40px;border-radius:10px;border:1px solid #07ebad}.pool-setting .input-content .slippage-item-active{background:rgba(7,235,173,.3);border-radius:10px;border:1px solid #07ebad}.pool-setting .input-content input{width:80px;height:40px;background:#1a1e21;border:1px solid #07ebad;color:#07ebad;border-radius:10px}.pool-setting .input-content .ant-input-affix-wrapper{width:auto;background:#1a1e21}.pool-setting .input-content .ant-input-affix-wrapper .ant-input-suffix{color:#07ebad}.pool-setting .input-content .ant-input-affix-wrapper input{background:#1a1e21;text-align:center!important;font-size:14px;line-height:20px;border-radius:10px}.pool-setting .btn-box{display:flex;margin-top:40px;justify-content:space-between}.pool-setting .disconnect-btn-box{width:168px;height:48px;font-size:16px;border-radius:10px;padding:2px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff)}.pool-setting .disconnect-btn-box .disconnect-btn{width:100%;height:100%;border:none;background:#1b2023!important;border-radius:10px;color:#fff}.pool-setting .switch-wallet-btn{width:168px;height:48px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff)!important;font-size:16px;margin-left:12px;border-radius:10px;color:#fff;border:none}",""]),e.exports=o},1200:function(e,t,n){var content=n(1228);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(51).default)("6237e563",content,!0,{sourceMap:!1})},1227:function(e,t,n){"use strict";n(1200)},1228:function(e,t,n){var o=n(50)(!1);o.push([e.i,'.gradient-btn-large{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:none;color:#fff}.gradient-btn-large:hover{background:linear-gradient(214deg,#a4fff0,#8996ff 61%,#c9c0ff 76%,#f1c3ff)}.gradient-btn-large:disabled{cursor:not-allowed}.gradient-btn-large:disabled,.gradient-btn-large:disabled:hover{background:hsla(0,0%,100%,.1)}.add-liquidity-modal .modal-header{display:flex;align-items:center;justify-content:space-between;padding:16px 0;color:#f1f1f2;border-radius:4px 4px 0 0}.add-liquidity-modal .modal-header .modal-header-left{display:flex;align-items:center;font-size:18px;font-weight:500;color:#fff}.add-liquidity-modal .modal-header .modal-header-left .icon{margin-right:4px}.add-liquidity-modal .modal-header .icon{width:20px;height:20px}.add-liquidity-modal .top{justify-content:space-between}.add-liquidity-modal .top,.add-liquidity-modal .top .coin-pair{display:flex;align-items:center}.add-liquidity-modal .top .coin-pair img{width:30px;height:30px;border-radius:100%}.add-liquidity-modal .top .coin-pair img:nth-of-type(2){margin-left:-10px}.add-liquidity-modal .top .coin-pair span{font-size:16px;margin-left:10px}.add-liquidity-modal .top .status{display:flex;align-items:center;justify-content:center;padding:0 16px;min-width:80px;height:28px;background:hsla(0,0%,100%,.1);border-radius:8px}.add-liquidity-modal .top .status i{width:6px;height:6px;background:#00ff4d;border-radius:100%;margin-right:6px}.add-liquidity-modal .top .status svg{width:20px;height:20px;fill:hsla(0,0%,100%,.8);margin-right:4px}.add-liquidity-modal .top .status span{font-size:14px;color:#fff}.add-liquidity-modal .info{width:100%;background:hsla(0,0%,100%,.04);border-radius:10px;padding:0 20px;margin-top:20px}.add-liquidity-modal .info .coin-info-block{display:flex;align-items:center;justify-content:space-between;padding-top:10px}.add-liquidity-modal .info .coin-info-block .left{display:flex;align-items:center}.add-liquidity-modal .info .coin-info-block .left img{width:30px;height:30px;border-radius:100%}.add-liquidity-modal .info .coin-info-block .left span{font-size:16px;color:#fff;margin-left:10px}.add-liquidity-modal .info .coin-info-block .right{font-size:20px;color:#fff}.add-liquidity-modal .info .fee-tier-block{margin-top:14px;border-top:1px solid hsla(0,0%,100%,.1);display:flex;align-items:center;justify-content:space-between;padding-top:16px;padding-bottom:20px}.add-liquidity-modal .info .fee-tier-block span{color:#fff}.add-liquidity-modal .info .fee-tier-block span:first-child{font-size:16px}.add-liquidity-modal .info .fee-tier-block span:last-child{font-size:20px}.add-liquidity-modal .range-box{width:100%;margin-top:22px}.add-liquidity-modal .range-box .range-title{display:flex;align-items:center;justify-content:space-between}.add-liquidity-modal .range-box .range-title h3{font-size:14px;color:#fff}.add-liquidity-modal .range-box .range-title .coin-tab{width:100px;height:28px;background:hsla(0,0%,100%,.1);border-radius:8px;display:flex;align-items:center;padding:1px}.add-liquidity-modal .range-box .range-title .coin-tab span{flex:1;border-radius:7px;font-size:14px;color:hsla(0,0%,100%,.5);height:100%;display:flex;align-items:center;justify-content:center}.add-liquidity-modal .range-box .range-title .coin-tab span.active{background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);color:#fff}.add-liquidity-modal .range-box .price-range-block{display:flex;margin-top:16px;align-items:center;justify-content:space-between}.add-liquidity-modal .range-box .price-range-block .price-item{background:hsla(0,0%,100%,.04);border-radius:10px;text-align:center;font-size:12px;color:hsla(0,0%,100%,.5)}.add-liquidity-modal .range-box .price-range-block .price-item+.price-item{margin-left:10px}.add-liquidity-modal .range-box .price-range-block .price-item .title{font-size:12px;color:hsla(0,0%,100%,.5);padding-top:8px}.add-liquidity-modal .range-box .price-range-block .price-item .price{font-size:14px;color:#fff;padding-top:8px;margin-bottom:0}.add-liquidity-modal .range-box .price-range-block .price-item .text{font-size:12px;color:hsla(0,0%,100%,.5);padding-top:8px}.add-liquidity-modal .range-box .price-range-block .price-item .note{border-top:1px solid hsla(0,0%,100%,.1);margin:6px auto 0;display:flex;align-items:center;justify-content:center;padding:8px 20px 10px}.add-liquidity-modal .current-price{display:flex;align-items:center;margin-top:10px}.add-liquidity-modal .current-price span{font-size:12px;color:hsla(0,0%,100%,.5)}.add-liquidity-modal .current-price div{font-family:"Arial Bold";font-weight:700;font-size:16px;background:linear-gradient(90deg,#59bdad,#6676f5,#9a89f9,#eba7ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-left:10px;margin-top:0}.add-liquidity-modal .add-liquidity-form-box{margin-top:30px}.add-liquidity-modal .add-btn{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:none;color:#fff;margin-top:20px}.add-liquidity-modal .add-btn:hover{background:linear-gradient(214deg,#a4fff0,#8996ff 61%,#c9c0ff 76%,#f1c3ff)}.add-liquidity-modal .add-btn:disabled{background:hsla(0,0%,100%,.1);cursor:not-allowed}.add-liquidity-modal .add-btn:disabled:hover{background:hsla(0,0%,100%,.1)}',""]),e.exports=o},1238:function(e,t,n){"use strict";n.r(t);n(368);var o=n(180),r=n.n(o),c=(n(1143),n(12)),d=n(369),l=n(97),f=n(44);c.default.use(r.a);var m=c.default.extend({components:{Modal:r.a},props:{title:{type:String,default:"Add Liquidity"},coinPair:{type:String,default:"CRM/USDT"},fromCoin:{type:String,default:"CRM"},toCoin:{type:String,default:"USDT"},secondConfirmData:{type:Object,default:function(){return{}}},minPrice:{type:String,default:""},maxPrice:{type:String,default:""}},data:function(){return{direct:!0,fromCoinAmount:"",toCoinAmount:"",showSetting:!1,deltaLiquity:0,insufficientBalance:!1}},computed:{isDisabled:function(){var e=this.secondConfirmData&&this.secondConfirmData.showFromCoinLock,t=this.secondConfirmData&&this.secondConfirmData.showToCoinLock,n=this.$data.fromCoinAmount,o=this.$data.toCoinAmount;return!(e&&!t&&o)&&(!(t&&!e&&n)&&!(!t&&!e&&o&&n))}},watch:{fromCoinAmount:function(e){console.log(e,"val##")}},mounted:function(){console.log(this.secondConfirmData,"secondConfirmData##")},methods:{gt:f.b,fixD:l.a,importIcon:d.a,onChangeInsufficientBalance:function(e){this.insufficientBalance=e},changeDirect:function(e){this.direct=e},toAdd:function(){var e,t;this.fromCoinAmount&&(e=Number(this.fromCoinAmount)*(1+Number(this.$accessor.slippage)/100)),this.toCoinAmount&&(t=Number(this.toCoinAmount)*(1+Number(this.$accessor.slippage)/100)),this.$emit("supply",e,t,this.deltaLiquity),this.$emit("onClose")},addFormChanged:function(e,t,n){console.log("addFormChanged###deltaLiquity####",n),this.fromCoinAmount=e,this.toCoinAmount=t,this.deltaLiquity=n}}}),y=(n(1227),n(53)),component=Object(y.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Modal",{staticClass:"add-liquidity-confirm",attrs:{width:"492px",visible:!0,centered:"",closable:!1,header:null,footer:null},on:{cancel:function(t){return e.$emit("onClose")}}},[n("div",{staticClass:"add-liquidity-modal"},[n("div",{staticClass:"modal-header"},[n("div",{staticClass:"modal-header-left"},["Increase Liquidity"==e.title?n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.$emit("onClose")}}},[n("use",{attrs:{"xlink:href":"#icon-icon-return"}})]):e._e(),e._v("\n          "+e._s(e.title)+"\n        ")]),e._v(" "),n("div",{staticClass:"modal-header-right"},["Increase Liquidity"==e.title?n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(t){e.showSetting=!0}}},[n("use",{attrs:{"xlink:href":"#icon-a-bianzu81"}})]):n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.$emit("onClose")}}},[n("use",{attrs:{"xlink:href":"#icon-icon-close"}})])])]),e._v(" "),n("div",{staticClass:"top"},[n("div",{staticClass:"coin-pair"},[n("img",{attrs:{src:e.importIcon("/coins/"+e.secondConfirmData.fromCoin.symbol.toLowerCase()+".png")}}),e._v(" "),n("img",{attrs:{src:e.importIcon("/coins/"+e.secondConfirmData.toCoin.symbol.toLowerCase()+".png")}}),e._v(" "),n("span",[e._v(e._s(e.secondConfirmData.fromCoin.symbol)+" / "+e._s(e.secondConfirmData.toCoin.symbol))])]),e._v(" "),"Closed"===e.secondConfirmData.currentStatus?n("div",{staticClass:"status"},[e._v("Closed")]):"Active"===e.secondConfirmData.currentStatus?n("div",{staticClass:"status"},[n("i"),e._v(" "),n("span",[e._v("Active")])]):n("div",{staticClass:"status"},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-icon-tips"}})]),e._v(" "),n("span",[e._v("InActive")])])]),e._v(" "),n("div",{staticClass:"info"},[e.secondConfirmData.showFromCoinLock?e._e():n("div",{staticClass:"coin-info-block"},[n("div",{staticClass:"left"},[n("img",{attrs:{src:e.importIcon("/coins/"+e.secondConfirmData.fromCoin.symbol.toLowerCase()+".png")}}),e._v(" "),n("span",[e._v(e._s(e.secondConfirmData.fromCoin.symbol))])]),e._v(" "),n("div",{staticClass:"right"},[e._v(e._s(e.secondConfirmData.fromCoinAmount))])]),e._v(" "),e.secondConfirmData.showToCoinLock?e._e():n("div",{staticClass:"coin-info-block"},[n("div",{staticClass:"left"},[n("img",{attrs:{src:e.importIcon("/coins/"+e.secondConfirmData.toCoin.symbol.toLowerCase()+".png")}}),e._v(" "),n("span",[e._v(e._s(e.secondConfirmData.toCoin.symbol))])]),e._v(" "),n("div",{staticClass:"right"},[e._v(e._s(e.secondConfirmData.toCoinAmount))])]),e._v(" "),n("div",{staticClass:"fee-tier-block"},[n("span",[e._v("Fee Tier")]),e._v(" "),n("span",[e._v(e._s(e.secondConfirmData.feeTier))])])]),e._v(" "),n("div",{staticClass:"range-box"},[n("div",{staticClass:"range-title"},[n("h3",[e._v("Selected Range")]),e._v(" "),n("div",{staticClass:"coin-tab"},[n("span",{class:e.direct?"active":"",on:{click:function(t){return e.changeDirect(!0)}}},[e._v(e._s(e.secondConfirmData.fromCoin.symbol))]),e._v(" "),n("span",{class:e.direct?"":"active",on:{click:function(t){return e.changeDirect(!1)}}},[e._v(e._s(e.secondConfirmData.toCoin.symbol))])])]),e._v(" "),n("div",{staticClass:"price-range-block"},[n("div",{staticClass:"price-item"},[n("div",{staticClass:"title"},[e._v("Min Price")]),e._v(" "),n("p",{staticClass:"price"},[e._v(e._s(e.secondConfirmData.minPrice))]),e._v(" "),e.direct?n("div",{staticClass:"text"},[e._v("\n              "+e._s(e.secondConfirmData.fromCoin.symbol)+" per "+e._s(e.secondConfirmData.toCoin.symbol)+"\n            ")]):n("div",{staticClass:"text"},[e._v("\n              "+e._s(e.secondConfirmData.toCoin.symbol)+" per "+e._s(e.secondConfirmData.fromCoin.symbol)+"\n            ")]),e._v(" "),n("div",{staticClass:"note"},[e._v("\n              Your position will be 100% composed of "+e._s(e.secondConfirmData.fromCoin.symbol)+" at this price\n            ")])]),e._v(" "),n("div",{staticClass:"price-item"},[n("div",{staticClass:"title"},[e._v("Max Price")]),e._v(" "),n("p",{staticClass:"price"},[e._v(e._s(e.secondConfirmData.maxPrice))]),e._v(" "),e.direct?n("div",{staticClass:"text"},[e._v("\n              "+e._s(e.secondConfirmData.toCoin.symbol)+" per "+e._s(e.secondConfirmData.fromCoin.symbol)+"\n            ")]):n("div",{staticClass:"text"},[e._v("\n              "+e._s(e.secondConfirmData.fromCoin.symbol)+" per "+e._s(e.secondConfirmData.toCoin.symbol)+"\n            ")]),e._v(" "),n("div",{staticClass:"note"},[e._v("\n              Your position will be 100% composed of "+e._s(e.secondConfirmData.toCoin.symbol)+" at this price\n            ")])])])]),e._v(" "),n("div",{staticClass:"current-price"},[n("span",[e._v("Current price")]),e._v(" "),e.direct?n("div",[e._v("\n          1 "+e._s(e.secondConfirmData.fromCoin.symbol)+" ≈\n          "+e._s(e.fixD(e.secondConfirmData.currentPrice,e.secondConfirmData.toCoin.decimals))+"\n          "+e._s(e.secondConfirmData.toCoin.symbol)+"\n        ")]):n("div",[e._v("\n          1 "+e._s(e.secondConfirmData.toCoin.symbol)+" ≈\n          "+e._s(e.fixD(1/e.secondConfirmData.currentPrice,e.secondConfirmData.toCoin.decimals))+"\n          "+e._s(e.secondConfirmData.fromCoin.symbol)+"\n        ")])]),e._v(" "),"Add Liquidity"!==e.title?n("div",{staticClass:"add-liquidity-form-box"},[n("AddLiquidityForm",{attrs:{"default-from-coin":e.secondConfirmData.fromCoin,"default-to-coin":e.secondConfirmData.toCoin,"show-from-coin-lock":e.secondConfirmData.showFromCoinLock,"show-to-coin-lock":e.secondConfirmData.showToCoinLock,"current-data":e.secondConfirmData},on:{onChange:e.addFormChanged,onChangeInsufficientBalance:e.onChangeInsufficientBalance}})],1):e._e(),e._v(" "),"Add Liquidity"!==e.title?n("button",{staticClass:"add-btn",attrs:{disabled:e.isDisabled||e.insufficientBalance},on:{click:e.toAdd}},[e._v("\n        "+e._s(e.insufficientBalance?"Insufficient balance":"Add")+"\n      ")]):n("button",{staticClass:"add-btn",on:{click:e.toAdd}},[e._v("Add")])])]),e._v(" "),e.showSetting?n("Setting",{on:{onClose:function(){return e.showSetting=!1}}}):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{AddLiquidityForm:n(1262).default,Setting:n(1152).default})},1243:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return F}));n(109);var o=n(8),r=n(113),c=n(22),d=n(32),l=n(262),f=n(37),m=n(57),y=n(24),x=(n(33),n(215),n(126),n(59),n(27),n(84),n(10)),h=n.n(x),v=n(1),w=n(40),k=n.n(w),C=n(18),_=n(9),A=n(4),j=n(70),O=n(331),S=n(16),P=n(38),D=n(44),K=n(156),L=n(375),T=n(26);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(y.a)(e);if(t){var r=Object(y.a)(this).constructor;Reflect.construct(o,arguments,r)}else o.apply(this,arguments);return Object(m.a)(this,n)}}var W=new A.Account([145,101,210,147,165,195,23,69,182,224,218,4,144,61,168,176,20,187,204,236,117,88,182,47,231,219,50,169,28,175,124,100,103,10,24,183,209,36,230,201,249,29,188,155,200,187,54,151,203,137,135,31,160,75,250,72,225,22,173,88,38,147,165,53]);Object(v.struct)([Object(_.u64)("status"),Object(_.u64)("nonce"),Object(_.u64)("orderNum"),Object(_.u64)("depth"),Object(_.u64)("coinDecimals"),Object(_.u64)("pcDecimals"),Object(_.u64)("state"),Object(_.u64)("resetFlag"),Object(_.u64)("minSize"),Object(_.u64)("volMaxCutRatio"),Object(_.u64)("amountWaveRatio"),Object(_.u64)("coinLotSize"),Object(_.u64)("pcLotSize"),Object(_.u64)("minPriceMultiplier"),Object(_.u64)("maxPriceMultiplier"),Object(_.u64)("systemDecimalsValue"),Object(_.u64)("minSeparateNumerator"),Object(_.u64)("minSeparateDenominator"),Object(_.u64)("tradeFeeNumerator"),Object(_.u64)("tradeFeeDenominator"),Object(_.u64)("pnlNumerator"),Object(_.u64)("pnlDenominator"),Object(_.u64)("swapFeeNumerator"),Object(_.u64)("swapFeeDenominator"),Object(_.u64)("needTakePnlCoin"),Object(_.u64)("needTakePnlPc"),Object(_.u64)("totalPnlPc"),Object(_.u64)("totalPnlCoin"),Object(_.u128)("poolTotalDepositPc"),Object(_.u128)("poolTotalDepositCoin"),Object(_.u128)("swapCoinInAmount"),Object(_.u128)("swapPcOutAmount"),Object(_.u64)("swapCoin2PcFee"),Object(_.u128)("swapPcInAmount"),Object(_.u128)("swapCoinOutAmount"),Object(_.u64)("swapPc2CoinFee"),Object(_.publicKey)("poolCoinTokenAccount"),Object(_.publicKey)("poolPcTokenAccount"),Object(_.publicKey)("coinMintAddress"),Object(_.publicKey)("pcMintAddress"),Object(_.publicKey)("lpMintAddress"),Object(_.publicKey)("ammOpenOrders"),Object(_.publicKey)("serumMarket"),Object(_.publicKey)("serumProgramId"),Object(_.publicKey)("ammTargetOrders"),Object(_.publicKey)("poolWithdrawQueue"),Object(_.publicKey)("poolTempLpTokenAccount"),Object(_.publicKey)("ammOwner"),Object(_.publicKey)("pnlOwner")]),k.a,v.struct([C.b("nft_token_id"),v.s32("lower_tick"),v.s32("upper_tick"),C.c("liquity"),C.c("fee_growth_inside_a_last"),C.c("fee_growth_inside_b_last"),C.c("token_a_fee"),C.c("token_b_fee")]);function I(e,t,n,o,r,c,d,l,f,m,y,x,h,v){return z.apply(this,arguments)}function z(){return(z=Object(o.a)(regeneratorRuntime.mark((function e(t,n,o,r,c,d,l,f,m,y,x,h,v,w){var k,C,_,O,M,W,I,z,$,E,N,data,F,R,U,J,Y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("addLiquidity###connection###",t),console.log("addLiquidity###wallet###",n),console.log("addLiquidity###poolInfo###",o),console.log("addLiquidity###nftMintToken###",r),console.log("addLiquidity###userNftPubkey###",c),console.log("addLiquidity###fromCoinAccount###",d),console.log("addLiquidity###toCoinAccount###",l),console.log("addLiquidity###fromCoin###",f),console.log("addLiquidity###toCoin###",m),console.log("addLiquidity###fromAmount###",y),console.log("addLiquidity###toAmount###",x),console.log("addLiquidity###tick_lower###",h),console.log("addLiquidity###tick_upper###",v),console.log("addLiquidity###liquityAmount###",w),t&&n){e.next=16;break}throw new Error("Miss connection");case 16:if(o&&f&&m){e.next=18;break}throw new Error("Miss pool infomations");case 18:if(d&&l&&o.tokenSwapAccount){e.next=20;break}throw new Error("Miss account infomations");case 20:if(c){e.next=22;break}throw new Error("Miss userNftPubkey");case 22:if(r){e.next=24;break}throw new Error("Miss nftMintToken");case 24:if(w){e.next=26;break}throw new Error("Miss liquityAmount");case 26:if(k=new A.Transaction,C=[],_=n.publicKey,O=[new A.PublicKey(d),new A.PublicKey(l)],M=[y,x],o.coin.mintAddress===m.mintAddress&&o.pc.mintAddress===f.mintAddress&&(O.reverse(),M.reverse()),W=O[0],I=O[1],M[0]&&(z=new D.a(M[0],o.coin.decimals,!1).wei.toNumber()),M[1]&&($=new D.a(M[1],o.pc.decimals,!1).wei.toNumber()),o.coin.mintAddress!==j.b.mintAddress){e.next=40;break}return e.next=39,Object(P.d)(t,E,_,j.d.WSOL.mintAddress,z+1e7,k,C);case 39:E=e.sent;case 40:if(o.pc.mintAddress!==j.b.mintAddress){e.next=44;break}return e.next=43,Object(P.d)(t,N,_,j.d.WSOL.mintAddress,$+1e7,k,C);case 43:N=e.sent;case 44:return e.next=46,Object(K.a)(t,new A.PublicKey(o.tokenSwapAccount),T.f);case 46:return data=e.sent,F=S.e.decode(data),R=F.user_position_index,e.next=51,S.f.getUserPositionIdx(t,new A.PublicKey(o.userPositionKey),c,T.f,R);case 51:return U=e.sent,J=U.index,Y=U.new_flag,k.add(B(new A.PublicKey(o.tokenSwapAccount),new A.PublicKey(o.authority),_,E||W,N||I,new A.PublicKey(o.poolCoinTokenAccount),new A.PublicKey(o.poolPcTokenAccount),r,c,new A.PublicKey(o.tickDetailKey),new A.PublicKey(o.userPositionKey),new A.PublicKey(o.tokenSwapToken),new A.PublicKey(o.programId),Y,h,v,w,z?Math.ceil(z):0,$?Math.ceil($):0,J)),E&&k.add(Object(L.closeAccount)({source:E,destination:_,owner:_})),N&&k.add(Object(L.closeAccount)({source:N,destination:_,owner:_})),e.next=59,Object(P.g)(t,n,k,C);case 59:return e.abrupt("return",e.sent);case 60:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(t,n,o,r,c,d,l,f,m,y,x,h,w,k,_,j,O,P,D,K){console.log("depositAllTokenTypesInstruction###tick_lower###",_),console.log("depositAllTokenTypesInstruction####tick_upper###",j),console.log("depositAllTokenTypesInstruction####maximumTokenA###",P),console.log("depositAllTokenTypesInstruction###maximumTokenB###",D);var L=v.struct([v.u8("instruction"),v.u8("new_position"),C.d("liquity_amount"),v.s32("tick_lower"),v.s32("tick_upper"),C.d("maximumTokenA"),C.d("maximumTokenB"),C.d("user_position_index")]),data=e.alloc(L.span);L.encode({instruction:2,new_position:k,liquity_amount:new S.b(O).toBuffer(),tick_lower:_,tick_upper:j,maximumTokenA:new S.b(P).toBuffer(),maximumTokenB:new S.b(D).toBuffer(),user_position_index:new S.b(K).toBuffer()},data);var T=L.decode(data);console.log("test####",T);var M=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!1}];return new A.TransactionInstruction({keys:M,programId:h,data:data})}function $(e,t,n,o,r){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(regeneratorRuntime.mark((function e(t,n,o,r,c){var d,l,f,m,y,x,data,h,v,w,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}throw new Error("Miss connection");case 2:if(r&&c&&o.tokenSwapAccount){e.next=4;break}throw new Error("Miss account infomations");case 4:return d=new A.Transaction,l=[],f=n.publicKey,m=[new A.PublicKey(r),new A.PublicKey(c)],y=m[0],x=m[1],e.next=12,Object(K.a)(t,new A.PublicKey(o.tokenSwapAccount),T.f);case 12:return data=e.sent,h=S.e.decode(data),v=h.user_position_index,e.next=17,S.f.getUserPositionIdx(t,new A.PublicKey(o.userPositionKey),o.nft_token_id,T.f,v);case 17:return w=e.sent,k=w.index,w.new_flag,d.add(N(new A.PublicKey(o.tokenSwapAccount),new A.PublicKey(o.authority),f,new A.PublicKey(o.poolCoinTokenAccount),new A.PublicKey(o.poolPcTokenAccount),y,x,o.nft_token_id,new A.PublicKey(o.tickDetailKey),new A.PublicKey(o.userPositionKey),new A.PublicKey(o.tokenSwapToken),new A.PublicKey(o.programId),k)),e.next=23,Object(P.g)(t,n,d,l);case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(t,n,o,r,c,d,l,f,m,y,x,h,w){var k=v.struct([v.u8("instruction"),C.d("user_position_index")]),data=e.alloc(k.span);k.encode({instruction:4,user_position_index:new S.b(w).toBuffer()},data);var _=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!1}];return new A.TransactionInstruction({keys:_,programId:x,data:data})}function F(e,t,n,o,r,c,d,l,f,m,y,x){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(regeneratorRuntime.mark((function e(t,n,o,r,c,d,l,f,m,y,x,h){var v,w,k,C,_,M,I,z,B,$,E,data,N,F,R,J,Y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("removeLiquidity###connection###",t),console.log("removeLiquidity###wallet###",n),console.log("removeLiquidity###poolInfo###",o),console.log("removeLiquidity###nftMintToken###",r),console.log("removeLiquidity###userNftPubkey###",c),console.log("removeLiquidity###fromCoinAccount###",d),console.log("removeLiquidity###toCoinAccount###",l),console.log("removeLiquidity###fromCoin###",f),console.log("removeLiquidity###toCoin###",m),console.log("removeLiquidity###fromAmount###",y),console.log("removeLiquidity###toAmount###",x),console.log("removeLiquidity###liquityAmount###",h),t&&n){e.next=14;break}throw new Error("Miss connection");case 14:if(o&&f&&m){e.next=16;break}throw new Error("Miss pool infomations");case 16:if(d&&l&&o.tokenSwapAccount){e.next=18;break}throw new Error("Miss account infomations");case 18:if(c){e.next=20;break}throw new Error("Miss userNftPubkey");case 20:if(r){e.next=22;break}throw new Error("Miss nftMintToken");case 22:if(h){e.next=24;break}throw new Error("Miss liquityAmount");case 24:if(v=new A.Transaction,w=[],k=n.publicKey,C=[new A.PublicKey(d),new A.PublicKey(l)],_=[y,x],o.coin.mintAddress===m.mintAddress&&o.pc.mintAddress===f.mintAddress&&(C.reverse(),_.reverse()),M=C[0],I=C[1],_[0]&&(z=new D.a(_[0],o.coin.decimals,!1).wei.toNumber()),_[1]&&(B=new D.a(_[1],o.pc.decimals,!1).wei.toNumber()),o.coin.mintAddress!==j.b.mintAddress){e.next=38;break}return e.next=37,Object(P.d)(t,$,k,j.d.WSOL.mintAddress,z+1e7,v,w);case 37:$=e.sent;case 38:if(o.pc.mintAddress!==j.b.mintAddress){e.next=42;break}return e.next=41,Object(P.d)(t,E,k,j.d.WSOL.mintAddress,B+1e7,v,w);case 41:E=e.sent;case 42:return e.next=44,Object(K.a)(t,new A.PublicKey(o.tokenSwapAccount),T.f);case 44:return data=e.sent,N=S.e.decode(data),F=N.user_position_index,e.next=49,S.f.getUserPositionIdx(t,new A.PublicKey(o.userPositionKey),c,T.f,F);case 49:return R=e.sent,J=R.index,R.new_flag,Y=new O.b(t,r,O.a,W),v.add(U(new A.PublicKey(o.tokenSwapAccount),new A.PublicKey(o.authority),k,new A.PublicKey(o.poolCoinTokenAccount),new A.PublicKey(o.poolPcTokenAccount),$||M,E||I,Y.publicKey,c,new A.PublicKey(o.tickDetailKey),new A.PublicKey(o.userPositionKey),new A.PublicKey(o.tokenSwapToken),new A.PublicKey(o.programId),Math.floor(h),z?Math.floor(z):0,B?Math.floor(B):0,J)),$&&v.add(Object(L.closeAccount)({source:$,destination:k,owner:k})),E&&v.add(Object(L.closeAccount)({source:E,destination:k,owner:k})),e.next=58,Object(P.g)(t,n,v,w);case 58:return e.abrupt("return",e.sent);case 59:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(t,n,o,r,c,d,l,f,m,y,x,h,w,k,_,j,O){var P=v.struct([v.u8("instruction"),C.d("liquity_amount"),C.d("minimumTokenA"),C.d("minimumTokenB"),C.d("user_position_index")]),data=e.alloc(P.span);P.encode({instruction:3,liquity_amount:new S.b(k).toBuffer(),minimumTokenA:new S.b(_).toBuffer(),minimumTokenB:new S.b(j).toBuffer(),user_position_index:new S.b(O).toBuffer()},data),console.log("nft_mint_pubkey##string####",f.toString()),console.log("user_nft_pubkey##string####",m.toString());var D=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!1}];return new A.TransactionInstruction({keys:D,programId:h,data:data})}}).call(this,n(5).Buffer)},1302:function(e,t,n){"use strict";var o=n(154),r=n(114),c=n(104);var d=function(e){return"symbol"==typeof e||Object(c.a)(e)&&"[object Symbol]"==Object(r.a)(e)},l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;var m=function(e,object){if(Object(o.a)(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!d(e))||(f.test(e)||!l.test(e)||null!=object&&e in Object(object))},y=n(376);function x(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],c=n.cache;if(c.has(r))return c.get(r);var d=e.apply(this,o);return n.cache=c.set(r,d)||c,d};return n.cache=new(x.Cache||y.a),n}x.Cache=y.a;var h=x;var v=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,w=/\\(\\)?/g,k=function(e){var t=h(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(v,(function(e,n,o,r){t.push(o?r.replace(w,"$1"):n||e)})),t})),C=n(115);var _=function(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r},A=C.a?C.a.prototype:void 0,j=A?A.toString:void 0;var O=function e(t){if("string"==typeof t)return t;if(Object(o.a)(t))return _(t,e)+"";if(d(t))return j?j.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var S=function(e){return null==e?"":O(e)};var P=function(e,object){return Object(o.a)(e)?e:m(e,object)?[e]:k(S(e))};var D=function(e){if("string"==typeof e||d(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var K=function(object,path){for(var e=0,t=(path=P(path,object)).length;null!=object&&e<t;)object=object[D(path[e++])];return e&&e==t?object:void 0};t.a=function(object,path,e){var t=null==object?void 0:K(object,path);return void 0===t?e:t}}}]);