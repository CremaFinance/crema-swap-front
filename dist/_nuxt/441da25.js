(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{2235:function(e,t,n){var content=n(2398);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(95).default)("917e4358",content,!0,{sourceMap:!1})},2397:function(e,t,n){"use strict";n(2235)},2398:function(e,t,n){var r=n(94),o=n(703),c=n(1029),d=n(1037),m=n(1033),l=n(1035),f=n(1031),h=n(1028),v=n(1036),y=n(1032),x=n(1034),k=n(1030),w=r(!1),K=o(c),C=o(d),I=o(m),_=o(l),A=o(f),D=o(h),M=o(v),j=o(y),R=o(x),S=o(k);w.push([e.i,".gradient-btn-large[data-v-71674778]{width:100%;height:56px;background:linear-gradient(268deg,#5fe6d0,#596eff 32%,#6950f5 68%,#ad4ff6);box-shadow:0 4px 6px 0 rgba(26,28,31,.5);border-radius:10px;font-size:18px;font-weight:700;border:none;border:1px solid rgba(232,228,255,.5);color:#fff}.gradient-btn-large[data-v-71674778]:hover{background:linear-gradient(268deg,#68f5de,#6c7fff 32%,#7058f8 68%,#ba60ff)}.gradient-btn-large[data-v-71674778]:disabled{border:2px solid rgba(232,228,255,.1);cursor:not-allowed}.gradient-btn-large[data-v-71674778]:disabled,.gradient-btn-large[data-v-71674778]:disabled:hover{background:hsla(0,0%,100%,.1)}.new-gradient-btn-large[data-v-71674778]{width:100%;height:56px;box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:16px;margin-top:20px}.farm-btn-small[data-v-71674778],.new-gradient-btn-large[data-v-71674778]{background:linear-gradient(180deg,#e4e2fe,#2881f2);padding:1px}.farm-btn-small[data-v-71674778]{line-height:1;height:40px;border-radius:6px;border:none}.farm-btn-small div[data-v-71674778]{text-align:center;border-radius:6px;font-size:14px;font-weight:400;color:#fff;background:linear-gradient(268deg,#5fe6d0,#597bff 38%,#9380ff 72%,#e590ff)}.farm-btn-small div[data-v-71674778]:hover{background:linear-gradient(270deg,#93ffed,#84caff 34%,#a291ff 68%,#efb9ff)}.caffeine-pool-container[data-v-71674778]{width:100%;padding-top:20px;position:relative;margin-bottom:40px}.caffeine-pool-container>p[data-v-71674778]{margin:40px 0 20px}.caffeine-banner[data-v-71674778]{height:150px;display:flex;flex-wrap:wrap;align-items:center;background:rgba(0,0,0,.2);border-radius:20px;padding:10px 0}.burn-btn[data-v-71674778]{width:72px;height:24px;background:linear-gradient(233deg,#5fe6d0,#596cff 38%,#9380ff 72%,#e590ff);box-shadow:0 4px 12px 0 rgba(26,28,31,.5);border-radius:6px;margin-left:20px;font-size:12px}.burn-btn[data-v-71674778],.burn-btn[data-v-71674778]:hover{border:1px solid rgba(232,228,255,.5)!important}.burn-btn[data-v-71674778]:hover{background:linear-gradient(268deg,#5fe6d0,#596eff 39%,#533cd7 74%,#ad4ff6)}.caffeine-banner>div[data-v-71674778]{width:100%;display:flex;justify-content:space-between;align-items:center;padding:0 20px}.caffeine-banner-farming[data-v-71674778]{position:absolute;width:100%;height:340px;display:flex;justify-content:center;top:176px}.caffeine-banner-farming>a[data-v-71674778]{display:block;width:100%;position:absolute;text-align:center;top:216px;color:#fff}.caffeine-clue[data-v-71674778]{margin-left:8px}.farm-caffeine-option[data-v-71674778]{width:100%;height:140px;display:flex;justify-content:space-between;margin-top:312px}.farm-caffeine-option .option-Golden[data-v-71674778]{margin-top:46px}.farm-caffeine-option .option-Platinum[data-v-71674778],.farm-caffeine-option .option-Silver[data-v-71674778]{margin-top:33px}.farm-caffeine-option>div[data-v-71674778]{width:60px;height:80px;display:flex;justify-content:center;align-items:center;flex-wrap:wrap;position:relative;z-index:100;color:#b5b8c2}.farm-caffeine-option>div p[data-v-71674778]{width:100%;margin-bottom:0!important;text-align:center}.option-icon[data-v-71674778]{width:20px;height:20px;cursor:pointer}.option-count[data-v-71674778]{width:34px;height:24px;background:rgba(0,0,0,.1);border-radius:8px;display:flex;justify-content:space-around;align-items:center;padding:0 4px}.option-count>div[data-v-71674778]{width:6px;height:6px;border-radius:50%;background:#00ff4d}.option-Bronze>.option-icon[data-v-71674778]{background:url("+K+");background-size:100% 100%}.option-Silver>.option-icon[data-v-71674778]{background:url("+C+");background-size:100% 100%}.option-Golden>.option-icon[data-v-71674778]{background:url("+I+");background-size:100% 100%}.option-Platinum>.option-icon[data-v-71674778]{height:22px!important;background:url("+_+");background-size:100% 100%}.option-Diamond>.option-icon[data-v-71674778]{background:url("+A+");background-size:100% 100%}.Card-Bronze>.option-Bronze[data-v-71674778]{color:#fff!important;font-weight:700}.Card-Bronze>.option-Bronze>.option-icon[data-v-71674778]{background:url("+D+");background-size:100% 100%}.Card-Silver>.option-Silver[data-v-71674778]{color:#fff!important;font-weight:700}.Card-Silver>.option-Silver>.option-icon[data-v-71674778]{background:url("+M+");background-size:100% 100%}.Card-Golden>.option-Golden[data-v-71674778]{color:#fff!important;font-weight:700}.Card-Golden>.option-Golden>.option-icon[data-v-71674778]{background:url("+j+");background-size:100% 100%}.Card-Platinum>.option-Platinum[data-v-71674778]{color:#fff!important;font-weight:700}.Card-Platinum>.option-Platinum>.option-icon[data-v-71674778]{height:22px!important;background:url("+R+");background-size:100% 100%}.Card-Diamond>.option-Diamond[data-v-71674778]{color:#fff!important;font-weight:700}.Card-Diamond>.option-Diamond>.option-icon[data-v-71674778]{background:url("+S+");background-size:100% 100%}.farm-caffeine-key[data-v-71674778]{width:100%;height:330px;display:flex;justify-content:space-around;position:relative}.farm-caffeine-key img.grey[data-v-71674778]{filter:grayscale(100%)}.farm-caffeine-key .card-img[data-v-71674778]{width:240px;position:absolute;left:50%;top:0;transform:translate(-50%)}.farm-caffeine-key>i[data-v-71674778]{display:block;width:14px;height:44px;cursor:pointer;position:absolute;top:30%;transform:translate(-50%,auto)}.farm-caffeine-key>i.card-left-icon[data-v-71674778]{left:0}.farm-caffeine-key>i.card-right-icon[data-v-71674778]{right:0}.farm-caffeine-key>i img[data-v-71674778]{width:100%;height:100%}.farm-caffeine-key .img-text[data-v-71674778]{display:block;width:190px;left:50%;color:#fff;transform:translate(-50%);text-align:center;position:absolute;top:266px}.pmgressbar-hint[data-v-71674778]{min-width:100px;max-width:130px;height:40px;font-size:12px;display:flex;justify-content:center;align-items:center;align-content:flex-start;flex-direction:column;padding:0 10px;border:2px solid #d18945;border-radius:6px}.pmgressbar-hint p[data-v-71674778]{margin:0!important;font-weight:800;background:linear-gradient(283deg,#4cffdf,#6676f5 62%,#c400ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.Bronze[data-v-71674778]{border:2px solid #d18945}.Silver[data-v-71674778]{margin-left:8px;border:2px solid #e3f3ff}.Golden[data-v-71674778]{margin-left:53px;border:2px solid #fbff7c}.Platinum[data-v-71674778]{margin-left:133px;border:2px solid #6efbff}.Diamond[data-v-71674778]{margin-left:180px;border:2px solid #c495ff}.pmgressbar-detail[data-v-71674778]{width:100%;height:28px;margin-top:36px}.pmgressbar-detail>div[data-v-71674778]:first-child{width:100%;height:12px;background:hsla(0,0%,100%,.2) linear-gradient(270deg,#00ff90,#7eadcc 50%,#a057ff);border:2px solid #000;border-radius:7px;position:relative}.pmgressbar-detail>div:first-child>div[data-v-71674778]{position:absolute;width:12px;height:12px;top:-1px;border-radius:5px;border:1px solid #000}.pmgressbar-detail>div:first-child>div[data-v-71674778]:hover{border:2px solid #fff}.pmgressbar-detail>div:first-child>div[data-v-71674778]:first-child{background:#d18945;left:17px}.pmgressbar-detail>div:first-child>div[data-v-71674778]:nth-child(2){background:#e3f3ff;left:48px}.pmgressbar-detail>div:first-child>div[data-v-71674778]:nth-child(3){background:#fbff7c;left:94px}.pmgressbar-detail>div:first-child>div[data-v-71674778]:nth-child(4){background:#6efbff;left:174px}.pmgressbar-detail>div:first-child>div[data-v-71674778]:nth-child(5){background:#c495ff;right:0}.tips-stats[data-v-71674778]{position:relative}.tips-stats .interval[data-v-71674778]{margin:10px auto 0;z-index:50}.tips-stats .caync[data-v-71674778],.tips-stats .interval[data-v-71674778]{display:flex;justify-content:center;align-items:center}.tips-stats .caync[data-v-71674778]{width:100%;position:absolute;top:32px;z-index:60}.tips-stats .caync>div[data-v-71674778]{display:flex;justify-content:center;align-items:center;width:55px;height:55px;border-radius:50%;background:hsla(0,0%,100%,.1)}.tips-stats .caync>div img[data-v-71674778]{width:20px;height:20px}.tips-stats[data-v-71674778] .ant-progress-text{margin-top:46px}.tips-stats .centerMask[data-v-71674778]{margin:0 auto;text-align:center}.tips-stats .centerMask span[data-v-71674778]{font-size:18px;font-weight:700;background:linear-gradient(48deg,#d032ff,#8ab6ff 40%,#4ce1ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-family:Avenir}.pmgressbar-btn[data-v-71674778]{width:100%;height:40px;margin-top:24px;display:flex;justify-content:space-around}.action-btn[data-v-71674778]{width:100%;height:56px;background:linear-gradient(268deg,#5fe6d0,#596eff 32%,#6950f5 68%,#ad4ff6);box-shadow:0 4px 6px 0 rgba(26,28,31,.5);border-radius:10px;font-size:18px;font-weight:700;border:none;border:1px solid rgba(232,228,255,.5);color:#fff;width:130px;height:40px;font-size:14px;font-weight:100}.action-btn[data-v-71674778]:hover{background:linear-gradient(268deg,#68f5de,#6c7fff 32%,#7058f8 68%,#ba60ff)}.action-btn[data-v-71674778]:disabled{border:2px solid rgba(232,228,255,.1);cursor:not-allowed}.action-btn[data-v-71674778]:disabled,.action-btn[data-v-71674778]:disabled:hover{background:hsla(0,0%,100%,.1)}@media screen and (max-width:750px){.pmgressbar-detail[data-v-71674778]{margin-top:12px}}",""]),e.exports=w},2526:function(e,t,n){"use strict";n.r(t);var r=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"caffeine-banner-farming"},[r("img",{attrs:{src:n(1065),alt:""}}),e._v(" "),r("a",{attrs:{target:"_blank",href:"https://medium.com/@Crema.finance/caffeine-farming-event-your-prelaunch-opportunity-to-grab-cremas-token-incentives-706425032a88"}},[e._v("Learn more >")])])}],o=n(33),progress=(n(2061),n(2062)),c=n.n(progress),d=(n(2006),n(2007)),m=n.n(d),l=(n(78),n(48),n(333),n(143),n(164),n(109),n(983),n(98),n(85),n(154),n(34)),f=n(133),h=n(702),v=n(74),y=n(10),x=n(272),k=n(0),w=n(105),K=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function d(e){try{l(r.next(e))}catch(e){c(e)}}function m(e){try{l(r.throw(e))}catch(e){c(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(d,m)}l((r=r.apply(e,t||[])).next())}))},C=l.default.extend({components:{Tooltip:m.a,Progress:c.a},props:{isStaked:{type:String,default:"All"},searchKey:{type:String,default:""},earningsAmount:{type:Number,default:0},caffeineAmount:{type:String,default:"0"},keysObj:{type:Object,default:function(){return null}},countObj:{type:Object,default:function(){return{}}},keysList:{type:Array,default:function(){return[]}}},data:function(){return{showMint:!1,showClaim:!1,showUpgrade:!1,stakeTitle:"Stake",showStake:!1,isShowTableTr:-1,changeNFT:!1,isNotLink:!1,isClaim:!1,changeBtn:"Card-Bronze",farmCard:"Card-Bronze",nftPrice:"300",keyBaseData:{1:{id:1,icon:"Card-Bronze",img:"Brass_Key",name:"option-Bronze",key:"Bronze Key",num:"",minRequireAmount:2e3,upgradeMinAmount:3e3,maxpreReward:1200,rewardX:"2X"},2:{id:2,icon:"Card-Silver",img:"Silver_Key",name:"option-Silver",key:"Silver Key",num:"",minRequireAmount:5e3,upgradeMinAmount:5e3,maxpreReward:4500,rewardX:"3X"},3:{id:3,icon:"Card-Golden",img:"Golden_Key",name:"option-Golden",key:"Golden Key",num:"",minRequireAmount:1e4,upgradeMinAmount:1e4,maxpreReward:12e3,rewardX:"4X"},4:{id:4,icon:"Card-Platinum",img:"Platinum_Key",name:"option-Platinum",key:"Platinum Key",num:"",minRequireAmount:2e4,upgradeMinAmount:15e3,maxpreReward:3e4,rewardX:"5X"},5:{id:5,icon:"Card-Diamond",img:"Diamond_Key",name:"option-Diamond",key:"Diamond Key",num:"",minRequireAmount:35e3,maxpreReward:63e3,rewardX:"6X"}},keyData:[{id:1,icon:"Card-Bronze",img:"Brass_Key",name:"option-Bronze",key:"Bronze Key",num:"",minRequireAmount:2e3,upgradeMinAmount:3e3,maxpreReward:200,rewardX:"2X"},{id:2,icon:"Card-Silver",img:"Silver_Key",name:"option-Silver",key:"Silver Key",num:"",minRequireAmount:5e3,upgradeMinAmount:5e3,maxpreReward:500,rewardX:"3X"},{id:3,icon:"Card-Golden",img:"Golden_Key",name:"option-Golden",key:"Golden Key",num:"",minRequireAmount:1e4,upgradeMinAmount:1e4,maxpreReward:1e3,rewardX:"4X"},{id:4,icon:"Card-Platinum",img:"Platinum_Key",name:"option-Platinum",key:"Platinum Key",num:"",minRequireAmount:2e4,upgradeMinAmount:15e3,maxpreReward:2e3,rewardX:"5X"},{id:5,icon:"Card-Diamond",img:"Diamond_Key",name:"option-Diamond",key:"Diamond Key",num:"",minRequireAmount:35e3,maxpreReward:3e3,rewardX:"6X"}],changeHintData:[{val:"Bronze"},{val:"Silver"},{val:"Golden"},{val:"Platinum"},{val:"Diamond"}],isEewardRangeTab:-1,isdir:"Brass",isMinting:!1,isDisabled:!1,isUpgrading:!1,isClaiming:!1,currentKeyItem:{},openRewardTimestamp:0,farmingEndTimestamp:0,currentCardIndex:0,showBurnModal:!1,upgradeObject:{id:2,icon:"Card-Silver",img:"Silver_Key",name:"option-Silver",key:"Silver Key",num:"",minRequireAmount:5e3,upgradeMinAmount:5e3,maxpreReward:500,rewardX:"3X"}}},computed:Object.assign(Object.assign({},Object(f.e)(["wallet","transaction","url","farming"])),{currentKeyAmount:function(){return this.keysObj&&this.currentKeyItem&&this.keysObj[this.currentKeyItem.id]?this.keysObj[this.currentKeyItem.id].length:0},tipText:function(){if(!this.wallet&&!this.wallet.connected)return"Please connect a wallet. ";if(this.farmingIsEnd){if(this.currentKeyAmount<1)return"Sorry, you don't have ".concat(this.currentKeyItem.key,".");if(this.currentKeyAmount>0&&!this.canClaim&&!this.currentKeyItem.is_crm_claimed)return"You can use your ".concat(this.currentKeyItem.key," to unlock the treasury box soon.");if(this.currentKeyAmount>0&&this.canClaim&&!this.currentKeyItem.is_crm_claimed)return"This key is ready to open the treasure box. Claim your rewards now! "}else{if(this.currentKeyAmount<1&&this.caffeineAmount<this.currentKeyItem.minRequireAmount)return"You need  ".concat(Math.ceil(this.currentKeyItem.minRequireAmount-this.caffeineAmount)," \n            more Caffeine to mint a new ").concat(this.currentKeyItem.key,". ");if(this.currentKeyAmount<1&&this.caffeineAmount>=this.currentKeyItem.minRequireAmount)return"You are eligible to mint a new ".concat(this.currentKeyItem.key,". ");if(5!==this.currentKeyItem.id&&this.currentKeyAmount>0&&this.caffeineAmount<this.currentKeyItem.upgradeMinAmount)return"You need ".concat(Object(w.d)(this.currentKeyItem.upgradeMinAmount-this.caffeineAmount,0)," more Caffeine to upgrade this key. ");if(5!==this.currentKeyItem.id&&this.currentKeyAmount>0&&this.caffeineAmount>=this.currentKeyItem.upgradeMinAmount)return"You are eligible to upgrade this key to a ".concat(this.keyData[this.canUpgradeHeighKeyId-1].key,".");if(this.currentKeyAmount>0&&this.caffeineAmount>=this.currentKeyItem.minRequireAmount&&5===this.currentKeyItem.id)return"You are eligible to mint a new ".concat(this.currentKeyItem.key,". ");if(this.currentKeyAmount>0&&this.caffeineAmount<this.currentKeyItem.minRequireAmount&&5===this.currentKeyItem.id)return"You need  ".concat(Math.ceil(this.currentKeyItem.minRequireAmount-this.caffeineAmount)," \n            more Caffeine to mint a new ").concat(this.currentKeyItem.key,". ")}return""},canMintKeyName:function(){return this.caffeineAmount>=35e3?"Diamond Key":this.caffeineAmount>=2e4?"Platinum Key":this.caffeineAmount>=1e4?"Golden Key":this.caffeineAmount>=5e3?"Silver Key":this.caffeineAmount>=2e3?"Bronze Key":""},canMint:function(){return Number(this.caffeineAmount)>=this.currentKeyItem.minRequireAmount},canUpgrade:function(){return!!(this.currentKeyItem.upgradeMinAmount&&Number(this.caffeineAmount)>=this.currentKeyItem.upgradeMinAmount)},canUpgradeHeighKeyId:function(){if(5===this.currentKeyItem.id)return"";for(var i=4;i>0;){if(Number(this.caffeineAmount)>=this.keyData[i].minRequireAmount-this.currentKeyItem.minRequireAmount)return this.keyData[i].id;i--}return""},isClaimedText:function(){return this.currentKeyItem.is_crm_claimed?"Congratulations, this event the NFT got the rewards":""},farmingIsEnd:function(){if(this.farmingEndTimestamp){var e=parseInt(String((new Date).getTime()/1e3));if(this.farmingEndTimestamp<=e)return!0}return!1},canClaim:function(){if(this.openRewardTimestamp){var e=parseInt(String((new Date).getTime()/1e3));if(this.openRewardTimestamp<=e)return!0}return!1}}),watch:{changeBtn:function(e,t){"Card-Bronze"==e?(this.isClaim=!1,this.isNotLink=!1,this.nftPrice="300",this.isdir="Brass",this.upgradeObject=this.keyData[1]):"Card-Silver"==e?(this.isClaim=!1,this.isNotLink=!1,this.nftPrice="700",this.isdir="Silver",this.upgradeObject=this.keyData[2]):"Card-Golden"==e?(this.isClaim=!1,this.isNotLink=!1,this.nftPrice="1,300",this.isdir="Golden",this.upgradeObject=this.keyData[3]):"Card-Platinum"==e?(this.isClaim=!1,this.isNotLink=!1,this.nftPrice="2,100",this.isdir="Platinum",this.upgradeObject=this.keyData[4]):"Card-Diamond"==e&&(this.isClaim=!1,this.isNotLink=!1,this.nftPrice="3,100",this.isdir="Diamond")},"wallet.connected":{handler:"walletWatch",immediate:!0},keysObj:{handler:"keysObjWatch",immediate:!0},keysList:{handler:"keysListWatch",immediate:!0}},mounted:function(){this.getCanClaimDate(),this.getFarmingDate()},methods:{addCommom:w.a,importIcon:h.a,closeBurnModal:function(){this.showBurnModal=!1},openBurnModal:function(){this.showBurnModal=!0},walletWatch:function(e){e&&(this.$emit("refreshKeysData"),this.$accessor.farming.getEarningsObj())},keysListWatch:function(e){var t=this;if(!Object(w.b)(this.currentKeyItem)){var n,r=e.filter((function(e){return e.mint===t.currentKeyItem.mint&&e.id===t.currentKeyItem.id}))[0];n=r||e.filter((function(e){return e.id===t.currentKeyItem.id}))[0],this.currentKeyItem=n}},keysObjWatch:function(e){null!==e&&!Object(w.b)(e)&&e[1]&&e[1][0]&&Object(w.b)(this.currentKeyItem)?this.currentKeyItem=Object.assign(Object.assign({},e[1][0]),this.keyBaseData[1]):null!==e&&Object(w.b)(e)&&Object(w.b)(this.currentKeyItem)&&(this.currentKeyItem=this.keysList[0])},changeMint:function(){this.showMint=!0},changeClaim:function(){this.showClaim=!0},changeUpgrade:function(){this.showUpgrade=!0},changeIcon:function(e){this.changeBtn=e.icon,this.farmCard=e.icon;for(var i=0;i<this.keysList.length;i++){if(e.mint&&e.mint===this.keysList[i].mint){this.currentKeyItem=this.keysList[i],this.currentCardIndex=i;break}if(!e.mint&&e.id===this.keysList[i].id){this.currentKeyItem=this.keysList[i],this.currentCardIndex=i;break}}},changeImg:function(e){var t;(t="left"===e?this.currentCardIndex-1:this.currentCardIndex+1)<0?t=this.keysList.length-1:t>this.keysList.length-1&&(t=0),this.currentCardIndex=t,this.currentKeyItem=this.keysList[t],this.changeBtn=this.keysList[t].icon},getCanClaimDate:function(){return K(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.h)();case 3:return(t=e.sent)&&t[0]&&(n=t[0].toString()),r=this.$wallet,o=this.$web3,e.next=9,Object(x.a)(o,r,new k.PublicKey(n));case 9:(c=e.sent)&&c.openRewardTimestamp&&(this.openRewardTimestamp=c.openRewardTimestamp.toNumber()),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,this,[[0,13]])})))},getFarmingDate:function(){return K(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$wallet,n=this.$web3,r=new k.PublicKey("Aqz8Zvot5BZht6vuwRHpLmP4M126WaECRmc3cVDWnRtm"),o=new k.PublicKey("GAQbaSD7aFDhkijfAjh2tebxJpm1iJRhWwtrbdNYGTBh"),e.prev=4,e.next=7,Object(x.k)(n,t,r,o);case 7:(c=e.sent)&&c.famineTs&&(this.farmingEndTimestamp=Number(c.famineTs.toString())),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}}),e,this,[[4,11]])})))},toMint:function(){return K(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,c,d,m,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.showMint=!1,this.isMinting=!0,this.isDisabled=!0,t=this.$wallet,n=this.$web3,r=this.currentKeyItem.id,o=Object(x.i)(n,t),c=o.provider.walletKey,Object(y.default)(t.publicKey.toString()==c.toString(),"user is the same to sdk"),this.$accessor.transaction.setTransactionDesc("Mint NFT"),this.$accessor.transaction.setShowWaiting(!0),d="",e.prev=12,e.next=15,o.activity.mintCremaKey({user:t.publicKey,degree:r});case 15:return m=e.sent,l={skipPreflight:!0,preflightCommitment:"confirmed",maxRetries:30,printLogs:!0},e.next=19,m.tx.send(l);case 19:if(f=e.sent,this.$accessor.transaction.setShowWaiting(!1),!f||!f.signature){e.next=30;break}return d=f.signature,"Mint NFT",this.$accessor.transaction.setShowSubmitted(!0),h=this,this.$accessor.transaction.sub({txid:d,description:"Mint NFT",type:"Mint",successCallback:function(){h.isMinting=!1,h.isDisabled=!1,h.$emit("refreshKeysData")},errorCallback:function(){h.isMinting=!1,h.isDisabled=!1}}),e.next=29,f.wait({commitment:"confirmed",useWebsocket:!0,retries:30});case 29:e.sent;case 30:e.next=37;break;case 32:e.prev=32,e.t0=e.catch(12),this.$accessor.transaction.setShowWaiting(!1),this.isMinting=!1,this.isDisabled=!1;case 37:case"end":return e.stop()}}),e,this,[[12,32]])})))},toUpgrade:function(){return K(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,c,d,m,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.keysObj[this.currentKeyItem.id][0].mint){e.next=3;break}return e.abrupt("return");case 3:return this.showUpgrade=!1,this.isUpgrading=!0,this.isDisabled=!0,n=this.$wallet,r=this.$web3,o=Object(x.i)(r,n),c=o.provider.walletKey,Object(y.default)(n.publicKey.toBase58()==c.toBase58(),"user is the same to sdk"),this.$accessor.transaction.setTransactionDesc("Upgrade NFT"),this.$accessor.transaction.setShowWaiting(!0),d="",e.prev=14,e.next=17,o.activity.upgrade({user:n.publicKey,mint:new k.PublicKey(t)});case 17:return m=e.sent,l={skipPreflight:!0,preflightCommitment:"confirmed",maxRetries:30,printLogs:!0},e.next=21,m.send(l);case 21:if(f=e.sent,this.$accessor.transaction.setShowWaiting(!1),!f||!f.signature){e.next=32;break}return d=f.signature,"Upgrade NFT",this.$accessor.transaction.setShowSubmitted(!0),h=this,this.$accessor.transaction.sub({txid:d,description:"Upgrade NFT",type:"Upgrade",successCallback:function(){h.isUpgrading=!1,h.isDisabled=!1,h.$emit("refreshKeysData")},errorCallback:function(){h.isUpgrading=!1,h.isDisabled=!1}}),e.next=31,f.wait({commitment:"confirmed",useWebsocket:!0,retries:30});case 31:e.sent;case 32:e.next=41;break;case 34:e.prev=34,e.t0=e.catch(14),this.$accessor.transaction.setShowWaiting(!1),this.isUpgrading=!1,this.isDisabled=!1,this.$notify.close(d+"loading"),this.$notify.error({key:"Upgrade",message:"Transaction failed",description:""});case 41:case"end":return e.stop()}}),e,this,[[14,34]])})))},toClaim:function(){var e,t,n,r;return K(this,void 0,void 0,regeneratorRuntime.mark((function c(){var d,m,l,f,h,w,K,C,I,_,A,D,M,j,R;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return d=this.keysObj[this.currentKeyItem.id][0].mint,this.isClaiming=!0,this.isDisabled=!0,m=this.$wallet,l=this.$web3,f=Object(x.i)(l,m),h=f.provider.walletKey,Object(y.default)(m.publicKey.toBase58()==h.toBase58(),"user is the same to sdk"),this.$accessor.transaction.setTransactionDesc("Claim NFT"),this.$accessor.transaction.setShowWaiting(!0),w="",c.prev=11,c.next=14,f.activity.claim({user:m.publicKey,mint:new k.PublicKey(d)});case 14:if(!((K=c.sent).ataCreate.instructions.length>0)){c.next=19;break}return c.next=18,K.ataCreate.confirm();case 18:c.sent;case 19:return c.next=21,Object(v.h)(new k.PublicKey(d));case 21:return C=c.sent,I=Object(o.a)(C,2),_=I[0],I[1],c.next=27,f.activity.fetchMetadata(_);case 27:if(null!==(A=c.sent)){c.next=30;break}return c.abrupt("return");case 30:if(A.isCrmClaimed){c.next=36;break}return c.next=33,K.crmClaim.confirm();case 33:D=c.sent,M=v.e.Activity.parseProgramLogEvents(null!==(t=null===(e=D.response.meta)||void 0===e?void 0:e.logMessages)&&void 0!==t?t:[])[0],Object(y.default)("ClaimRewardEvent"===(null==M?void 0:M.name),"ClaimRewardEvent not found");case 36:if(A.isSecondPartyClaimed){c.next=50;break}return c.next=39,K.secondPartyClaim.confirm();case 39:if(j=c.sent,v.e.Activity.parseProgramLogEvents(null!==(r=null===(n=j.response.meta)||void 0===n?void 0:n.logMessages)&&void 0!==r?r:[])[0],!(j&&j.signature&&j.signature.toString())){c.next=50;break}return w=j.signature.toString(),"Claim NFT",R=this,this.$accessor.transaction.setShowSubmitted(!0),this.$accessor.transaction.sub({txid:w,description:"Claim NFT",type:"Claim",successCallback:function(){R.isClaiming=!1,R.isDisabled=!1,R.$accessor.wallet.getTokenAccounts(),R.$emit("refreshKeysData")},errorCallback:function(){R.isClaiming=!1,R.isDisabled=!1}}),c.next=49,j.wait({commitment:"confirmed",useWebsocket:!0,retries:30});case 49:c.sent;case 50:c.next=59;break;case 52:c.prev=52,c.t0=c.catch(11),this.$accessor.transaction.setShowWaiting(!1),this.isClaiming=!1,this.isDisabled=!1,this.$notify.close(w+"loading"),this.$notify.error({key:"Claim",message:"Transaction failed",description:""});case 59:case"end":return c.stop()}}),c,this,[[11,52]])})))},gotoFarming:function(){this.$router.push("/farming")},delcommafy:function(e){if(null!=e)return e=(e=(e=e.toString()).replace(/[ ]/g,"")).replace(/,/gi,""),Number(e)}}}),I=(n(2397),n(101)),component=Object(I.a)(C,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"caffeine-pool-container"},[r("div",{staticClass:"caffeine-banner"},[r("div",[r("span",[e._v("My Caffeine")]),e._v(" "),r("span",[e._v(e._s(e.addCommom(e.caffeineAmount,4)))]),e._v(" "),e._e()],1),e._v(" "),r("div",[r("span",[e._v("Earnings")]),e._v(" "),r("span",[e._v(e._s(e.addCommom(e.earningsAmount,4))+" "),r("span",{staticClass:"caffeine-clue",on:{click:e.gotoFarming}},[e._v("Harvest >")])])])]),e._v(" "),e._m(0),e._v(" "),r("div",{staticClass:"farm-caffeine-option",class:e.changeBtn},e._l(e.keyData,(function(t,n){return r("div",{key:n,class:t.name,on:{click:function(n){return e.changeIcon(t)}}},[r("div",{staticClass:"option-icon"}),e._v(" "),"Golden"===t.key.split(" ")[0]?r("p",[e._v("Gold")]):r("p",[e._v(e._s(t.key.split(" ")[0]))]),e._v(" "),e.countObj&&e.countObj[t.id]?r("div",{staticClass:"option-count"},[e.countObj&&e.countObj[t.id]?r("div"):e._e(),e._v("\n        "+e._s(e.countObj[t.id])+"\n      ")]):e._e()])})),0),e._v(" "),r("div",{staticClass:"farm-caffeine-key"},[r("i",{staticClass:"card-left-icon"},[r("img",{attrs:{src:n(1039),alt:""},on:{click:function(t){return e.changeImg("left")}}})]),e._v(" "),e.currentKeyItem&&e.currentKeyItem.icon?r("img",{staticClass:"card-img",attrs:{src:e.currentKeyItem.mint?"/images/"+e.currentKeyItem.icon+".png":"/images/icon-"+e.currentKeyItem.icon+".png",alt:""}}):e._e(),e._v(" "),r("i",{staticClass:"card-right-icon"},[r("img",{attrs:{src:n(1040),alt:""},on:{click:function(t){return e.changeImg("right")}}})]),e._v(" "),e.wallet.connected&&e.currentKeyItem&&e.currentKeyItem.mint?r("a",{staticClass:"img-text",attrs:{target:"_blank",href:"https://solscan.io/token/"+e.currentKeyItem.mint+"?cluster=devnet"}},[e._v("\n      "+e._s(e.currentKeyItem.mint&&e.currentKeyItem.mint.substr(0,4))+"\n      ...\n      "+e._s(e.currentKeyItem.mint&&e.currentKeyItem.mint.substr(e.currentKeyItem.mint.length-4,4))+"\n    ")]):e._e()]),e._v(" "),r("p",[e._v(e._s(e.tipText||e.isClaimedText))]),e._v(" "),!e.wallet.connected||e.farmingIsEnd||e.currentKeyItem.is_crm_claimed?e._e():r("div",{staticClass:"tips-stats"},[r("div",{staticClass:"caync"},[r("div",[r("img",{attrs:{src:"/images/icon-"+e.isdir+"-Key-bright.png",alt:""}})])]),e._v(" "),r("Progress",{staticClass:"interval",attrs:{percent:Math.ceil(e.delcommafy(e.addCommom(e.caffeineAmount,0))/e.delcommafy(e.addCommom(e.currentKeyItem.minRequireAmount,0))*100),success:{percent:30},type:"dashboard",trailColor:"#527983","stroke-color":{"0%":"#00EC86","50%":"#3489C1","100%":"#7318E3"}}}),e._v(" "),r("div",{staticClass:"centerMask"},[r("span",[e._v(e._s(e.addCommom(e.caffeineAmount,0))+" ")]),e._v(" / "+e._s(e.addCommom(e.currentKeyItem.minRequireAmount,0))+"\n    ")])],1),e._v(" "),r("div",{staticClass:"pmgressbar-btn"},[!e.wallet.connected||e.farmingIsEnd||e.currentKeyItem.is_crm_claimed?e._e():r("Button",{staticClass:"action-btn",attrs:{disabled:!e.canMint},on:{click:e.changeMint}},[e._v("\n      Mint\n    ")]),e._v(" "),e.wallet.connected&&!e.farmingIsEnd&&5!==e.currentKeyItem.id&&e.currentKeyItem.mint&&!e.currentKeyItem.is_crm_claimed&&e.canUpgrade?r("Button",{staticClass:"action-btn",on:{click:e.changeUpgrade}},[e._v("\n      Upgrade\n    ")]):e._e()],1),e._v(" "),e.showMint?r("DMintNFTPopout",{attrs:{currentKeyItem:e.currentKeyItem,isMinting:e.isMinting},on:{onClose:function(){return e.showMint=!1},toMint:e.toMint}}):e._e(),e._v(" "),e.showUpgrade?r("DUpgradeNFTPopout",{attrs:{currentKeyItem:e.currentKeyItem,isUpgrading:e.isUpgrading,canUpgradeHeighKeyItem:e.keyData[e.canUpgradeHeighKeyId-1],upgradeObject:e.upgradeObject},on:{onClose:function(){return e.showUpgrade=!1},toUpgrade:e.toUpgrade}}):e._e(),e._v(" "),e.showBurnModal?r("BurnCaffeineModal",{on:{onClose:e.closeBurnModal}}):e._e()],1)}),r,!1,null,"71674778",null);t.default=component.exports;installComponents(component,{DMintNFTPopout:n(2165).default,DUpgradeNFTPopout:n(2166).default,BurnCaffeineModal:n(2167).default})}}]);