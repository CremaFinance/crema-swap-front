import{_ as S}from"./coin-pair-name.ed7f5833.js";import{v as e,A as N,c as V,b as $,F as L,i as b,y as B,C,S as g,B as w,L as A,e as D}from"../server.mjs";import{_ as E}from"./_plugin-vue_export-helper.a1a6add7.js";import{_ as R}from"./img-no-Positions_2x.bdc16a17.js";import"#internal/nitro";const T=e.defineComponent({props:{pItem:{type:Object,required:!0}},setup(t){const o=e.h(N,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),i=V.exports.useRouter(),a=$(),c=e.computed(()=>a);function d(){i.push(`/pools-management-remove?from=${t.pItem.coinA.symbol}&to=${t.pItem.coinB.symbol}`)}function l(){i.push(`/pools-liquidity-add?from=${t.pItem.coinA.symbol}&to=${t.pItem.coinB.symbol}`)}function s(n){const r=n.balance,p=C(r).div(Math.pow(10,n.decimals)).toString();return B(p,n.decimals)}return{indicator:o,thousands:L,importIcon:b,router:i,toRemove:d,toAdd:l,wallet:c,addCommom:B,getLpView:s}}});const I=t=>(e.pushScopeId("data-v-c9a6f767"),t=t(),e.popScopeId(),t),U={class:"pools-position-item"},q={class:"card-header"},P={class:"induction"},j={class:"item"},z=I(()=>e.createElementVNode("div",{class:"induction-text"},"Total Liquidity",-1)),K={key:0,class:"induction-value"},M={class:"card-content"},O={key:0,class:"content-top"},F={class:"top"},W=I(()=>e.createElementVNode("div",{class:"text"},"Your Pool Tokens",-1)),Y={class:"value"},Z=e.createTextVNode(" \xA0\xA0 "),G={key:0},H={class:"bottom"},J={class:"btn-box"},Q=e.createTextVNode("Remove"),X=e.createTextVNode("Add"),x=e.createTextVNode(" Add liquidity ");function ee(t,o,i,a,c,d){const l=S,s=g,n=w;return e.openBlock(),e.createElementBlock("div",U,[e.createElementVNode("div",q,[e.createVNode(l,{"from-coin":t.pItem.coinA,"to-coin":t.pItem.coinB},null,8,["from-coin","to-coin"])]),e.createElementVNode("div",P,[e.createElementVNode("div",j,[z,t.pItem.totalLpUSD?(e.openBlock(),e.createElementBlock("div",K,e.toDisplayString(t.pItem.totalLpUSD&&`$ ${t.addCommom(t.pItem.totalLpUSD,2)}`),1)):(e.openBlock(),e.createBlock(s,{key:1,indicator:t.indicator},null,8,["indicator"]))])]),e.createElementVNode("div",M,[t.pItem&&Number(t.pItem.balance)&&t.wallet.connected?(e.openBlock(),e.createElementBlock("div",O,[e.createElementVNode("div",F,[W,e.createElementVNode("div",Y,[e.createElementVNode("p",null,e.toDisplayString(t.getLpView(t.pItem)),1),Z,t.pItem.myBalanceUSD?(e.openBlock(),e.createElementBlock("span",G,"~ $"+e.toDisplayString(t.addCommom(t.pItem.myBalanceUSD,2)),1)):e.createCommentVNode("",!0)])]),e.createElementVNode("div",H,[e.createElementVNode("div",J,[e.createVNode(n,{class:"cancel-btn",onClick:t.toRemove},{default:e.withCtx(()=>[Q]),_:1},8,["onClick"]),e.createVNode(n,{class:"confirm-btn",onClick:t.toAdd},{default:e.withCtx(()=>[X]),_:1},8,["onClick"])])])])):(e.openBlock(),e.createBlock(n,{key:1,class:"add-big-btn",onClick:o[0]||(o[0]=r=>t.router.push(`/pools-liquidity-add?from=${t.pItem.coinA.symbol}&to=${t.pItem.coinB.symbol}`))},{default:e.withCtx(()=>[x]),_:1}))])])}const te=E(T,[["render",ee],["__scopeId","data-v-c9a6f767"]]),oe=e.defineComponent({setup(){const t=e.h(N,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),o=V.exports.useRouter(),i=e.ref(!1),a=e.ref(!1),c=e.ref(null),d=e.ref(0),l=e.ref(Object.values(A)),s=()=>{a.value=!0,setTimeout(()=>{a.value=!1},1e3)},n=$(),r=D(),p=e.computed(()=>n),m=e.computed(()=>r);e.watch(c,h=>{f(c.value)});const f=h=>{if(m.value.myLplist.length>0){const u=m.value.myLplist.sort((y,k)=>k.totalLpUSD-y.totalLpUSD),v=u.reduce((y,k)=>y+Number(k.totalLpUSD||0),0);d.value=v,l.value=u}if(h){const u=l.value.filter(v=>v.symbol.toLowerCase().includes(h.toLowerCase()));l.value=u}};return e.watchEffect(async()=>{p.value.address?r.setMyLplist(p.value.address):r.setMyLplist("")}),e.watchEffect(()=>{m.value.myLplist.length>0&&f(c.value)}),{indicator:t,wallet:p,list:l,loading:i,clickRefresh:s,refresh:a,router:o,liquidity:m,searchKey:c,updateLpList:f,totalTVL:d,addCommom:B}}});const _=t=>(e.pushScopeId("data-v-f34d5a29"),t=t(),e.popScopeId(),t),se={class:"pools-position-list-container"},ne={class:"position-title"},le=_(()=>e.createElementVNode("div",null," Pools ",-1)),ce=_(()=>e.createElementVNode("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),ie=[ce],ae={class:"search-input"},de={key:0,class:"position-list"},re={key:1,class:"no-data"},pe=_(()=>e.createElementVNode("img",{src:R,alt:""},null,-1)),me=_(()=>e.createElementVNode("span",null,"No pools found",-1)),ue=[pe,me];function _e(t,o,i,a,c,d){const l=te;return e.openBlock(),e.createElementBlock("div",se,[e.createElementVNode("div",ne,[le,(e.openBlock(),e.createElementBlock("svg",{"aria-hidden":"true",class:e.normalizeClass(t.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[0]||(o[0]=(...s)=>t.clickRefresh&&t.clickRefresh(...s))},ie,2))]),e.createElementVNode("div",ae,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>t.searchKey=s),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:"Filter by symbol"},null,512),[[e.vModelText,t.searchKey]]),e.createElementVNode("div",{class:"search-icon",onClick:o[2]||(o[2]=s=>t.updateLpList(t.searchKey))})]),t.list&&t.list.length>0?(e.openBlock(),e.createElementBlock("div",de,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,(s,n)=>(e.openBlock(),e.createBlock(l,{key:n,"p-item":s},null,8,["p-item"]))),128))])):e.createCommentVNode("",!0),t.list&&t.list.length<=0?(e.openBlock(),e.createElementBlock("div",re,ue)):e.createCommentVNode("",!0)])}const Be=E(oe,[["render",_e],["__scopeId","data-v-f34d5a29"]]);export{Be as default};
