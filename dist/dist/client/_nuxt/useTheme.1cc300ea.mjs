import{ae as U,af as Q,X as v,e as S,b as k,ad as Y,f as W,r as b,ag as F,a7 as M}from"./entry.c597b80b.mjs";import{S as K}from"./index.afdc94b2.mjs";class g extends Error{constructor(n,t){super(n),this.error=t}}class d extends g{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class z extends g{constructor(){super(...arguments),this.name="WalletConnectionError"}}class I extends g{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class l extends g{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class j extends g{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class w extends g{constructor(){super(...arguments),this.name="WalletSignAndSubmitMessageError"}}class T extends g{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}var o=(r=>(r.Installed="Installed",r.NotDetected="NotDetected",r.Loadable="Loadable",r.Unsupported="Unsupported",r))(o||{});class h extends U{get connected(){return!!this.publicAccount.publicKey}}function A(r){if(typeof window>"u"||typeof document>"u")return;const n=[];function t(){if(r())for(const i of n)i()}const e=setInterval(t,1e3);n.push(()=>clearInterval(e)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",t,{once:!0}),n.push(()=>document.removeEventListener("DOMContentLoaded",t))),document.readyState!=="complete"&&(window.addEventListener("load",t,{once:!0}),n.push(()=>window.removeEventListener("load",t))),t()}const H="Petra";class P extends h{constructor({timeout:n=1e4}={}){super(),this.name=H,this.url="https://chrome.google.com/webstore/detail/petra-aptos-wallet/ejjladinnckdgjemekebdpeokbikhfci",this.icon="https://miro.medium.com/fit/c/176/176/1*Gf747eyRywU8Img0tK5wvw.png",this._readyState=typeof window>"u"||typeof document>"u"?o.Unsupported:o.NotDetected,this._provider=typeof window<"u"?window.aptos:void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==o.Unsupported&&A(()=>window.aptos?(this._readyState=o.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var n,t,e;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((t=this._wallet)==null?void 0:t.address)||null,authKey:((e=this._wallet)==null?void 0:e.authKey)||null}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){var n;try{if(this.connected||this.connecting)return;if(!(this._readyState===o.Loadable||this._readyState===o.Installed))throw new d;this._connecting=!0;const t=this._provider||window.aptos;await((n=this._provider)==null?void 0:n.isConnected())===!0&&await(t==null?void 0:t.disconnect());const a=await(t==null?void 0:t.connect());this._wallet={address:a==null?void 0:a.address,publicKey:a==null?void 0:a.publicKey,isConnected:!0},this.emit("connect",this._wallet.publicKey)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const n=this._wallet,t=this._provider||window.aptos;if(n){this._wallet=null;try{await(t==null?void 0:t.disconnect())}catch(e){this.emit("error",new I(e==null?void 0:e.message,e))}}this.emit("disconnect")}async signTransaction(n,t){try{const e=this._wallet,a=this._provider||window.aptos;if(!e||!a)throw new l;const i=await a.signTransaction(n,t);if(i.code)throw new Error(i.message);return i}catch(e){const a=e.message;throw this.emit("error",new T(a)),e}}async signAndSubmitTransaction(n,t={max_gas_amount:"5000",gas_unit_price:"100"}){try{const e=this._wallet,a=this._provider||window.aptos;if(!e||!a)throw new l;const i=await a.signAndSubmitTransaction(n,t);if(i.code)throw new Error(i.message);return i}catch(e){const a=e.message;throw this.emit("error",new w(a)),e}}async signMessage(n){try{const t=this._wallet,e=this._provider||window.aptos;if(!t||!e)throw new l;const a=await(e==null?void 0:e.signMessage(n));if(a!=null&&a.signature)return a.signature;throw new Error("Sign Message failed")}catch(t){const e=t.message;throw this.emit("error",new j(e)),t}}}const R="Hippo";class B extends h{constructor({timeout:n=1e4}={}){super(),this.name=R,this.url="https://github.com/hippospace/hippo-wallet",this.icon="https://ui-test1-22e7c.web.app/static/media/hippo_logo.ecded6bf411652de9b7f.png",this._readyState=typeof window>"u"||typeof document>"u"?o.Unsupported:o.NotDetected,this._provider=typeof window<"u"?window.hippoWallet:void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==o.Unsupported&&A(()=>window.hippoWallet?(this._readyState=o.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var n,t,e;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((t=this._wallet)==null?void 0:t.address)||null,authKey:((e=this._wallet)==null?void 0:e.authKey)||null}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(!(this._readyState===o.Loadable||this._readyState===o.Installed))throw new d;this._connecting=!0;const n=this._provider||window.hippoWallet,t=await(n==null?void 0:n.connect());this._wallet={...t,isConnected:!0},this.emit("connect",this._wallet.publicKey)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){if(this._wallet){this._wallet=null;try{const t=this._provider||window.hippoWallet;await(t==null?void 0:t.disconnect())}catch(t){this.emit("error",new I(t==null?void 0:t.message,t))}}this.emit("disconnect")}async signTransaction(n){try{if(!this._wallet)throw new l;try{const e=this._provider||window.hippoWallet,a=await(e==null?void 0:e.signTransaction(n));if(a)return a;throw new Error("Transaction failed")}catch(e){throw new T(e==null?void 0:e.message,e)}}catch(t){throw this.emit("error",t),t}}async signAndSubmitTransaction(n){try{if(!this._wallet)throw new l;try{const e=this._provider||window.hippoWallet,a=await(e==null?void 0:e.signAndSubmitTransaction(n));if(a)return a.detail.hash;throw new Error("Transaction failed")}catch(e){throw new w(e.message||e)}}catch(t){throw this.emit("error",t),t}}async signMessage(n){try{const t=this._wallet,e=this._provider||window.hippoWallet;if(!t||!e)throw new l;const a=await(e==null?void 0:e.signMessage(n));if(a)return a;throw new Error("Sign Message failed")}catch(t){const e=t.message;throw this.emit("error",new j(e)),t}}}const f="https://hippo-wallet-test.web.app",Z="Hippo Web";class G extends h{constructor({timeout:n=1e4}={}){super(),this.name=Z,this.url="https://hippo-wallet-test.web.app",this.icon="https://ui-test1-22e7c.web.app/static/media/hippo_logo.ecded6bf411652de9b7f.png",this._readyState=o.Installed,this.handleMessage=t=>{var e;t.origin===this._provider&&(t.data.method==="account"?(this._wallet={connected:!0,publicKey:t.data.publicKey||null,address:t.data.address||null,authKey:t.data.authKey||null},this.emit("connect",this._wallet)):t.data.method==="success"?this.emit("success",(e=t.data.detail)==null?void 0:e.hash):t.data.method==="fail"?this.emit("error",new w(t.data.error)):t.data.method==="disconnected"&&this.disconnect())},this._beforeUnload=()=>{this.disconnect()},this._provider=f,this._timeout=n,this._connecting=!1,this._wallet=null,this._readyState=o.Installed}get publicAccount(){var n,t,e;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((t=this._wallet)==null?void 0:t.address)||null,authKey:((e=this._wallet)==null?void 0:e.authKey)||null}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.connected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(!(this._readyState===o.Loadable||this._readyState===o.Installed))throw new d;this._connecting=!0,window.addEventListener("message",this.handleMessage),window.addEventListener("beforeunload",this._beforeUnload)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){window.removeEventListener("message",this.handleMessage),window.removeEventListener("beforeunload",this._beforeUnload),this._wallet=null,this.emit("disconnect")}async signTransaction(n){try{const t=new URLSearchParams({request:JSON.stringify({method:"signTransaction",payload:n}),origin:window.location.origin,isPopUp:"true"}).toString();if(!window.open(`${f}?${t}`,"Transaction Confirmation","scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=440,height=700"))throw new l;return await new Promise((i,c)=>{this.once("success",i),this.once("error",c)})}catch(t){throw this.emit("error",t),t}}async signAndSubmitTransaction(n){try{const t=new URLSearchParams({request:JSON.stringify({method:"signAndSubmit",payload:n}),origin:window.location.origin}).toString();if(!window.open(`${f}?${t}`,"Transaction Confirmation","scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=440,height=700"))throw new l;return await new Promise((i,c)=>{this.once("success",i),this.once("error",c)})}catch(t){throw this.emit("error",t),t}}async signMessage(n){try{const t=new URLSearchParams({request:JSON.stringify({method:"signMessage",payload:n}),origin:window.location.origin}).toString();if(!window.open(`${f}?${t}`,"Transaction Confirmation","scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=440,height=700"))throw new l;return await new Promise((i,c)=>{this.once("success",i),this.once("error",c)})}catch(t){throw this.emit("error",t),t}}}const J="Martian";class V extends h{constructor({timeout:n=1e4}={}){super(),this.name=J,this.url="https://chrome.google.com/webstore/detail/martian-wallet/efbglgofoippbgcjepnhiblaibcnclgk",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzUyIiBoZWlnaHQ9IjM1MiIgdmlld0JveD0iMCAwIDM1MiAzNTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzNTIiIGhlaWdodD0iMzUyIiByeD0iODciIGZpbGw9IiMxRjFGMUYiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNjkuNzAxIDg5LjA4NDFDMTU5LjUwOCA4OS44MzA5IDE1MC41NDcgOTIuMDAxNCAxNDEuMDc2IDk2LjAxNjlDMTM5LjQyNCA5Ni43MTc0IDEzMy43MDIgOTkuNjAzNyAxMzIuMTE2IDEwMC41MzdDMTI4LjEzMSAxMDIuODgxIDEyMy4wNDMgMTA2LjQ5NiAxMTkuNTg2IDEwOS40NEMxMTYuOTc1IDExMS42NjUgMTExLjIxNiAxMTcuNDUyIDEwOS4yMDIgMTE5Ljg3NkMxMDUuMDg1IDEyNC44MzIgMTAxLjA4OCAxMzAuODg2IDk4LjQzODQgMTM2LjE3OUM5Ny45OTQyIDEzNy4wNjYgOTcuNTYzNSAxMzcuODE3IDk3LjQ4MTMgMTM3Ljg0OEM5Ny4zOTkzIDEzNy44OCA5Ny4zMzIgMTM3Ljk5NSA5Ny4zMzIgMTM4LjEwNUM5Ny4zMzIgMTM4LjIxNCA5Ni43Njg1IDEzOS42MDggOTYuMDc5NiAxNDEuMkM5NC42OTc1IDE0NC4zOTYgOTIuOTE3NiAxNDkuNDk2IDkxLjk5MjUgMTUyLjkwOUM4OS42MjY3IDE2MS42NCA4OC41NDA3IDE3Mi40OTUgODkuMTgxMSAxODEuMDExQzkwLjM4ODggMTk3LjA3MSA5NS4xODY2IDIxMS4xMiAxMDMuODUzIDIyMy45NzVDMTEwLjE0NyAyMzMuMzExIDExOC4zMzYgMjQxLjQxMyAxMjcuOTk1IDI0Ny44NjFDMTM4LjkzNiAyNTUuMTYzIDE1MS45NzEgMjU5LjkxIDE2NS41MzIgMjYxLjUyOUMxNjkuMjQ3IDI2MS45NzIgMTc3LjczMSAyNjIuMTQ2IDE4MS43NjIgMjYxLjg2MUMxOTguMDkzIDI2MC43MDYgMjEzLjYxNiAyNTQuOTk0IDIyNi43OCAyNDUuMjk3QzI0NC4wODIgMjMyLjU1MiAyNTYuMDc2IDIxMy43OTcgMjYwLjMzMiAxOTIuODM0QzI2MS42MDEgMTg2LjU4MiAyNjIuMDA2IDE4Mi4zNTUgMjYyIDE3NS40MDdDMjYxLjk5NiAxNzAuMzM3IDI2MS45NDYgMTY5LjI5NSAyNjEuNTQxIDE2NS44MjlDMjU5LjcwNSAxNTAuMTQyIDI1NC4wNTkgMTM1Ljg4OCAyNDQuNzgzIDEyMy41MjdDMjM4LjkwMyAxMTUuNjg5IDIzMC45OTIgMTA4LjI0OCAyMjMuMDk4IDEwMy4xMjlDMjE4LjQ4NSAxMDAuMTM2IDIxNi4xNzggOTguODU1NSAyMTEuNjYxIDk2Ljc3NzRDMjAyLjMzOCA5Mi40ODc5IDE5Mi4zNzYgODkuOTA5MSAxODIuMTg3IDg5LjE0NzlDMTgwLjA0MiA4OC45ODc2IDE3MS42MDYgODguOTQ0NSAxNjkuNzAxIDg5LjA4NDFaTTE4My4wMjUgMTAzLjY1N0MxODkuNTAzIDEwNC4zNDggMTk2LjI4NCAxMDYuMDM0IDIwMi4zNiAxMDguNDY0TDIwNC4zNTYgMTA5LjI2MkwyMDQuMzU2IDExMC44MjJDMjA0LjM1NyAxMTYuODk2IDIwMC4zNDQgMTIyLjMwNyAxOTQuMzMzIDEyNC4zMzRMMTkyLjcyIDEyNC44NzhMMTczLjUyMyAxMjQuOTg3QzE1NS4yODkgMTI1LjA5IDE1MS45OTQgMTI1LjE3NSAxNDcuNjE2IDEyNS42NTdDMTM3LjY3NiAxMjYuNzUyIDEyOS44NzIgMTI4LjI2NSAxMjEuMzAyIDEzMC43NjFDMTIwLjA1IDEzMS4xMjUgMTE4LjkxNyAxMzEuNDI0IDExOC43ODUgMTMxLjQyNEMxMTguNDY0IDEzMS40MjQgMTE4LjkwOSAxMzAuNzkxIDEyMC43NTIgMTI4LjYyMkMxMjQuNDgzIDEyNC4yMzMgMTMwLjczMiAxMTguNTk4IDEzNC43MDYgMTE2LjA0MUMxMzUuMTI2IDExNS43NyAxMzUuNTA4IDExNS41MDkgMTM1LjU1NSAxMTUuNDZDMTM1LjYwMiAxMTUuNDExIDEzNi4yNTEgMTE0Ljk3OSAxMzYuOTk5IDExNC41MDFDMTQyLjI2MyAxMTEuMTMxIDE0OC4wMzYgMTA4LjQ0MSAxNTQuMDcyIDEwNi41NDNDMTU5LjY1OCAxMDQuNzg3IDE2NC44MTQgMTAzLjg3MiAxNzIuMTY0IDEwMy4zMzFDMTczLjg3NCAxMDMuMjA2IDE4MC43MjMgMTAzLjQxMSAxODMuMDI1IDEwMy42NTdaTTIxOS4xMzMgMTE4LjAyMkMyMjIuNzUxIDEyMC43NzkgMjI5LjQ5OSAxMjcuMTM2IDIyOS40OTkgMTI3Ljc4N0MyMjkuNDk5IDEyOC42MDYgMjI2Ljc1IDEzMy40OTMgMjI0Ljc4NCAxMzYuMTY4QzIxOC4wMzIgMTQ1LjM1NSAyMDcuOTIxIDE1MS41NTYgMTk2Ljc5NyAxNTMuMzMyQzE5My45NDUgMTUzLjc4OCAxOTEuOTk0IDE1My44MzUgMTc1LjczMiAxNTMuODQ1QzE1NS4zOTYgMTUzLjg1NyAxNTIuNTc3IDE1My45NjYgMTQ1LjA2OCAxNTUuMDI4QzEzMS4xNjkgMTU2Ljk5NCAxMTguMDA0IDE2MS4zODUgMTA1Ljc3IDE2OC4xMzdDMTA0Ljc1NyAxNjguNjk1IDEwMy44ODUgMTY5LjEwOCAxMDMuODMxIDE2OS4wNTRDMTAzLjY1IDE2OC44NzMgMTA0LjMxMyAxNjMuOTY5IDEwNC44OTUgMTYxLjE4MkMxMDUuNTE0IDE1OC4yMTggMTA2LjU0MiAxNTQuNDE0IDEwNy4zMTEgMTUyLjI0N0wxMDcuNzg2IDE1MC45MDlMMTA5LjQ4MSAxNTAuMTU2QzEyMC45OTQgMTQ1LjA0MiAxMzQuODA4IDE0MS4zODIgMTQ3LjQ0NyAxNDAuMDk3QzE1NC4yNTggMTM5LjQwNSAxNTUuMTY2IDEzOS4zNzggMTczLjk0OCAxMzkuMzA0QzE4NC45MTIgMTM5LjI2MSAxOTMuMTE2IDEzOS4xNiAxOTMuOTMgMTM5LjA2QzE5NS4yOCAxMzguODkyIDE5Ny44NDYgMTM4LjI4NyAxOTkuNDEgMTM3Ljc2NkMxOTkuODQxIDEzNy42MjIgMjAxLjE4OCAxMzcuMDI1IDIwMi40MDMgMTM2LjQzOUMyMDkuNTU2IDEzMi45ODcgMjE0LjkxIDEyNi43OTggMjE3LjM1OCAxMTkuMTU0QzIxNy43OTIgMTE3Ljc5OCAyMTguMDU3IDExNy4yMDQgMjE4LjE4NCAxMTcuM0MyMTguMjg3IDExNy4zNzggMjE4LjcxNCAxMTcuNzAzIDIxOS4xMzMgMTE4LjAyMlpNMjM5LjM5OSAxNDEuODI1QzI0MC42NzggMTQ0LjAyMyAyNDIuODA1IDE0OS4xNjMgMjQ0LjA5MSAxNTMuMTZDMjQ1LjE0MSAxNTYuNDI2IDI0NS4yMTggMTU2LjgxOCAyNDQuODk5IDE1Ny4zMDVDMjQ0LjQ1MyAxNTcuOTg1IDIzOC45OTEgMTYzLjUxMSAyMzcuMzc3IDE2NC45MTZDMjI5LjUxNCAxNzEuNzU2IDIyMC4yNTIgMTc2Ljg4MiAyMTAuNTc1IDE3OS43NUMyMDUuNzczIDE4MS4xNzMgMjAxLjM0NCAxODIuMDAxIDE5NS42MjMgMTgyLjU0NkMxOTQuNjk4IDE4Mi42MzQgMTg1Ljk0NSAxODIuNzE2IDE3Ni4xNzIgMTgyLjcyOUMxNTUuMDkgMTgyLjc1NSAxNTMuODA5IDE4Mi44MTEgMTQ2LjU5NyAxODQuMDAxQzEzMy44MDkgMTg2LjExMiAxMjAuNjg1IDE5MS43MDYgMTEwLjA5NCAxOTkuNTZDMTA5LjIwNSAyMDAuMjE5IDEwOC4zNjggMjAwLjc2NyAxMDguMjM1IDIwMC43NzdDMTA3Ljk1NCAyMDAuNzk4IDEwNy4zODIgMTk5LjIxOCAxMDYuMjQ0IDE5NS4yNzZDMTA1LjQyOSAxOTIuNDUyIDEwNC4yNDggMTg2LjgxNCAxMDQuMzMxIDE4Ni4xNEMxMDQuMzcxIDE4NS44MTkgMTA0Ljg5NyAxODUuNDAxIDEwNi43NiAxODQuMjExQzExNy42NTkgMTc3LjI0NiAxMjkuNDk5IDE3Mi40ODcgMTQxLjkyNSAxNzAuMDc1QzE0NS4zODMgMTY5LjQwNCAxNDUuOTMxIDE2OS4zMjIgMTQ5Ljk5NSAxNjguODY1QzE1NSAxNjguMzAyIDE1Ni42NjQgMTY4LjI2MSAxNzcuMDA2IDE2OC4yMDVDMTk1LjY3MiAxNjguMTUzIDE5NS44ODMgMTY4LjE0NCAyMDAuODc0IDE2Ny4xNzRDMjA4LjYzNiAxNjUuNjY3IDIxNi4yMDcgMTYyLjQ3MyAyMjIuNjI4IDE1Ny45OThDMjI4LjUzMyAxNTMuODgyIDIzNC40MDMgMTQ3Ljg5MiAyMzcuOTcgMTQyLjM0QzIzOC40MDMgMTQxLjY2NiAyMzguODA3IDE0MS4xMTIgMjM4Ljg2OCAxNDEuMTA5QzIzOC45MjkgMTQxLjEwNiAyMzkuMTY4IDE0MS40MjggMjM5LjM5OSAxNDEuODI1Wk0yNDcuNjc1IDE3Ni44MDhDMjQ3LjY3MiAxODEuNTQ5IDI0Ni43NTUgMTg4LjE3NyAyNDUuMzU5IDE5My41MzNDMjQ0Ljk1NyAxOTUuMDc3IDI0NC44NDcgMTk1LjMwOCAyNDQuMzggMTk1LjU5QzI0NC4wOSAxOTUuNzY2IDI0My4zMTggMTk2LjIzOCAyNDIuNjY0IDE5Ni42NDFDMjMwLjUzNCAyMDQuMTA4IDIxNi40MTUgMjA5LjEzNyAyMDMuMTIxIDIxMC43MjVDMjAxLjUxMSAyMTAuOTE3IDE5OS41NDQgMjExLjE2MyAxOTguNzUgMjExLjI3MUMxOTcuNzcgMjExLjQwNCAxOTAuNzU0IDIxMS41MDcgMTc2LjkyMSAyMTEuNTkxQzE2NS43MDkgMjExLjY1OCAxNTYuMzA2IDIxMS43NTYgMTU2LjAyNSAyMTEuODA3QzE1NS43NDUgMjExLjg1OSAxNTQuNzkgMjExLjk4OSAxNTMuOTAyIDIxMi4wOTdDMTQzLjc3MiAyMTMuMzI1IDEzMy4yMDggMjE3Ljg1OSAxMjUuMTU2IDIyNC40MzRDMTI0LjQzNiAyMjUuMDIyIDEyMy43NzIgMjI1LjUwMyAxMjMuNjggMjI1LjUwM0MxMjMuMTkxIDIyNS41MDMgMTE4LjA5MiAyMTkuMjc5IDExNS44OSAyMTUuOTk0QzExNC45NDQgMjE0LjU4MiAxMTQuNzM2IDIxNC4xNjEgMTE0Ljg5IDIxMy45NzJDMTE1LjIyNyAyMTMuNTU4IDExOS40MjggMjEwLjM5MSAxMjEuMiAyMDkuMjE1QzEyNy40NDEgMjA1LjA3NCAxMzQuMTA1IDIwMS45NjQgMTQwLjk5MSAxOTkuOThDMTQ1LjAwMyAxOTguODI0IDE0Ny45NDkgMTk4LjIyNyAxNTMuMDM3IDE5Ny41NDJDMTU1LjMzMiAxOTcuMjMzIDE1OC42NjcgMTk3LjE3NSAxODAuMTQ4IDE5Ny4wNzJDMTk1Ljg1OCAxOTYuOTk2IDE5Ny4xMiAxOTYuOTQ2IDIwMi4zMTggMTk2LjE5N0MyMTQuNzAxIDE5NC40MTIgMjI2LjYyNyAxODkuODU3IDIzNy4zOTggMTgyLjc5N0MyMzkuNTQ4IDE4MS4zODggMjQzLjcxMiAxNzguMjU2IDI0NS43MjIgMTc2LjUzNUMyNDYuNjU2IDE3NS43MzUgMjQ3LjQ3OCAxNzUuMDc4IDI0Ny41NDggMTc1LjA3NEMyNDcuNjE4IDE3NS4wNyAyNDcuNjc1IDE3NS44NSAyNDcuNjc1IDE3Ni44MDhaTTIzNC40MjUgMjE3LjEyOUMyMzQuNDI1IDIxNy4yOTQgMjMyLjIxOCAyMjAuMTc1IDIzMC42MTYgMjIyLjEwMkMyMjguODg1IDIyNC4xODUgMjIzLjkyOSAyMjkuMTM0IDIyMS44NjYgMjMwLjg0MUMyMTAuMzQ3IDI0MC4zNzEgMTk3LjE0MSAyNDUuOTA2IDE4Mi4yNzIgMjQ3LjQzNUMxNzkuMjIyIDI0Ny43NDggMTcxLjA4OSAyNDcuNjk4IDE2OC4xMDQgMjQ3LjM0NkMxNjAuNTU1IDI0Ni40NTggMTUzLjk3MiAyNDQuNzYzIDE0Ny40NDcgMjQyLjAyOEMxNDUuOTEzIDI0MS4zODUgMTQxLjgxNCAyMzkuMzc5IDE0MC41MDMgMjM4LjYyOUMxMzcuODA3IDIzNy4wODkgMTM0Ljg3MyAyMzUuMjExIDEzNC44NzggMjM1LjAzMUMxMzQuODg4IDIzNC42ODQgMTM5LjY4MSAyMzEuNjU0IDE0Mi4xOTUgMjMwLjQwN0MxNDYuMDU3IDIyOC40OSAxNDkuNDU3IDIyNy4zOTcgMTU0LjM5IDIyNi40ODdDMTU2LjMxMiAyMjYuMTMyIDE1Ni45MTEgMjI2LjExOSAxNzYuNDExIDIyNi4wMDFDMTg3LjQzNiAyMjUuOTM0IDE5Ni44MDEgMjI1LjgzNSAxOTcuMjIxIDIyNS43OEMxOTcuNjQyIDIyNS43MjUgMTk5LjAxOCAyMjUuNTk3IDIwMC4yNzkgMjI1LjQ5NEMyMDUuMTI2IDIyNS4xIDIxMS44NDMgMjIzLjk3NiAyMTYuOTU5IDIyMi43MDRDMjE5LjYzOSAyMjIuMDM4IDIyNC4xNTggMjIwLjc5NCAyMjQuNjU3IDIyMC41ODZDMjI0Ljg0NCAyMjAuNTA4IDIyNi4wMjkgMjIwLjA5MiAyMjcuMjkgMjE5LjY2MkMyMjguNTUxIDIxOS4yMzEgMjMwLjYxNSAyMTguNDY2IDIzMS44NzcgMjE3Ljk2MUMyMzQuMzIzIDIxNi45ODIgMjM0LjQyNSAyMTYuOTQ5IDIzNC40MjUgMjE3LjEyOVoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=",this._readyState=typeof window>"u"||typeof document>"u"?o.Unsupported:o.NotDetected,this._provider=typeof window<"u"?window.martian:void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==o.Unsupported&&A(()=>window.martian?(this._readyState=o.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var n,t,e;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((t=this._wallet)==null?void 0:t.address)||null,authKey:((e=this._wallet)==null?void 0:e.authKey)||null}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){var n;try{if(this.connected||this.connecting)return;if(!(this._readyState===o.Loadable||this._readyState===o.Installed))throw new d;this._connecting=!0;const t=this._provider||window.martian;if(await(t==null?void 0:t.isConnected())&&await(t==null?void 0:t.disconnect()),!await(t==null?void 0:t.connect()))throw new l("No connect response");const i=await(t==null?void 0:t.account());i&&(this._wallet={...i,isConnected:!0}),this.emit("connect",((n=this._wallet)==null?void 0:n.address)||"")}catch(t){throw this.emit("error",new Error(t)),t}finally{this._connecting=!1}}async disconnect(){const n=this._wallet,t=this._provider||window.martian;if(n){this._wallet=null;try{await(t==null?void 0:t.disconnect())}catch(e){this.emit("error",new I(e==null?void 0:e.message,e))}}this.emit("disconnect")}async signTransaction(n,t){try{const e=this._wallet,a=this._provider||window.martian;if(!e||!a)throw new l;const i=await a.generateTransaction(e.address||"",n,t);if(!i)throw new Error("Cannot generate transaction");const c=await(a==null?void 0:a.signTransaction(i));if(!c)throw new Error("No response");return c}catch(e){throw this.emit("error",new T(e)),e}}async signAndSubmitTransaction(n,t={gas_unit_price:"100"}){try{const e=this._wallet,a=this._provider||window.martian;if(!e||!a)throw new l;const i=await a.generateTransaction(e.address||"",n,t);if(!i)throw new Error("Cannot generate transaction");const c=await(a==null?void 0:a.signAndSubmitTransaction(i));if(!c)throw new Error("No response");return{hash:c}}catch(e){throw this.emit("error",new w(e)),e}}async signMessage(n){try{const t=this._wallet,e=this._provider||window.martian;if(!t||!e)throw new l;const a=await(e==null?void 0:e.signMessage(n));if(a!=null&&a.signature)return a==null?void 0:a.signature;throw new Error("Sign Message failed")}catch(t){const e=t.message;throw this.emit("error",new j(e)),t}}}const $="Fewcha";class q extends h{constructor({timeout:n=1e4}={}){super(),this.name=$,this.url="https://fewcha.app/",this.icon="https://miro.medium.com/fit/c/176/176/1*a0WaY-q7gjCRiuryRG6TkQ.png",this._readyState=typeof window>"u"||typeof document>"u"?o.Unsupported:o.NotDetected,this._provider=typeof window<"u"?new Q().action:void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==o.Unsupported&&A(()=>window.fewcha?(this._readyState=o.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var n,t,e;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((t=this._wallet)==null?void 0:t.address)||null,authKey:((e=this._wallet)==null?void 0:e.authKey)||null}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.connected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(!(this._readyState===o.Loadable||this._readyState===o.Installed))throw new d;this._connecting=!0;const n=this._provider||window.fewcha,t=await n.isConnected();(t==null?void 0:t.data)===!0&&await n.disconnect();const e=await n.connect();if(e.status===401)throw new z("User has rejected the connection");if(e.status!==200)throw new z("Wallet connect issue");let a={...e.data};if(!a.publicKey){const i=await n.account();if(!i.data.publicKey)throw new z("Wallet connect issue",e.data);a={...i.data}}this._wallet={connected:!0,...a},this._provider=n,this.emit("connect",this._wallet.publicKey)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const n=this._provider||window.fewcha;if(n)try{if((await n.disconnect()).data===!0)this._provider=void 0,this._wallet=null;else throw new Error("Disconnect failed")}catch(t){throw this.emit("error",new I(t==null?void 0:t.message,t)),t}this.emit("disconnect")}async signTransaction(n,t){try{if(!this._wallet)throw new l;const a=this._provider||window.fewcha,i=await a.generateTransaction(n,t);if(!i)throw new Error("Cannot generate transaction");const c=await(a==null?void 0:a.signTransaction(i.data));if(!c||c.status!==200)throw new Error("No response");return c.data}catch(e){const a=e instanceof Error?e.message:e.response.data.message;throw this.emit("error",new T(a)),e}}async signAndSubmitTransaction(n,t={max_gas_amount:"10000",gas_unit_price:"100"}){try{if(!this._wallet)throw new l;const a=this._provider||window.fewcha,i=n.arguments,c=[];i.forEach(x=>{c.push(Number(x))});const s={...n,arguments:c},D=await a.generateTransaction(s,t);if(!D)throw new Error("Cannot generate transaction");const m=await(a==null?void 0:a.signAndSubmitTransaction(D.data));if(m.status===401)throw new Error("User has rejected the transaction");if(m.status!==200)throw new Error("Transaction issue");return{hash:m.data}}catch(e){const a=e instanceof Error?e.message:e.response.data.message;throw this.emit("error",new w(a)),e}}async signMessage(n){try{const t=this._wallet,e=this._provider||window.fewcha;if(!t||!e)throw new l;const a=await(e==null?void 0:e.signMessage(n));if(a)return a.data;throw new Error("Sign Message failed")}catch(t){const e=t.message;throw this.emit("error",new j(e)),t}}}const X="Pontem";class tt extends h{constructor({timeout:n=1e4}={}){super(),this.name=X,this.url="https://chrome.google.com/webstore/detail/pontem-wallet/phkbamefinggmakgklpkljjmgibohnba",this.icon="https://www.gitbook.com/cdn-cgi/image/width=20,height=20,fit=contain,dpr=2,format=auto/https%3A%2F%2F736486047-files.gitbook.io%2F~%2Ffiles%2Fv0%2Fb%2Fgitbook-legacy-files%2Fo%2Fspaces%252F-MVVJKmKQGx983dZy_jr%252Favatar-1619180126965.png%3Fgeneration%3D1619180127194239%26alt%3Dmedia",this._readyState=typeof window>"u"||typeof document>"u"?o.Unsupported:o.NotDetected,this._provider=typeof window<"u"?window.pontem:void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==o.Unsupported&&A(()=>window.pontem?(this._readyState=o.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var n,t,e;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((t=this._wallet)==null?void 0:t.address)||null,authKey:((e=this._wallet)==null?void 0:e.authKey)||null}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){var n;try{if(this.connected||this.connecting)return;if(!(this._readyState===o.Loadable||this._readyState===o.Installed))throw new d;this._connecting=!0;const t=this._provider||window.pontem;if(await(t==null?void 0:t.isConnected())&&await(t==null?void 0:t.disconnect()),!await(t==null?void 0:t.connect()))throw new l("No connect response");const i=await(t==null?void 0:t.account()),c=await(t==null?void 0:t.publicKey());i&&(this._wallet={address:i,publicKey:c,isConnected:!0}),this.emit("connect",((n=this._wallet)==null?void 0:n.address)||"")}catch(t){throw this.emit("error",new Error("User has rejected the connection")),t}finally{this._connecting=!1}}async disconnect(){const n=this._wallet,t=this._provider||window.pontem;if(n){this._wallet=null;try{await(t==null?void 0:t.disconnect())}catch(e){this.emit("error",new I(e==null?void 0:e.message,e))}}this.emit("disconnect")}async signTransaction(n,t){try{const e=this._wallet,a=this._provider||window.pontem;if(!e||!a)throw new l;return await(a==null?void 0:a.signTransaction(n,t))}catch(e){throw this.emit("error",new T(e)),e}}async signAndSubmitTransaction(n,t={max_gas_amount:"10000",gas_unit_price:"100"}){try{const e=this._wallet,a=this._provider||window.pontem;if(!e||!a)throw new l;const i=await(a==null?void 0:a.signAndSubmit(n,t));if(!i||!i.success)throw new Error("No response");return{hash:i.result.hash}}catch(e){throw this.emit("error",new w(e.error.message)),e}}async signMessage(n){try{const t=this._wallet,e=this._provider||window.pontem;if(!t||!e)throw new l;const a=await(e==null?void 0:e.signMessage(n));if(a.success)return a.result.hexString;throw new Error("Sign Message failed")}catch(t){const e=t.message;throw this.emit("error",new j(e)),t}}}const et="Spika";class nt extends h{constructor({timeout:n=1e4}={}){super(),this.name=et,this.url="https://chrome.google.com/webstore/detail/spika/fadkojdgchhfkdkklllhcphknohbmjmb",this.icon="https://pbs.twimg.com/profile_images/1562544739181887488/vSqEIeyh_400x400.png",this._readyState=typeof window>"u"||typeof document>"u"?o.Unsupported:o.NotDetected,this._provider=typeof window<"u"?window.spika:void 0,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==o.Unsupported&&A(()=>window.spika?(this._readyState=o.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var n,t,e;return{publicKey:((n=this._wallet)==null?void 0:n.publicKey)||null,address:((t=this._wallet)==null?void 0:t.address)||null,authKey:((e=this._wallet)==null?void 0:e.authKey)||null}}get connecting(){return this._connecting}get connected(){var n;return!!((n=this._wallet)!=null&&n.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(!(this._readyState===o.Loadable||this._readyState===o.Installed))throw new d;this._connecting=!0;const n=this._provider||window.spika;await(n==null?void 0:n.isConnected());const t=await(n==null?void 0:n.connect());(t==null?void 0:t.publicKey)!==void 0?this._wallet={publicKey:t==null?void 0:t.publicKey,address:t==null?void 0:t.account,authKey:t==null?void 0:t.authKey,isConnected:!0}:this._wallet={isConnected:!1},this.emit("connect",this._wallet.publicKey)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){if(this._wallet){this._wallet=null;try{const t=this._provider||window.spika;await(t==null?void 0:t.disconnect())}catch(t){this.emit("error",new I(t==null?void 0:t.message,t))}}this.emit("disconnect")}async signTransaction(n,t){try{const e=this._wallet,a=this._provider||window.spika;if(!e||!a)throw new l;const i=await(a==null?void 0:a.signTransaction(n,t));if(i)return i;throw new Error("Sign Transaction failed")}catch(e){const a=e.message;throw this.emit("error",new T(a)),e}}async signAndSubmitTransaction(n,t={max_gas_amount:"10000",gas_unit_price:"100"}){try{const e=this._wallet,a=this._provider||window.spika;if(!e||!a)throw new l;const i=await(a==null?void 0:a.signAndSubmitTransaction(n,t));if(i)return i;throw new Error("Transaction failed")}catch(e){const a=e.message;throw this.emit("error",new w(a)),e}}async signMessage(n){try{const t=this._wallet,e=this._provider||window.spika;if(!t||!e)throw new l;const a=await(e==null?void 0:e.signMessage(n));if(a)return a;throw new Error("Sign Message failed")}catch(t){const e=t.message;throw this.emit("error",new j(e)),t}}}function rt(){const r=v(),n=S(()=>r),t=k(),e=S(()=>t),a=[new V,new P,new q,new B,new G,new tt,new nt],i=[new K,new Y],c=S(()=>e.value.chainName==="Sui"?i:a),s=W({wallet:{}}),D=b(!1),m=b(""),{$notify:x}=F();return{account:m,isConnected:D,currentWallet:s,connect:async E=>{var L,O,_;r.setSwitchWallet(!1);const u=c.value.find(y=>y.name.indexOf(E)>-1);if(u){if(r.walletName==u.name)return!1;try{const y=await u.connect();s.wallet=u;let p,N="";if(e.value.chainName==="Sui"){const C=await u.getAccounts();C&&(N=C[0]),p=!!N}else N=((O=(L=s==null?void 0:s.wallet)==null?void 0:L.publicAccount)==null?void 0:O.address)||"",p=(_=s==null?void 0:s.wallet)==null?void 0:_.connected;r.setCurrentWallet({wallet:u,isConnected:p,account:N}),localStorage.setItem("cetus-current-wallet",E),x.success({icon:M("svg",{class:{icon:!0},"aria-hidden":!0},[M("use",{"xlink:href":"#icon-icon-change1"})]),duration:4.5,message:M("div",{class:"notification-title"},[M("span",{innerHTML:"Wallet Connected"},null)]),class:"ant-notification-copy"})}catch(y){if(y.name==="WalletNotReadyError"){const p=u.url,N=["Please install ",M("a",{href:p,target:"_blank"},`${E} wallet`)," extension first"];x.error({class:"ant-notification-copy ant-notification-error",message:M("div",{class:"notification-title"},[M("span",{innerHTML:y.name},null)]),description:M("div",N),duration:4.5,icon:M("svg",{class:{icon:!0},"aria-hidden":!0},[M("use",{"xlink:href":"#icon-a-icon-Shutdown"})])});return}x.error({class:"ant-notification-copy ant-notification-error",message:M("div",{class:"notification-title"},[M("span",{innerHTML:y.name},null)]),description:"Connect Wallet Failed",duration:4.5,icon:M("svg",{class:{icon:!0},"aria-hidden":!0},[M("use",{"xlink:href":"#icon-a-icon-Shutdown"})])})}}},disconnect:async()=>{if(s.wallet)try{const E=await n.value.currentWallet.disconnect();r.setCurrentWallet(null)}catch{}}}}function ct(){const r={default:{primaryColor:"#ff0000",themeColor:"#68FFD8",backgroundColor:"#1f2224",buttonDefault:"#68FFD8",buttonHover:"#A4FFE7",buttonDisabled:"#1e2f2d",buttonDetailDefault:"#181818",buttonDetailHover:"#232323",buttonPositionDefault:"#1E2E2A",buttonPositionHover:"#2D443E",tabActive:"#171717",tabHover:"#191919",tabDefault:"#080808",cardDefault:"#1A1A1A",cardEmphasize:"#202020",cardEnter:"#080808",cardAsset:"linear-gradient(180deg, #1A1A1A, #0F0F0F )",cardTop:"linear-gradient(270deg, #000000 0%, #15332c 100%)",cardTopReserve:"linear-gradient(270deg, #15332c 0%, #000000 100%)",cardCenter:"linear-gradient(270deg, #1b2523 0%, #161717 50%, #1b2523 100%)",moreBg:"linear-gradient(360deg, #171717 0%, #15332c 100%)",textDefault:"#CDCDCD",textActive:"#fff",textEffect:"#B5B8C2",textTips:"#FFCA68",textWarning:"#FF6868",borderDefault:"#213F37"},sui:{primaryColor:"#76C8FF",themeColor:"#76C8FF",backgroundColor:"#1f2224",buttonDefault:"#76C8FF",buttonHover:"#A4E2FF",buttonDisabled:"#1C1E23",buttonDetailDefault:"#181818",buttonDetailHover:"#121B1F",buttonPositionDefault:"#1E2E2A",buttonPositionHover:"#2D443E",tabActive:"#181818",tabHover:"#191919",tabDefault:"#080808",cardDefault:"#171717",cardEmphasize:"#1B1B1B",cardEnter:"#0F0F0F",cardAsset:"linear-gradient(180deg, #1A1A1A, #0F0F0F )",cardTop:"linear-gradient(270deg, #000000 0%, #152533 100%)",cardTopReserve:"linear-gradient(270deg, #152533 0%, #000000 100%)",cardCenter:"linear-gradient(270deg, #1B1F25 0%, #161717 52%, #1B2025 100%)",moreBg:"linear-gradient(360deg, #171717 0%, #152533 100%)",textDefault:"#CDCDCD",textActive:"#fff",textEffect:"#B5B8C2",textTips:"#FFCA68",textWarning:"#FF6868",borderDefault:"#044D70"}},n=c=>{for(const s in c)document.getElementsByTagName("body")[0].style.setProperty(`--${s}`,c[s])},t=k(),e=c=>{localStorage.setItem("theme",c),t.setTheme(c);const s=r[c];if(s)localStorage.setItem("primaryColor",s.primaryColor),localStorage.setItem("themeColor",s.themeColor),localStorage.setItem("backgroundColor",s.backgroundColor),localStorage.setItem("buttonDefault",s.buttonDefault),localStorage.setItem("buttonHover",s.buttonHover),localStorage.setItem("buttonDisabled",s.buttonDisabled),localStorage.setItem("buttonDetailDefault",s.buttonDetailDefault),localStorage.setItem("buttonDetailHover",s.buttonDetailHover),localStorage.setItem("buttonPositionDefault",s.buttonPositionDefault),localStorage.setItem("buttonPositionHover",s.buttonPositionHover),localStorage.setItem("tabActive",s.tabActive),localStorage.setItem("tabHover",s.tabHover),localStorage.setItem("tabDefault",s.tabDefault),localStorage.setItem("cardDefault",s.cardDefault),localStorage.setItem("cardEmphasize",s.cardEmphasize),localStorage.setItem("cardEnter",s.cardEnter),localStorage.setItem("cardAsset",s.cardAsset),localStorage.setItem("cardTop",s.cardTop),localStorage.setItem("cardTopReserve",s.cardTopReserve),localStorage.setItem("cardCenter",s.cardCenter),localStorage.setItem("moreBg",s.moreBg),localStorage.setItem("textDefault",s.textDefault),localStorage.setItem("textActive",s.textActive),localStorage.setItem("textEffect",s.textEffect),localStorage.setItem("textTips",s.textTips),localStorage.setItem("textWarning",s.textWarning),localStorage.setItem("borderDefault",s.borderDefault),n(s);else{const D={primaryColor:localStorage.getItem("primaryColor"),backgroundColor:localStorage.getItem("backgroundColor"),themeColor:localStorage.getItem("themeColor"),buttonDefault:localStorage.getItem("buttonDefault"),buttonHover:localStorage.getItem("buttonHover"),buttonDisabled:localStorage.getItem("buttonDisabled"),buttonDetailDefault:localStorage.getItem("buttonDetailDefault"),buttonDetailHover:localStorage.getItem("buttonDetailHover"),buttonPositionDefault:localStorage.getItem("buttonPositionDefault"),buttonPositionHover:localStorage.getItem("buttonPositionHover"),tabActive:localStorage.getItem("tabActive"),tabHover:localStorage.getItem("tabHover"),tabDefault:localStorage.getItem("tabDefault"),cardDefault:localStorage.getItem("cardDefault"),cardEmphasize:localStorage.getItem("cardEmphasize"),cardEnter:localStorage.getItem("cardEnter"),cardAsset:localStorage.getItem("cardAsset"),cardTop:localStorage.getItem("cardTop"),cardTopReserve:localStorage.getItem("cardTopReserve"),cardCenter:localStorage.getItem("cardCenter"),moreBg:localStorage.getItem("moreBg"),textDefault:localStorage.getItem("textDefault"),textActive:localStorage.getItem("textActive"),textEffect:localStorage.getItem("textEffect"),textTips:localStorage.getItem("textTips"),textWarning:localStorage.getItem("textWarning"),borderDefault:localStorage.getItem("borderDefault")};n(D)}};return{seleteDefaultTheme:()=>{e("default")},selectSuiTheme:()=>{e("sui")}}}export{ct as a,rt as u};
