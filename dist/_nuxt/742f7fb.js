(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{3580:function(t,n,e){"use strict";e(520),e(3584)},3581:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SpinProps=void 0;var o=e(3586);Object.defineProperty(n,"SpinProps",{enumerable:!0,get:function(){return o.SpinProps}});var r=l(o),c=l(e(484));function l(t){return t&&t.__esModule?t:{default:t}}r.default.setDefaultIndicator=o.setDefaultIndicator,r.default.install=function(t){t.use(c.default),t.component(r.default.name,r.default)},n.default=r.default},3584:function(t,n,e){var content=e(3585);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(205).default)("c0e78406",content,!0,{sourceMap:!1})},3585:function(t,n,e){var o=e(204)(!1);o.push([t.i,'.ant-spin{box-sizing:border-box;margin:0;padding:0;color:#f1f1f2;font-size:14px;font-variant:tabular-nums;line-height:1.5;list-style:none;font-feature-settings:"tnum","tnum";position:absolute;display:none;color:#07ebad;text-align:center;vertical-align:middle;opacity:0;transition:transform .3s cubic-bezier(.78,.14,.15,.86)}.ant-spin-spinning{position:static;display:inline-block;opacity:1}.ant-spin-nested-loading{position:relative}.ant-spin-nested-loading>div>.ant-spin{position:absolute;top:0;left:0;z-index:4;display:block;width:100%;height:100%;max-height:400px}.ant-spin-nested-loading>div>.ant-spin .ant-spin-dot{position:absolute;top:50%;left:50%;margin:-10px}.ant-spin-nested-loading>div>.ant-spin .ant-spin-text{position:absolute;top:50%;width:100%;padding-top:5px;text-shadow:0 1px 2px #fff}.ant-spin-nested-loading>div>.ant-spin.ant-spin-show-text .ant-spin-dot{margin-top:-20px}.ant-spin-nested-loading>div>.ant-spin-sm .ant-spin-dot{margin:-7px}.ant-spin-nested-loading>div>.ant-spin-sm .ant-spin-text{padding-top:2px}.ant-spin-nested-loading>div>.ant-spin-sm.ant-spin-show-text .ant-spin-dot{margin-top:-17px}.ant-spin-nested-loading>div>.ant-spin-lg .ant-spin-dot{margin:-16px}.ant-spin-nested-loading>div>.ant-spin-lg .ant-spin-text{padding-top:11px}.ant-spin-nested-loading>div>.ant-spin-lg.ant-spin-show-text .ant-spin-dot{margin-top:-26px}.ant-spin-container{position:relative;transition:opacity .3s}.ant-spin-container:after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:10;display:none\\9;width:100%;height:100%;background:#fff;opacity:0;transition:all .3s;content:"";pointer-events:none}.ant-spin-blur{clear:both;overflow:hidden;opacity:.5;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}.ant-spin-blur:after{opacity:.4;pointer-events:auto}.ant-spin-tip{color:rgba(0,0,0,.45)}.ant-spin-dot{position:relative;display:inline-block;font-size:20px;width:1em;height:1em}.ant-spin-dot-item{position:absolute;display:block;width:9px;height:9px;background-color:#07ebad;border-radius:100%;transform:scale(.75);transform-origin:50% 50%;opacity:.3;animation:antSpinMove 1s linear infinite alternate}.ant-spin-dot-item:first-child{top:0;left:0}.ant-spin-dot-item:nth-child(2){top:0;right:0;animation-delay:.4s}.ant-spin-dot-item:nth-child(3){right:0;bottom:0;animation-delay:.8s}.ant-spin-dot-item:nth-child(4){bottom:0;left:0;animation-delay:1.2s}.ant-spin-dot-spin{transform:rotate(45deg);animation:antRotate 1.2s linear infinite}.ant-spin-sm .ant-spin-dot{font-size:14px}.ant-spin-sm .ant-spin-dot i{width:6px;height:6px}.ant-spin-lg .ant-spin-dot{font-size:32px}.ant-spin-lg .ant-spin-dot i{width:14px;height:14px}.ant-spin.ant-spin-show-text .ant-spin-text{display:block}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.ant-spin-blur{background:#fff;opacity:.5}}@keyframes antSpinMove{to{opacity:1}}@keyframes antRotate{to{transform:rotate(405deg)}}',""]),t.exports=o},3586:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SpinProps=n.SpinSize=void 0;var o=x(e(325)),r=x(e(313)),c=x(e(521));n.setDefaultIndicator=function(t){w="function"==typeof t.indicator?t.indicator:function(n){return n(t.indicator)}};var l=x(e(3587)),d=x(e(112)),f=x(e(314)),m=e(136),h=e(393),v=e(446);function x(t){return t&&t.__esModule?t:{default:t}}var _=n.SpinSize=d.default.oneOf(["small","default","large"]),y=n.SpinProps=function(){return{prefixCls:d.default.string,spinning:d.default.bool,size:_,wrapperClassName:d.default.string,tip:d.default.string,delay:d.default.number,indicator:d.default.any}},w=void 0;n.default={name:"ASpin",mixins:[f.default],props:(0,m.initDefaultProps)(y(),{size:"default",spinning:!0,wrapperClassName:""}),inject:{configProvider:{default:function(){return v.ConfigConsumerProps}}},data:function(){var t=this.spinning,n=function(t,n){return!!t&&!!n&&!isNaN(Number(n))}(t,this.delay);return this.originalUpdateSpinning=this.updateSpinning,this.debouncifyUpdateSpinning(this.$props),{sSpinning:t&&!n}},mounted:function(){this.updateSpinning()},updated:function(){var t=this;this.$nextTick((function(){t.debouncifyUpdateSpinning(),t.updateSpinning()}))},beforeDestroy:function(){this.cancelExistingSpin()},methods:{debouncifyUpdateSpinning:function(t){var n=(t||this.$props).delay;n&&(this.cancelExistingSpin(),this.updateSpinning=(0,l.default)(this.originalUpdateSpinning,n))},updateSpinning:function(){var t=this.spinning;this.sSpinning!==t&&this.setState({sSpinning:t})},cancelExistingSpin:function(){var t=this.updateSpinning;t&&t.cancel&&t.cancel()},getChildren:function(){return this.$slots&&this.$slots.default?(0,m.filterEmpty)(this.$slots.default):null},renderIndicator:function(t,n){var e=n+"-dot",o=(0,m.getComponentFromProp)(this,"indicator");return null===o?null:(Array.isArray(o)&&(o=1===(o=(0,m.filterEmpty)(o)).length?o[0]:o),(0,m.isValidElement)(o)?(0,h.cloneElement)(o,{class:e}):w&&(0,m.isValidElement)(w(t))?(0,h.cloneElement)(w(t),{class:e}):t("span",{class:e+" "+n+"-dot-spin"},[t("i",{class:n+"-dot-item"}),t("i",{class:n+"-dot-item"}),t("i",{class:n+"-dot-item"}),t("i",{class:n+"-dot-item"})]))}},render:function(t){var n,e=this.$props,l=e.size,d=e.prefixCls,f=e.tip,h=e.wrapperClassName,v=(0,c.default)(e,["size","prefixCls","tip","wrapperClassName"]),x=(0,this.configProvider.getPrefixCls)("spin",d),_=this.sSpinning,y=(n={},(0,r.default)(n,x,!0),(0,r.default)(n,x+"-sm","small"===l),(0,r.default)(n,x+"-lg","large"===l),(0,r.default)(n,x+"-spinning",_),(0,r.default)(n,x+"-show-text",!!f),n),w=t("div",(0,o.default)([v,{class:y}]),[this.renderIndicator(t,x),f?t("div",{class:x+"-text"},[f]):null]),R=this.getChildren();if(R){var k,C=(k={},(0,r.default)(k,x+"-container",!0),(0,r.default)(k,x+"-blur",_),k);return t("div",(0,o.default)([{on:(0,m.getListeners)(this)},{class:[x+"-nested-loading",h]}]),[_&&t("div",{key:"loading"},[w]),t("div",{class:C,key:"container"},[R])])}return w}}},3587:function(t,n,e){var o=e(663),r=e(3588),c=e(3589),l=Math.max,d=Math.min;t.exports=function(t,n,e){var f,m,h,v,x,_,y=0,w=!1,R=!1,k=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function C(time){var n=f,e=m;return f=m=void 0,y=time,v=t.apply(e,n)}function S(time){return y=time,x=setTimeout(F,n),w?C(time):v}function A(time){var t=time-_;return void 0===_||t>=n||t<0||R&&time-y>=h}function F(){var time=r();if(A(time))return O(time);x=setTimeout(F,function(time){var t=n-(time-_);return R?d(t,h-(time-y)):t}(time))}function O(time){return x=void 0,k&&f?C(time):(f=m=void 0,v)}function I(){var time=r(),t=A(time);if(f=arguments,m=this,_=time,t){if(void 0===x)return S(_);if(R)return clearTimeout(x),x=setTimeout(F,n),C(_)}return void 0===x&&(x=setTimeout(F,n)),v}return n=c(n)||0,o(e)&&(w=!!e.leading,h=(R="maxWait"in e)?l(c(e.maxWait)||0,n):h,k="trailing"in e?!!e.trailing:k),I.cancel=function(){void 0!==x&&clearTimeout(x),y=0,f=_=m=x=void 0},I.flush=function(){return void 0===x?v:O(r())},I}},3588:function(t,n,e){var o=e(422);t.exports=function(){return o.Date.now()}},3589:function(t,n,e){var o=e(3590),r=e(663),c=e(3592),l=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,f=/^0o[0-7]+$/i,m=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(c(t))return NaN;if(r(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=r(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=o(t);var e=d.test(t);return e||f.test(t)?m(t.slice(2),e?2:8):l.test(t)?NaN:+t}},3590:function(t,n,e){var o=e(3591),r=/^\s+/;t.exports=function(t){return t?t.slice(0,o(t)+1).replace(r,""):t}},3591:function(t,n){var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},3592:function(t,n,e){var o=e(664),r=e(579);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==o(t)}},3722:function(t,n,e){var content=e(3798);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(205).default)("5049d668",content,!0,{sourceMap:!1})},3797:function(t,n,e){"use strict";e(3722)},3798:function(t,n,e){var o=e(204)(!1);o.push([t.i,".price-info[data-v-7581b1ec]{width:440px;background:linear-gradient(270deg,rgba(0,0,0,.4),rgba(33,33,33,.4));border-radius:20px;padding:50px 20px 20px;margin:-30px auto 0;position:relative;z-index:10}.price-info .price-info-bg[data-v-7581b1ec]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:346px;height:32px;background:linear-gradient(270deg,#78cfff,#596cff 50%,#b390ff);z-index:1;filter:blur(40px)}.price-info .title[data-v-7581b1ec]{font-size:14px;color:#fff}.price-info .info-list[data-v-7581b1ec]{margin-bottom:0;position:relative;z-index:2}.price-info .info-list li[data-v-7581b1ec]{display:flex;align-items:center;justify-content:space-between;margin-top:12px;font-size:12px}.price-info .info-list li svg[data-v-7581b1ec]{width:20px;height:20px;fill:hsla(0,0%,100%,.5)}.price-info .info-list li svg[data-v-7581b1ec]:hover{fill:#fff}.price-info .info-list li>span[data-v-7581b1ec]{color:#b5b8c2}.price-info .info-list li>div[data-v-7581b1ec]{display:flex;align-items:center;color:#fff;text-align:right}.price-info .info-list li>div .green[data-v-7581b1ec]{color:#07ebad}.price-info .info-list li>div a[data-v-7581b1ec]{font-size:12px;color:#fff;text-decoration:underline}.price-info .info-list li .deposit-right[data-v-7581b1ec]{display:flex;flex-direction:column;align-items:flex-end}.price-info .info-list li .deposit-right p[data-v-7581b1ec]{margin-bottom:0}@media screen and (max-width:750px){.price-info[data-v-7581b1ec]{width:100%}}",""]),t.exports=o},3830:function(t,n,e){"use strict";e.r(n);e(3580);var o=e(3581),r=e.n(o),progress=(e(3677),e(3678)),c=e.n(progress),l=(e(207),e(23),e(50),e(241),e(58)),d=e(273),f=e(98),m=l.default.extend({components:{Progress:c.a,Spin:r.a},props:{depositAndFee:{type:Object,default:function(){return{}}},swapRoutes:{type:Array,default:function(){return[]}},currentRoute:{type:Object,default:function(){return{}}},fromCoin:{type:Object,default:function(){return{}}},toCoin:{type:Object,default:function(){return{}}},routesIsLoading:{type:Boolean,default:!1},fromCoinAmount:{type:String,default:""}},data:function(){return{direction:!0,autoRefreshTime:20,countdown:0,loading:!1,marketTimer:null,exchange:!1}},computed:Object.assign(Object.assign({},Object(d.e)(["wallet","url","swap"])),{from2toRate:function(){if(this.fromCoin&&this.toCoin&&this.currentRoute){var t=this.currentRoute.inAmount/Math.pow(10,this.fromCoin.decimals),n=this.currentRoute.outAmount/Math.pow(10,this.toCoin.decimals);return n&&t?n/t:0}return 0},to2fromRate:function(){if(this.fromCoin&&this.toCoin&&this.currentRoute){var t=this.currentRoute.inAmount/Math.pow(10,this.fromCoin.decimals),n=this.currentRoute.outAmount/Math.pow(10,this.toCoin.decimals);return n&&t?t/n:0}return 0},priceImpact:function(){return this.currentRoute&&this.currentRoute.priceImpactPct?this.currentRoute.priceImpactPct>1?100:100*this.currentRoute.priceImpactPct:0},minimumReceived:function(){return this.currentRoute&&this.toCoin?(console.log(this.currentRoute,"currentRoute==>"),Number(Object(f.c)(String(this.currentRoute.outAmount/Math.pow(10,this.toCoin.decimals)),this.toCoin.decimals))):0},lpFee1:function(){if(this.currentRoute&&this.currentRoute.marketInfos&&this.currentRoute.marketInfos[0]&&this.currentRoute.marketInfos[0].lpFee&&this.swap.tokensObj){var t=this.swap.tokensObj,n=this.currentRoute.marketInfos[0].lpFee,e=t[n.mint]&&t[n.mint];return{amount:Math.abs(n.amount)/Math.pow(10,e.decimals),pct:100*n.pct,symbol:e.symbol,platform:this.currentRoute.marketInfos[0].amm.label}}return null},lpFee2:function(){if(this.currentRoute&&this.currentRoute.marketInfos&&this.currentRoute.marketInfos[1]&&this.currentRoute.marketInfos[1].lpFee&&this.swap.tokensObj){var t=this.swap.tokensObj,n=this.currentRoute.marketInfos[1].lpFee,e=t[n.mint]&&t[n.mint];return{amount:Math.abs(n.amount)/Math.pow(10,e.decimals),pct:100*n.pct,symbol:e.symbol,platform:this.currentRoute.marketInfos[1].amm.label}}return null},ataDeposit:function(){return this.depositAndFee?this.depositAndFee.ataDeposit/Math.pow(10,9):0},transactionFee:function(){return this.depositAndFee?this.depositAndFee.signatureFee/Math.pow(10,9):0},ataAccountLength:function(){return this.depositAndFee?this.depositAndFee.ataDepositLength:0},openOrdersAccountsNames:function(){if(this.currentRoute&&this.currentRoute.marketInfos){var t=this.currentRoute.marketInfos.length,n=this.currentRoute.marketInfos;return n[t]&&n[t].amm.label||""}return""},openOrdersAccountDeposits:function(){if(this.depositAndFee){var t=this.depositAndFee.openOrdersDeposits||[],n=0;return t.forEach((function(t){n+=t})),n&&(n/=Math.pow(10,9)),n}return 0},openOrdersAccountLength:function(){return this.depositAndFee?(this.depositAndFee.openOrdersDeposits||[]).length:0}}),mounted:function(){this.setMarketTimer()},methods:{decimalFormat:f.c,getOrderBooks:function(){this.countdown=0,this.exchange=!0,console.log(this.exchange,"989898989898989"),this.$emit("updateAmounts")},setMarketTimer:function(){var t=this;this.marketTimer=setInterval((function(){t.loading||t.countdown<t.autoRefreshTime&&(t.countdown+=1,t.countdown===t.autoRefreshTime&&t.getOrderBooks())}),1e4)}}}),h=(e(3797),e(206)),component=Object(h.a)(m,(function(){var t=this,n=t._self._c;t._self._setupProxy;return n("div",{staticClass:"price-info"},[n("div",{staticClass:"price-info-bg"}),t._v(" "),n("h3",{staticClass:"title"},[n("span",[t._v("Price Info")]),t._v(" "),n("Progress",{class:t.routesIsLoading?"disabled":"",attrs:{type:"circle",width:14,"stroke-width":10,percent:100/t.autoRefreshTime*t.countdown,"show-info":!1},on:{click:function(){t.getOrderBooks(),t.$accessor.wallet.getTokenAccounts()}}})],1),t._v(" "),n("ul",{staticClass:"info-list"},[t.fromCoin&&t.toCoin?n("li",[n("span",[t._v("Exchange Rate")]),t._v(" "),t.exchange?t._e():n("div",[t.direction&&t.to2fromRate?n("span",[t._v("1 "+t._s(t.fromCoin.symbol)+" ≈ "+t._s(t.decimalFormat(t.from2toRate,6))+" "+t._s(t.toCoin.symbol))]):!t.direction&&t.from2toRate?n("span",[t._v("1 "+t._s(t.toCoin.symbol)+" ≈ "+t._s(t.decimalFormat(t.to2fromRate,6))+" "+t._s(t.fromCoin.symbol))]):t._e(),t._v(" "),n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(n){t.direction=!t.direction}}},[n("use",{attrs:{"xlink:href":"#icon-icon-swap"}})])]),t._v(" "),t.exchange?n("Spin",{attrs:{size:"small"}}):t._e()],1):t._e(),t._v(" "),n("li",[n("span",[t._v("Price Impact")]),t._v(" "),t.priceImpact<.1&&!t.exchange?n("div",[t._v("< 0.1%")]):t._e(),t._v(" "),t.priceImpact>.1&&!t.exchange?n("div",[t._v("~ "+t._s(t.decimalFormat(t.priceImpact,2))+" %")]):t._e(),t._v(" "),t.exchange?n("Spin",{attrs:{size:"small"}}):t._e()],1),t._v(" "),t.toCoin?n("li",[n("span",[t._v("Minimum Received")]),t._v(" "),t.fromCoinAmount&&!t.exchange?n("div",[t._v(t._s(t.minimumReceived)+" "+t._s(t.toCoin.symbol))]):t._e(),t._v(" "),t.exchange?n("Spin",{attrs:{size:"small"}}):t._e()],1):t._e(),t._v(" "),t.fromCoinAmount&&t.lpFee1?n("li",[n("span",[t._v("Fees paid to "+t._s(t.lpFee1.platform)+" LP")]),t._v(" "),t.exchange?t._e():n("div",[t._v("\n        "+t._s(t.lpFee1.amount)+"\n        "+t._s(t.lpFee1.symbol)+"\n        ("+t._s(t.decimalFormat(t.lpFee1.pct,2))+"%)\n      ")]),t._v(" "),t.exchange?n("Spin",{attrs:{size:"small"}}):t._e()],1):t._e(),t._v(" "),t.fromCoinAmount&&t.lpFee2?n("li",[n("span",[t._v("Fees paid to "+t._s(t.lpFee2.platform)+" LP")]),t._v(" "),t.exchange?t._e():n("div",[t._v("\n        "+t._s(t.lpFee2.amount)+"\n        "+t._s(t.lpFee2.symbol)+"\n        ("+t._s(t.lpFee2.pct)+"%)\n      ")]),t._v(" "),t.exchange?n("Spin",{attrs:{size:"small"}}):t._e()],1):t._e(),t._v(" "),n("li",[n("span",[t._v("Transaction Fee")]),t._v(" "),t.transactionFee&&!t.exchange?n("div",[t._v(t._s(t.transactionFee)+" SOL")]):n("Spin",{attrs:{size:"small"}})],1),t._v(" "),t.fromCoinAmount&&(t.ataDeposit||t.openOrdersAccountDeposits)?n("li",[n("span",[t._v("Deposit")]),t._v(" "),t.exchange?t._e():n("div",{staticClass:"deposit-right"},[t.ataDeposit?n("p",[t._v(t._s(t.ataDeposit)+" SOL for "+t._s(t.ataAccountLength)+" ATA account")]):t._e(),t._v(" "),t.openOrdersAccountDeposits?n("p",[t._v("\n          "+t._s(t.openOrdersAccountDeposits)+" SOL for "+t._s(t.openOrdersAccountLength)+"\n          "+t._s(t.openOrdersAccountsNames)+" OpenOrders account\n        ")]):t._e()]),t._v(" "),t.exchange?n("Spin",{attrs:{size:"small"}}):t._e()],1):t._e()])])}),[],!1,null,"7581b1ec",null);n.default=component.exports}}]);