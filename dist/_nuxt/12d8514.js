(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1797:function(e,t,o){var content=o(1817);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(102).default)("67675833",content,!0,{sourceMap:!1})},1810:function(e,t,o){"use strict";o.r(t);o(1798);var n=o(1799),r=o.n(n),c=o(29).default.extend({components:{Tooltip:r.a},props:["currentStatus"]}),l=(o(1816),o(103)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Tooltip",{attrs:{"overlay-class-name":"customize-tooltip"}},[o("template",{slot:"title"},["Active"===e.currentStatus?o("div",{staticClass:"active-tooltip"},[e._v("\n      The price of this pool is currently within your position price range.\n    ")]):e._e(),e._v(" "),"Inactive"===e.currentStatus?o("div",{staticClass:"active-tooltip"},[e._v("\n      The price of this pool is currently out of your position price range.\n    ")]):e._e()]),e._v(" "),o("div",{staticClass:"deta-block-status"},["Closed"===e.currentStatus?o("div",[o("span",[e._v("Closed")])]):"Active"===e.currentStatus?o("div",[o("i",{staticClass:"circle"}),e._v(" "),o("span",[e._v(e._s(e.currentStatus))])]):o("div",[o("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[o("use",{attrs:{"xlink:href":"#icon-icon-tips"}})]),e._v(" "),o("span",[e._v(e._s(e.currentStatus))])])])],2)}),[],!1,null,"01a92700",null);t.default=component.exports},1816:function(e,t,o){"use strict";o(1797)},1817:function(e,t,o){var n=o(101)(!1);n.push([e.i,".deta-block-status[data-v-01a92700]{cursor:pointer;height:28px;justify-content:space-around;background:hsla(0,0%,100%,.1);border-radius:8px;text-align:center;padding:0 12px}.deta-block-status[data-v-01a92700],.deta-block-status div[data-v-01a92700]{display:flex;align-items:center}.deta-block-status .circle[data-v-01a92700]{display:block;width:6px;height:6px;background:#00ff4d;border-radius:50%}.deta-block-status svg[data-v-01a92700]{width:20px;height:20px;fill:#fff}.deta-block-status span[data-v-01a92700]{font-size:14px;font-weight:700;margin-left:8px}@media screen and (max-width:750px){.coin-block .input-block input[data-v-01a92700]{width:100px}}",""]),e.exports=n},1895:function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return j})),o.d(t,"b",(function(){return K})),o.d(t,"c",(function(){return M}));o(190);var n=o(39),r=o(19),c=o(20),l=o(378),d=o(75),y=o(122),k=o(55),f=(o(67),o(36),o(188),o(111),o(76),o(89),o(334),o(47)),m=o.n(f),w=o(22),_=o(16),A=o.n(_),T=o(33),h=o(0),v=o(83),S=o(30),I=o(93),x=o(212);function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(k.a)(e);if(t){var r=Object(k.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(y.a)(this,o)}}var B=function(e,t,o,n){return new(o||(o=Promise))((function(r,c){function l(e){try{y(n.next(e))}catch(e){c(e)}}function d(e){try{y(n.throw(e))}catch(e){c(e)}}function y(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(l,d)}y((n=n.apply(e,t||[])).next())}))},P=(new h.Account([145,101,210,147,165,195,23,69,182,224,218,4,144,61,168,176,20,187,204,236,117,88,182,47,231,219,50,169,28,175,124,100,103,10,24,183,209,36,230,201,249,29,188,155,200,187,54,151,203,137,135,31,160,75,250,72,225,22,173,88,38,147,165,53]),function(t){Object(d.a)(y,t);var o=W(y);function y(){return Object(r.a)(this,y),o.apply(this,arguments)}return Object(c.a)(y,[{key:"toBuffer",value:function(){var a=Object(l.a)(Object(k.a)(y.prototype),"toArray",this).call(this).reverse(),b=e.from(a);if(16===b.length)return b;m()(b.length<16,"Numberu128 too large");var t=e.alloc(16);return b.copy(t),t}}],[{key:"fromBuffer",value:function(e){return m()(16===e.length,"Invalid buffer length: ".concat(e.length)),new y(Object(n.a)(e).reverse().map((function(i){return"00".concat(i.toString(16)).slice(-2)})).join(""),16)}}]),y}(A.a));w.struct([T.b("nft_token_id"),w.s32("lower_tick"),w.s32("upper_tick"),T.c("liquity"),T.c("fee_growth_inside_a_last"),T.c("fee_growth_inside_b_last"),T.c("token_a_fee"),T.c("token_b_fee")]);function N(e,t){for(var i=0;i<t.length;i++)for(var o=t[i].user_positions.length,n=t[i].pubkey,r=t[i].user_positions,c=0;c<o;c++)if(r[c].nft_token_id.equals(e))return console.log("there already exist deposit user ",e.toString()),{index:c,user_position_pubkey:n};return{index:0}}function L(e){for(var i=0;i<e.length;i++){if(e[i].user_positions.length<36e4)return e[i].pubkey}return null}function j(e,t,o,n,r,c,l,d,y,k,f,m,w,_,A,T,W){return B(this,void 0,void 0,regeneratorRuntime.mark((function B(){var P,j,K,C,M,R,E,z,J,$,D,F,G,H,Q,U,V,X,Y,Z,ee,te;return regeneratorRuntime.wrap((function(B){for(;;)switch(B.prev=B.next){case 0:if(console.log("addLiquidityNew####poolInfo###",o),console.log("addLiquidityNew####fromCoin###",n),console.log("addLiquidityNew####toCoin###",r),console.log("addLiquidityNew####connection###",e),console.log("addLiquidityNew####wallet###",t),console.log("addLiquidityNew###userAccountA###",c),console.log("addLiquidityNew###userAccountB###",l),console.log("addLiquidityNew###user_mint_pubkey###",d),console.log("addLiquidityNew###user_nft_pubkey###",y),console.log("addLiquidityNew###tick_lower###",k),console.log("addLiquidityNew###tick_upper###",f),console.log("addLiquidityNew###liquity_mount###",m),console.log("addLiquidityNew###maximumTokenA###",w),console.log("addLiquidityNew###maximumTokenB###",_),e&&t){B.next=16;break}throw new Error("Miss connection");case 16:if(o){B.next=18;break}throw new Error("Miss pool infomations");case 18:if(P=new h.Transaction,j=[],K=t.publicKey,console.log("userAccountA####",c),C=[new h.PublicKey(c),new h.PublicKey(l)],M=[w,_],R=[T,W],o.coin.mintAddress===(null==r?void 0:r.mintAddress)&&o.pc.mintAddress===(null==n?void 0:n.mintAddress)&&(console.log("是进到这里了吗####"),M.reverse(),R.reverse()),C[0],C[1],console.log("poolInfo.coin.decimals####",o.coin.decimals),console.log("poolInfo.pc.decimals####",o.pc.decimals),console.log("userAmounts#######",M),M[0]&&(E=M[0],z=R[0]),M[1]&&(J=M[1],$=R[1]),console.log("addLiquidityNew###coinAmount####",E),console.log("addLiquidityNew###pcAmount####",J),console.log("addLiquidityNew###coinBalance####",E),console.log("addLiquidityNew###pcBalance####",$),o.coin.mintAddress!==v.b.mintAddress){B.next=41;break}return B.next=40,Object(I.d)(e,D,K,v.e.mintAddress,Number(E)>Number(z)?Number(z)-1e6:Number(E),P,j);case 40:D=B.sent;case 41:if(o.pc.mintAddress!==v.b.mintAddress){B.next=45;break}return B.next=44,Object(I.d)(e,F,K,v.e.mintAddress,Number(J)>Number($)?Number($)-1e6:Number(J),P,j);case 44:F=B.sent;case 45:if(console.log("wrappedCoinSolAccount@@@@@",D&&D.toString()),console.log("wrappedSolAccount@@@@@",F&&F.toString()),console.log("signers###",j),Q=0,U=K,null!=d?(null==(G=N(d,o.user_position_account_array)).user_position_pubkey&&console.log("deposite old user: %s, but can't find in user position",null==d?void 0:d.toString()),H=G.user_position_pubkey,Q=G.index):H=L(o.user_position_account_array),0!==A||null==H){B.next=72;break}return B.next=54,S.g.createMintInstruction(e,t,o.authority);case 54:return V=B.sent,X=V.mintTrans,Y=V.mintAccount,B.next=59,S.g.createAccountInstruction(e,K,Y.publicKey,t);case 59:Z=B.sent,ee=Z.nftAccountInstruction,te=Z.nft_account,d=Y.publicKey,y=te.publicKey,P.add(X),P.add(ee),j.push(Y),j.push(te),P.add(O(o.tokenSwap,o.authority,U,D||c,F||l,o.tokenAccountA,o.tokenAccountB,d,y,o.tick_detail_key,H,o.swapProgramId,o.tokenProgramId,A,k,f,m,E,J,0)),console.log("the tick_detail_key is ",o.tick_detail_key.toString(),"the user position key ",H.toString()),B.next=73;break;case 72:null!=d&&null!=y&&null!=H&&P.add(O(o.tokenSwap,o.authority,U,D||c,F||l,o.tokenAccountA,o.tokenAccountB,d,new h.PublicKey(y),o.tick_detail_key,H,o.swapProgramId,o.tokenProgramId,A,k,f,m,E,J,Q));case 73:return D&&P.add(Object(x.closeAccount)({source:D,destination:K,owner:K})),F&&P.add(Object(x.closeAccount)({source:F,destination:K,owner:K})),B.next=77,Object(I.g)(e,t,P,j);case 77:return B.abrupt("return",B.sent);case 78:case"end":return B.stop()}}),B)})))}function O(t,o,n,r,c,l,d,y,k,f,m,_,A,v,I,x,W,B,N,L){console.log("@test####depositAllTokenTypesInstruction###tokenSwap###",t),console.log("@test####depositAllTokenTypesInstruction###authority###",o),console.log("@test####depositAllTokenTypesInstruction###userTransferAuthority###",n),console.log("@test####depositAllTokenTypesInstruction###sourceA###",r),console.log("@test####depositAllTokenTypesInstruction###sourceB###",c),console.log("@test####depositAllTokenTypesInstruction###intoA###",l),console.log("@test####depositAllTokenTypesInstruction###intoB###",d),console.log("@test####depositAllTokenTypesInstruction###nft_mint_pubkey###",y),console.log("@test####depositAllTokenTypesInstruction###user_nft_pubkey###",k),console.log("@test####depositAllTokenTypesInstruction###tick_info_key###",f),console.log("@test####depositAllTokenTypesInstruction###user_postion_key###",m),console.log("@test####depositAllTokenTypesInstruction###swapProgramId###",_),console.log("@test####depositAllTokenTypesInstruction###tokenProgramId###",A),console.log("depositAllTokenTypesInstruction###tokenSwap###",t.toString()),console.log("depositAllTokenTypesInstruction###authority###",o.toString()),console.log("depositAllTokenTypesInstruction###userTransferAuthority###",n.toString()),console.log("depositAllTokenTypesInstruction###sourceA###",r.toString()),console.log("depositAllTokenTypesInstruction###sourceB###",c.toString()),console.log("depositAllTokenTypesInstruction###intoA###",l.toString()),console.log("depositAllTokenTypesInstruction###intoB###",d.toString()),console.log("depositAllTokenTypesInstruction###nft_mint_pubkey###",y.toString()),console.log("depositAllTokenTypesInstruction###user_nft_pubkey###",k.toString()),console.log("depositAllTokenTypesInstruction###tick_info_key###",f.toString()),console.log("depositAllTokenTypesInstruction###user_postion_key###",m.toString()),console.log("depositAllTokenTypesInstruction###swapProgramId###",_.toString()),console.log("depositAllTokenTypesInstruction###tokenProgramId###",A.toString()),console.log("depositAllTokenTypesInstruction###new_position###",v),console.log("depositAllTokenTypesInstruction###tick_lower###",I),console.log("depositAllTokenTypesInstruction###tick_upper###",x),console.log("depositAllTokenTypesInstruction###liquity_amount###",W),console.log("depositAllTokenTypesInstruction###maximumTokenA###",B),console.log("depositAllTokenTypesInstruction###maximumTokenB###",N),console.log("depositAllTokenTypesInstruction###user_position_index###",L);var j=w.struct([w.u8("instruction"),w.u8("new_position"),T.c("liquity_amount"),w.s32("tick_lower"),w.s32("tick_upper"),T.d("maximumTokenA"),T.d("maximumTokenB"),T.d("user_position_index")]),data=e.alloc(j.span);j.encode({instruction:2,new_position:v,liquity_amount:new P(String(W)).toBuffer(),tick_lower:I,tick_upper:x,maximumTokenA:new S.d(B).toBuffer(),maximumTokenB:new S.d(N).toBuffer(),user_position_index:new S.d(L).toBuffer()},data);var O=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!1}];return new h.TransactionInstruction({keys:O,programId:_,data:data})}function K(e,t,o,n,r,c,l){return B(this,void 0,void 0,regeneratorRuntime.mark((function d(){var y,k,f,m,w,_,A,T,S,x,W;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(e&&t){d.next=2;break}throw new Error("Miss connection");case 2:if(n&&r&&o.tokenSwapAccount){d.next=4;break}throw new Error("Miss account infomations");case 4:if(y=new h.Transaction,k=[],f=t.publicKey,m=[new h.PublicKey(n),new h.PublicKey(r)],w=m[0],_=m[1],S=0,null!=c?(null==(A=N(c,o.user_position_account_array)).user_position_pubkey&&console.log("deposite old user: %s, but can't find in user position",null==c?void 0:c.toString()),T=A.user_position_pubkey,S=A.index):T=L(o.user_position_account_array),o.coin.mintAddress!==v.b.mintAddress){d.next=16;break}return d.next=15,Object(I.d)(e,x,f,v.e.mintAddress,null,y,k);case 15:x=d.sent;case 16:if(o.pc.mintAddress!==v.b.mintAddress){d.next=20;break}return d.next=19,Object(I.d)(e,W,f,v.e.mintAddress,null,y,k);case 19:W=d.sent;case 20:return c&&T&&l&&y.add(C(o.tokenSwap,o.authority,f,new h.PublicKey(o.poolCoinTokenAccount),new h.PublicKey(o.poolPcTokenAccount),x||w,W||_,c,new h.PublicKey(l),o.tick_detail_key,T,o.swapProgramId,o.tokenProgramId,S)),d.next=23,Object(I.g)(e,t,y,k);case 23:return d.abrupt("return",d.sent);case 24:case"end":return d.stop()}}),d)})))}function C(t,o,n,r,c,l,d,y,k,f,m,_,A,v){var I=w.struct([w.u8("instruction"),T.d("user_position_index")]),data=e.alloc(I.span);I.encode({instruction:4,user_position_index:new S.d(v).toBuffer()},data);var x=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!1}];return new h.TransactionInstruction({keys:x,programId:_,data:data})}function M(e,t,o,n,r,c,l,d,y,k,f,m){return B(this,void 0,void 0,regeneratorRuntime.mark((function w(){var _,A,T,S,W,B,P,j,O,K,C,M,E,z;return regeneratorRuntime.wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(console.log("removeLiquidity###connection###",e),console.log("removeLiquidity###wallet###",t),console.log("removeLiquidity###poolInfo###",o),console.log("removeLiquidity###fromCoinAccount###",c),console.log("removeLiquidity###toCoinAccount###",l),console.log("removeLiquidity###fromCoin###",d),console.log("removeLiquidity###toCoin###",y),console.log("removeLiquidity###fromAmount###",k),console.log("removeLiquidity###toAmount###",f),console.log("removeLiquidity###liquityAmount###",m),e&&t){w.next=12;break}throw new Error("Miss connection");case 12:if(o&&d&&y){w.next=14;break}throw new Error("Miss pool infomations");case 14:if(c&&l&&o.tokenSwapAccount){w.next=16;break}throw new Error("Miss account infomations");case 16:if(m){w.next=18;break}throw new Error("Miss liquityAmount");case 18:if(_=new h.Transaction,A=[],T=t.publicKey,S=[new h.PublicKey(c),new h.PublicKey(l)],W=[k,f],o.coin.mintAddress===y.mintAddress&&o.pc.mintAddress===d.mintAddress&&(S.reverse(),W.reverse()),B=S[0],P=S[1],W[0]&&(j=Number(W[0])),W[1]&&(O=Number(W[1])),o.coin.mintAddress!==v.b.mintAddress){w.next=32;break}return w.next=31,Object(I.d)(e,K,T,v.e.mintAddress,null,_,A);case 31:K=w.sent;case 32:if(o.pc.mintAddress!==v.b.mintAddress){w.next=36;break}return w.next=35,Object(I.d)(e,C,T,v.e.mintAddress,null,_,A);case 35:C=w.sent;case 36:return z=0,null!=n?(null==(M=N(n,o.user_position_account_array)).user_position_pubkey&&console.log("deposite old user: %s, but can't find in user position",null==n?void 0:n.toString()),E=M.user_position_pubkey,z=M.index):E=L(o.user_position_account_array),E&&n&&r&&_.add(R(o.tokenSwap,o.authority,T,new h.PublicKey(o.poolCoinTokenAccount),new h.PublicKey(o.poolPcTokenAccount),K||B,C||P,n,new h.PublicKey(r),o.tick_detail_key,E,o.swapProgramId,o.tokenProgramId,m,j?Math.floor(j)-10:0,O?Math.floor(O)-10:0,z)),K&&_.add(Object(x.closeAccount)({source:K,destination:T,owner:T})),C&&_.add(Object(x.closeAccount)({source:C,destination:T,owner:T})),w.next=43,Object(I.g)(e,t,_,A);case 43:return w.abrupt("return",w.sent);case 44:case"end":return w.stop()}}),w)})))}function R(t,o,n,r,c,l,d,y,k,f,m,_,A,v,I,x,W){console.log("到这了了了了了"),console.log("withdrawAllTokenTypesInstruction###tokenSwap###",t),console.log("withdrawAllTokenTypesInstruction###authority###",o),console.log("withdrawAllTokenTypesInstruction###userTransferAuthority###",n),console.log("withdrawAllTokenTypesInstruction###fromA###",r),console.log("withdrawAllTokenTypesInstruction###fromB###",c),console.log("withdrawAllTokenTypesInstruction###userAccountA###",l),console.log("withdrawAllTokenTypesInstruction###userAccountB###",d),console.log("withdrawAllTokenTypesInstruction###nft_mint_pubkey###",y.toString()),console.log("withdrawAllTokenTypesInstruction###user_nft_pubkey###",k.toString()),console.log("withdrawAllTokenTypesInstruction###tick_info_key###",f.toString()),console.log("withdrawAllTokenTypesInstruction###user_postion_key###",m.toString()),console.log("withdrawAllTokenTypesInstruction###swapProgramId###",_),console.log("withdrawAllTokenTypesInstruction###tokenProgramId###",A),console.log("withdrawAllTokenTypesInstruction###liquityAmount###",v),console.log("withdrawAllTokenTypesInstruction###minimumTokenA###",I),console.log("withdrawAllTokenTypesInstruction###minimumTokenB###",x),console.log("withdrawAllTokenTypesInstruction###user_position_index###",W);var B=w.struct([w.u8("instruction"),T.c("liquityAmount"),T.d("minimumTokenA"),T.d("minimumTokenB"),T.d("user_position_index")]),data=e.alloc(B.span);B.encode({instruction:3,liquityAmount:new P(v).toBuffer(),minimumTokenA:new S.d(I).toBuffer(),minimumTokenB:new S.d(x).toBuffer(),user_position_index:new S.d(W).toBuffer()},data);var N=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!1}];return new h.TransactionInstruction({keys:N,programId:_,data:data})}}).call(this,o(5).Buffer)}}]);