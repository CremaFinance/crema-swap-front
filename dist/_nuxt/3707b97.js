(window.webpackJsonp=window.webpackJsonp||[]).push([[35,23,25,29,31,36],{1176:function(e,t,n){var content=n(1201);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(51).default)("42feb4b2",content,!0,{sourceMap:!1})},1177:function(e,t,n){var content=n(1203);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(51).default)("1f87f313",content,!0,{sourceMap:!1})},1179:function(e,t,n){var content=n(1210);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(51).default)("4ad56dde",content,!0,{sourceMap:!1})},1180:function(e,t,n){var content=n(1212);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(51).default)("15e1582e",content,!0,{sourceMap:!1})},1200:function(e,t,n){"use strict";n(1176)},1201:function(e,t,n){var o=n(50)(!1);o.push([e.i,".waiting-container[data-v-73101c4d]{text-align:center}.waiting-container img[data-v-73101c4d]{width:56px;height:56px;margin-top:60px;margin-bottom:47px}.waiting-container .waiting-title[data-v-73101c4d]{font-size:14px;color:#fff;margin-bottom:20px}.waiting-container .waiting-text[data-v-73101c4d]{font-size:14px;color:hsla(0,0%,100%,.75)}",""]),e.exports=o},1202:function(e,t,n){"use strict";n(1177)},1203:function(e,t,n){var o=n(50)(!1);o.push([e.i,".waiting-container[data-v-42df0c8c]{text-align:center}.waiting-container img[data-v-42df0c8c]{width:64px;height:64px;margin-top:59px;margin-bottom:25px}.waiting-container .waiting-title[data-v-42df0c8c]{font-size:14px;color:#fff}.waiting-container .waiting-text[data-v-42df0c8c]{font-size:14px;color:#07ebad}",""]),e.exports=o},1204:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return $})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return D}));n(109);var o=n(8),r=n(113),c=n(22),l=n(32),d=n(252),f=n(37),m=n(58),h=n(24),v=(n(33),n(214),n(126),n(59),n(27),n(84),n(96),n(186),n(10)),x=n.n(v),C=n(1),y=n(40),w=n.n(y),k=n(18),P=n(9),_=n(4),A=n(68),O=n(267),j=n(16),S=n(38),M=n(44),T=n(154),L=n(374),K=n(26);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;Reflect.construct(o,arguments,r)}else o.apply(this,arguments);return Object(m.a)(this,n)}}var N=new _.Account([145,101,210,147,165,195,23,69,182,224,218,4,144,61,168,176,20,187,204,236,117,88,182,47,231,219,50,169,28,175,124,100,103,10,24,183,209,36,230,201,249,29,188,155,200,187,54,151,203,137,135,31,160,75,250,72,225,22,173,88,38,147,165,53]);Object(C.struct)([Object(P.u64)("status"),Object(P.u64)("nonce"),Object(P.u64)("orderNum"),Object(P.u64)("depth"),Object(P.u64)("coinDecimals"),Object(P.u64)("pcDecimals"),Object(P.u64)("state"),Object(P.u64)("resetFlag"),Object(P.u64)("minSize"),Object(P.u64)("volMaxCutRatio"),Object(P.u64)("amountWaveRatio"),Object(P.u64)("coinLotSize"),Object(P.u64)("pcLotSize"),Object(P.u64)("minPriceMultiplier"),Object(P.u64)("maxPriceMultiplier"),Object(P.u64)("systemDecimalsValue"),Object(P.u64)("minSeparateNumerator"),Object(P.u64)("minSeparateDenominator"),Object(P.u64)("tradeFeeNumerator"),Object(P.u64)("tradeFeeDenominator"),Object(P.u64)("pnlNumerator"),Object(P.u64)("pnlDenominator"),Object(P.u64)("swapFeeNumerator"),Object(P.u64)("swapFeeDenominator"),Object(P.u64)("needTakePnlCoin"),Object(P.u64)("needTakePnlPc"),Object(P.u64)("totalPnlPc"),Object(P.u64)("totalPnlCoin"),Object(P.u128)("poolTotalDepositPc"),Object(P.u128)("poolTotalDepositCoin"),Object(P.u128)("swapCoinInAmount"),Object(P.u128)("swapPcOutAmount"),Object(P.u64)("swapCoin2PcFee"),Object(P.u128)("swapPcInAmount"),Object(P.u128)("swapCoinOutAmount"),Object(P.u64)("swapPc2CoinFee"),Object(P.publicKey)("poolCoinTokenAccount"),Object(P.publicKey)("poolPcTokenAccount"),Object(P.publicKey)("coinMintAddress"),Object(P.publicKey)("pcMintAddress"),Object(P.publicKey)("lpMintAddress"),Object(P.publicKey)("ammOpenOrders"),Object(P.publicKey)("serumMarket"),Object(P.publicKey)("serumProgramId"),Object(P.publicKey)("ammTargetOrders"),Object(P.publicKey)("poolWithdrawQueue"),Object(P.publicKey)("poolTempLpTokenAccount"),Object(P.publicKey)("ammOwner"),Object(P.publicKey)("pnlOwner")]),w.a,C.struct([k.b("nft_token_id"),C.s32("lower_tick"),C.s32("upper_tick"),k.c("liquity"),k.c("fee_growth_inside_a_last"),k.c("fee_growth_inside_b_last"),k.c("token_a_fee"),k.c("token_b_fee")]);function $(e,t,n,o,r,c,l,d,f,m,h,v,x,C){return W.apply(this,arguments)}function W(){return(W=Object(o.a)(regeneratorRuntime.mark((function e(t,n,o,r,c,l,d,f,m,h,v,x,C,y){var w,k,P,O,I,N,$,W,F,E,B,data,D,z,H,U,V;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("addLiquidity###connection###",t),console.log("addLiquidity###wallet###",n),console.log("addLiquidity###poolInfo###",o),console.log("addLiquidity###nftMintToken###",r),console.log("addLiquidity###userNftPubkey###",c),console.log("addLiquidity###fromCoinAccount###",l),console.log("addLiquidity###toCoinAccount###",d),console.log("addLiquidity###fromCoin###",f),console.log("addLiquidity###toCoin###",m),console.log("addLiquidity###fromAmount###",h),console.log("addLiquidity###toAmount###",v),console.log("addLiquidity###tick_lower###",x),console.log("addLiquidity###tick_upper###",C),console.log("addLiquidity###liquityAmount###",y),t&&n){e.next=16;break}throw new Error("Miss connection");case 16:if(o&&f&&m){e.next=18;break}throw new Error("Miss pool infomations");case 18:if(l&&d&&o.tokenSwapAccount){e.next=20;break}throw new Error("Miss account infomations");case 20:if(c){e.next=22;break}throw new Error("Miss userNftPubkey");case 22:if(r){e.next=24;break}throw new Error("Miss nftMintToken");case 24:if(y){e.next=26;break}throw new Error("Miss liquityAmount");case 26:if(w=new _.Transaction,k=[],P=n.publicKey,O=[new _.PublicKey(l),new _.PublicKey(d)],I=[h,v],o.coin.mintAddress===m.mintAddress&&o.pc.mintAddress===f.mintAddress&&(O.reverse(),I.reverse()),N=O[0],$=O[1],I[0]&&(W=new M.a(I[0],o.coin.decimals,!1).wei.toNumber()),I[1]&&(F=new M.a(I[1],o.pc.decimals,!1).wei.toNumber()),o.coin.mintAddress!==A.b.mintAddress){e.next=40;break}return e.next=39,Object(S.d)(t,E,P,A.d.WSOL.mintAddress,W+1e7,w,k);case 39:E=e.sent;case 40:if(o.pc.mintAddress!==A.b.mintAddress){e.next=44;break}return e.next=43,Object(S.d)(t,B,P,A.d.WSOL.mintAddress,F+1e7,w,k);case 43:B=e.sent;case 44:return e.next=46,Object(T.a)(t,new _.PublicKey(o.tokenSwapAccount),K.f);case 46:return data=e.sent,D=j.e.decode(data),z=D.user_position_index,e.next=51,j.f.getUserPositionIdx(t,new _.PublicKey(o.userPositionKey),c,K.f,z);case 51:return H=e.sent,U=H.index,V=H.new_flag,w.add(R(new _.PublicKey(o.tokenSwapAccount),new _.PublicKey(o.authority),P,E||N,B||$,new _.PublicKey(o.poolCoinTokenAccount),new _.PublicKey(o.poolPcTokenAccount),r,c,new _.PublicKey(o.tickDetailKey),new _.PublicKey(o.userPositionKey),new _.PublicKey(o.tokenSwapToken),new _.PublicKey(o.programId),V,x,C,y,W?Math.ceil(W):0,F?Math.ceil(F):0,U)),E&&w.add(Object(L.closeAccount)({source:E,destination:P,owner:P})),B&&w.add(Object(L.closeAccount)({source:B,destination:P,owner:P})),e.next=59,Object(S.g)(t,n,w,k);case 59:return e.abrupt("return",e.sent);case 60:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(t,n,o,r,c,l,d,f,m,h,v,x,y,w,P,A,O,S,M,T){console.log("depositAllTokenTypesInstruction###tick_lower###",P),console.log("depositAllTokenTypesInstruction####tick_upper###",A),console.log("depositAllTokenTypesInstruction####maximumTokenA###",S),console.log("depositAllTokenTypesInstruction###maximumTokenB###",M),console.log("depositAllTokenTypesInstruction###new_position######",w),console.log("depositAllTokenTypesInstruction###liquity_amount######",O),console.log("depositAllTokenTypesInstruction###tick_lower######",P),console.log("depositAllTokenTypesInstruction###tick_upper######",A),console.log("depositAllTokenTypesInstruction###maximumTokenA######",S),console.log("depositAllTokenTypesInstruction###maximumTokenB######",M),console.log("depositAllTokenTypesInstruction###user_position_index######",T);var L=C.struct([C.u8("instruction"),C.u8("new_position"),k.d("liquity_amount"),C.s32("tick_lower"),C.s32("tick_upper"),k.d("maximumTokenA"),k.d("maximumTokenB"),k.d("user_position_index")]),data=e.alloc(L.span),K=String(O).split(".")[0];console.log("depositAllTokenTypesInstruction###lq#######",K),L.encode({instruction:2,new_position:w,liquity_amount:new j.b(K).toBuffer(),tick_lower:P,tick_upper:A,maximumTokenA:new j.b(S).toBuffer(),maximumTokenB:new j.b(M).toBuffer(),user_position_index:new j.b(T).toBuffer()},data);var I=L.decode(data);console.log("test####",I);var N=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1}];return new _.TransactionInstruction({keys:N,programId:x,data:data})}function F(e,t,n,o,r){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(regeneratorRuntime.mark((function e(t,n,o,r,c){var l,d,f,m,h,v,data,x,C,y,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}throw new Error("Miss connection");case 2:if(r&&c&&o.tokenSwapAccount){e.next=4;break}throw new Error("Miss account infomations");case 4:return l=new _.Transaction,d=[],f=n.publicKey,m=[new _.PublicKey(r),new _.PublicKey(c)],h=m[0],v=m[1],e.next=12,Object(T.a)(t,new _.PublicKey(o.tokenSwapAccount),K.f);case 12:return data=e.sent,x=j.e.decode(data),C=x.user_position_index,e.next=17,j.f.getUserPositionIdx(t,new _.PublicKey(o.userPositionKey),o.nft_token_id,K.f,C);case 17:return y=e.sent,w=y.index,y.new_flag,l.add(B(new _.PublicKey(o.tokenSwapAccount),new _.PublicKey(o.authority),f,new _.PublicKey(o.poolCoinTokenAccount),new _.PublicKey(o.poolPcTokenAccount),h,v,o.nft_token_id,new _.PublicKey(o.tickDetailKey),new _.PublicKey(o.userPositionKey),new _.PublicKey(o.tokenSwapToken),new _.PublicKey(o.programId),w)),e.next=23,Object(S.g)(t,n,l,d);case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(t,n,o,r,c,l,d,f,m,h,v,x,y){var w=C.struct([C.u8("instruction"),k.d("user_position_index")]),data=e.alloc(w.span);w.encode({instruction:4,user_position_index:new j.b(y).toBuffer()},data);var P=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!1}];return new _.TransactionInstruction({keys:P,programId:v,data:data})}function D(e,t,n,o,r,c,l,d,f,m,h,v){return z.apply(this,arguments)}function z(){return(z=Object(o.a)(regeneratorRuntime.mark((function e(t,n,o,r,c,l,d,f,m,h,v,x){var C,y,w,k,P,I,$,W,R,F,E,data,B,D,z,U,V;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("removeLiquidity###connection###",t),console.log("removeLiquidity###wallet###",n),console.log("removeLiquidity###poolInfo###",o),console.log("removeLiquidity###nftMintToken###",r),console.log("removeLiquidity###userNftPubkey###",c),console.log("removeLiquidity###fromCoinAccount###",l),console.log("removeLiquidity###toCoinAccount###",d),console.log("removeLiquidity###fromCoin###",f),console.log("removeLiquidity###toCoin###",m),console.log("removeLiquidity###fromAmount###",h),console.log("removeLiquidity###toAmount###",v),console.log("removeLiquidity###liquityAmount###",x),t&&n){e.next=14;break}throw new Error("Miss connection");case 14:if(o&&f&&m){e.next=16;break}throw new Error("Miss pool infomations");case 16:if(l&&d&&o.tokenSwapAccount){e.next=18;break}throw new Error("Miss account infomations");case 18:if(c){e.next=20;break}throw new Error("Miss userNftPubkey");case 20:if(r){e.next=22;break}throw new Error("Miss nftMintToken");case 22:if(x){e.next=24;break}throw new Error("Miss liquityAmount");case 24:if(C=new _.Transaction,y=[],w=n.publicKey,k=[new _.PublicKey(l),new _.PublicKey(d)],P=[h,v],o.coin.mintAddress===m.mintAddress&&o.pc.mintAddress===f.mintAddress&&(k.reverse(),P.reverse()),I=k[0],$=k[1],P[0]&&(W=new M.a(P[0],o.coin.decimals,!1).wei.toNumber()),P[1]&&(R=new M.a(P[1],o.pc.decimals,!1).wei.toNumber()),o.coin.mintAddress!==A.b.mintAddress){e.next=38;break}return e.next=37,Object(S.d)(t,F,w,A.d.WSOL.mintAddress,W+1e7,C,y);case 37:F=e.sent;case 38:if(o.pc.mintAddress!==A.b.mintAddress){e.next=42;break}return e.next=41,Object(S.d)(t,E,w,A.d.WSOL.mintAddress,R+1e7,C,y);case 41:E=e.sent;case 42:return e.next=44,Object(T.a)(t,new _.PublicKey(o.tokenSwapAccount),K.f);case 44:return data=e.sent,B=j.e.decode(data),D=B.user_position_index,e.next=49,j.f.getUserPositionIdx(t,new _.PublicKey(o.userPositionKey),c,K.f,D);case 49:return z=e.sent,U=z.index,z.new_flag,V=new O.b(t,r,O.a,N),C.add(H(new _.PublicKey(o.tokenSwapAccount),new _.PublicKey(o.authority),w,new _.PublicKey(o.poolCoinTokenAccount),new _.PublicKey(o.poolPcTokenAccount),F||I,E||$,V.publicKey,c,new _.PublicKey(o.tickDetailKey),new _.PublicKey(o.userPositionKey),new _.PublicKey(o.tokenSwapToken),new _.PublicKey(o.programId),Math.floor(x),W?Math.floor(W):0,R?Math.floor(R):0,U)),F&&C.add(Object(L.closeAccount)({source:F,destination:w,owner:w})),E&&C.add(Object(L.closeAccount)({source:E,destination:w,owner:w})),e.next=58,Object(S.g)(t,n,C,y);case 58:return e.abrupt("return",e.sent);case 59:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(t,n,o,r,c,l,d,f,m,h,v,x,y,w,P,A,O){var S=C.struct([C.u8("instruction"),k.d("liquity_amount"),k.d("minimumTokenA"),k.d("minimumTokenB"),k.d("user_position_index")]),data=e.alloc(S.span);S.encode({instruction:3,liquity_amount:new j.b(w).toBuffer(),minimumTokenA:new j.b(P).toBuffer(),minimumTokenB:new j.b(A).toBuffer(),user_position_index:new j.b(O).toBuffer()},data),console.log("nft_mint_pubkey##string####",f.toString()),console.log("user_nft_pubkey##string####",m.toString());var M=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1}];return new _.TransactionInstruction({keys:M,programId:x,data:data})}}).call(this,n(5).Buffer)},1205:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));n(558),n(96),n(84),n(141);var o=RegExp("^\\d*(?:\\\\[.])?\\d*$");function r(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},1206:function(e,t,n){var content=n(1237);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(51).default)("157474bc",content,!0,{sourceMap:!1})},1209:function(e,t,n){"use strict";n(1179)},1210:function(e,t,n){var o=n(50)(!1);o.push([e.i,".gradient-btn-large[data-v-10d90206]{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:none;color:#fff}.gradient-btn-large[data-v-10d90206]:hover{background:linear-gradient(214deg,#a4fff0,#8996ff 61%,#c9c0ff 76%,#f1c3ff)}.gradient-btn-large[data-v-10d90206]:disabled{cursor:not-allowed}.gradient-btn-large[data-v-10d90206]:disabled,.gradient-btn-large[data-v-10d90206]:disabled:hover{background:hsla(0,0%,100%,.1)}.set-price-range[data-v-10d90206]{margin-top:20px;position:relative}.set-price-range>h3[data-v-10d90206]{font-size:14px;color:#fff}.set-price-range .set-form-box[data-v-10d90206]{width:100%;display:flex;justify-content:space-between}.set-price-range .set-form-box .max-price[data-v-10d90206],.set-price-range .set-form-box>.min-price[data-v-10d90206]{width:50%;height:84px;background:hsla(0,0%,100%,.04);border-radius:10px;text-align:center;padding:0 20px;display:flex;flex-direction:column;justify-content:center}.set-price-range .set-form-box .max-price[data-v-10d90206]:first-child,.set-price-range .set-form-box>.min-price[data-v-10d90206]:first-child{margin-right:10px}.set-price-range .set-form-box .max-price>div[data-v-10d90206],.set-price-range .set-form-box>.min-price>div[data-v-10d90206]{display:flex;align-items:center;justify-content:center}.set-price-range .set-form-box .max-price>div .icon[data-v-10d90206],.set-price-range .set-form-box>.min-price>div .icon[data-v-10d90206]{width:16px;height:16px}.set-price-range .set-form-box .max-price>p[data-v-10d90206],.set-price-range .set-form-box>.min-price>p[data-v-10d90206]{font-size:12px;color:hsla(0,0%,100%,.8);margin:0}.set-price-range .set-form-box .max-price input[data-v-10d90206],.set-price-range .set-form-box>.min-price input[data-v-10d90206]{width:150px;color:#fff;font-size:14px;border:none;outline:none;margin:8px 0;background:none;text-align:center;padding:0 10px}.set-price-range .set-form-box .max-price .focus-input[data-v-10d90206]::-webkit-input-placeholder,.set-price-range .set-form-box>.min-price .focus-input[data-v-10d90206]::-webkit-input-placeholder{color:#fff}.set-price-range .full-range-hint[data-v-10d90206]{position:absolute;top:0;left:0;background:rgba(50,50,50,.88);border-radius:10px;padding:20px}.set-price-range .full-range-hint .full-range-hint-title[data-v-10d90206]{font-weight:700;color:#fb0;font-size:14px}.set-price-range .full-range-hint .full-range-hint-title img[data-v-10d90206]{margin-right:11px}.set-price-range .full-range-hint .full-range-hint-text[data-v-10d90206]{margin-top:14px;color:#fb0;font-size:14px}.set-price-range .full-range-hint .full-range-hint-btn-box[data-v-10d90206]{text-align:center}.set-price-range .full-range-hint .full-range-hint-btn-box .full-range-hint-btn[data-v-10d90206]{margin:15px auto 0;width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:none;width:120px;height:32px;color:#fff;font-size:12px;border-radius:8px}.set-price-range .full-range-hint .full-range-hint-btn-box .full-range-hint-btn[data-v-10d90206]:hover{background:linear-gradient(214deg,#a4fff0,#8996ff 61%,#c9c0ff 76%,#f1c3ff)}.set-price-range .full-range-hint .full-range-hint-btn-box .full-range-hint-btn[data-v-10d90206]:disabled{background:hsla(0,0%,100%,.1);cursor:not-allowed}.set-price-range .full-range-hint .full-range-hint-btn-box .full-range-hint-btn[data-v-10d90206]:disabled:hover{background:hsla(0,0%,100%,.1)}.set-price-range .full-range[data-v-10d90206]{width:452px;height:40px;background:hsla(0,0%,100%,.05);border-radius:10px;font-size:14px;color:#fff;margin-top:10px}@media screen and (max-width:750px){.set-price-range .full-range[data-v-10d90206]{width:100%}.set-price-range .set-form-box .max-price[data-v-10d90206],.set-price-range .set-form-box .min-price[data-v-10d90206]{width:50%}.set-price-range .set-form-box .max-price input[data-v-10d90206],.set-price-range .set-form-box .min-price input[data-v-10d90206]{width:100%}}",""]),e.exports=o},1211:function(e,t,n){"use strict";n(1180)},1212:function(e,t,n){var o=n(50)(!1);o.push([e.i,".price-range-hint[data-v-18df2919]{margin-top:10px;padding:20px;background:hsla(0,0%,100%,.03);border-radius:10px;border:1px solid hsla(0,0%,100%,.1);font-size:14px;font-family:ArialMT;color:#fa3131;display:flex}.price-range-hint img[data-v-18df2919]{margin-right:10px}",""]),e.exports=o},1223:function(e,t,n){"use strict";n.r(t);n(369);var o=n(181),r=n.n(o),c=n(12);c.default.use(r.a);var l=c.default.extend({components:{Modal:r.a}}),d=(n(1200),n(55)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Modal",{attrs:{title:"",centered:"",visible:!0,footer:null,"dialog-style":{top:"30%"}},on:{cancel:function(t){return e.$emit("onClose")}}},[o("div",{staticClass:"waiting-container"},[o("img",{attrs:{src:n(565),alt:""}}),e._v(" "),o("p",{staticClass:"waiting-title"},[e._v("Waiting For Confirmation")]),e._v(" "),o("p",{staticClass:"waiting-title"},[e._v("Supplying 0.0240357 CSV and 26.4235 USDT")]),e._v(" "),o("p",{staticClass:"waiting-text"},[e._v("Confirm this transaction in your wallet")])])])}),[],!1,null,"73101c4d",null);t.default=component.exports},1224:function(e,t,n){"use strict";n.r(t);n(369);var o=n(181),r=n.n(o),c=n(12);c.default.use(r.a);var l=c.default.extend({components:{Modal:r.a}}),d=(n(1202),n(55)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Modal",{attrs:{title:"",centered:"",visible:!0,footer:null,"dialog-style":{top:"30%"}},on:{cancel:function(t){return e.$emit("onClose")}}},[o("div",{staticClass:"waiting-container"},[o("img",{attrs:{src:n(563),alt:""}}),e._v(" "),o("p",{staticClass:"waiting-title"},[e._v("Transaction Submitted")])])])}),[],!1,null,"42df0c8c",null);t.default=component.exports},1225:function(e,t,n){"use strict";n.r(t);var o=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"full-range-hint-title"},[o("img",{attrs:{src:n(567),alt:""}}),e._v("\n      Lower Efficiency\n    ")])}],r=(n(212),n(137)),c=n.n(r),l=(n(545),n(12)),d=n(97),f=n(265);l.default.use(c.a);var m=l.default.extend({components:{Button:c.a},props:["fromCoin","toCoin","currentPrice","direction"],data:function(){return{minPrice:"0",maxPrice:"∞",isFullRange:!1,isShowFullRangeHint:!1,step:0}},watch:{currentPrice:{handler:"watchCurrentPrice",immediate:!0},minPrice:function(e){this.$emit("onChangeMin",e)},maxPrice:function(e){this.$emit("onChangeMax",e)},direction:function(e){if(console.log("SetPriceRange###directiong##value###",e),"∞"===this.maxPrice)this.onChangeMax("∞"),this.onChangeMin("0");else{var t=Number(this.minPrice),n=Number(this.maxPrice);this.onChangeMin(String(1/n)),this.onChangeMax(String(1/t))}var o=1/this.currentPrice;this.step=o/100},fromCoin:{handler:"watchFromCoin",immediate:!0},toCoin:{handler:"watchToCoin",immediate:!0}},methods:{watchFromCoin:function(e){e||(this.onChangeMin("0"),this.onChangeMax("0"),this.minPrice="0",this.maxPrice="0")},watchToCoin:function(e){e||(this.onChangeMin("0"),this.onChangeMax("0"),this.minPrice="0",this.maxPrice="0")},addMinPrice:function(){var e=Object(f.h)(Number(this.minPrice)),t=Object(f.i)(e+6);this.onChangeMin(String(t))},minusMinPrice:function(){var e=Object(f.h)(Number(this.minPrice)),t=Object(f.i)(e-6);this.onChangeMin(String(t))},addMaxPrice:function(){var e=Object(f.h)(Number(this.maxPrice)),t=Object(f.i)(e+6);this.onChangeMax(String(t))},minusMaxPrice:function(){var e=Object(f.h)(Number(this.maxPrice)),t=Object(f.i)(e-6);this.onChangeMax(String(t))},watchCurrentPrice:function(e){if(e){var t=Math.pow(e/Math.pow(10,12),2);this.step=Number(t)/100;var n=String(t-.01*t),o=String(t+.01*t);this.onChangeMin(n),this.onChangeMax(o),this.minPrice=n,this.maxPrice=o}},fullRange:function(){Object(d.b)(Math.pow(this.currentPrice/Math.pow(10,12),2),12);this.isFullRange=!0,this.isShowFullRangeHint=!this.isShowFullRangeHint,this.minPrice="0",this.maxPrice="∞",this.$emit("onChangeMin","0"),this.$emit("onChangeMax","∞")},onChangeMin:function(e){if("0"!==e){var t=Object(f.h)(Number(e)),n=Object(f.i)(t);this.minPrice=String(Object(d.a)(String(n),6))}else this.minPrice="0"},onChangeMax:function(e){if("∞"!==e){var t=Object(f.h)(Number(e)),n=Object(f.i)(t);this.maxPrice=String(Object(d.a)(String(n),6))}else this.maxPrice="∞"}}}),h=(n(1209),n(55)),component=Object(h.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"set-price-range"},[n("h3",[e._v("Set Price Range")]),e._v(" "),n("div",{staticClass:"set-form-box"},[n("div",{staticClass:"min-price"},[n("p",[e._v("Min Price")]),e._v(" "),n("div",[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:e.minusMinPrice}},[n("use",{attrs:{"xlink:href":"#icon-icon-Reduction"}})]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.minPrice,expression:"minPrice"}],class:e.isFullRange?"focus-input":"",attrs:{type:"number",placeholder:e.minPrice,autocomplete:"off",autocorrect:"off",pattern:"^[0-9]*[.,∞]?[0-9]*$",minlength:"1",maxlength:"79",spellcheck:"false"},domProps:{value:e.minPrice},on:{blur:function(t){return e.onChangeMin(t.target.value)},input:function(t){t.target.composing||(e.minPrice=t.target.value)}}}),e._v(" "),n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:e.addMinPrice}},[n("use",{attrs:{"xlink:href":"#icon-a-icon-AddCustomMarket"}})])]),e._v(" "),n("p",[e._v(e._s(e.toCoin&&e.toCoin.symbol)+" per "+e._s(e.fromCoin&&e.fromCoin.symbol))])]),e._v(" "),n("div",{staticClass:"max-price"},[n("p",[e._v("Max Price")]),e._v(" "),n("div",[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:e.minusMaxPrice}},[n("use",{attrs:{"xlink:href":"#icon-icon-Reduction"}})]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.maxPrice,expression:"maxPrice"}],class:e.isFullRange?"focus-input":"",attrs:{type:"number",placeholder:e.maxPrice,autocomplete:"off",autocorrect:"off",pattern:"^[0-9]*[.,∞]?[0-9]*$",minlength:"1",maxlength:"79",spellcheck:"false"},domProps:{value:e.maxPrice},on:{blur:function(t){return e.onChangeMax(t.target.value)},input:function(t){t.target.composing||(e.maxPrice=t.target.value)}}}),e._v(" "),n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:e.addMaxPrice}},[n("use",{attrs:{"xlink:href":"#icon-a-icon-AddCustomMarket"}})])]),e._v(" "),n("p",[e._v(e._s(e.toCoin&&e.toCoin.symbol)+" per "+e._s(e.fromCoin&&e.fromCoin.symbol))])])]),e._v(" "),e.isShowFullRangeHint?n("div",{staticClass:"full-range-hint"},[e._m(0),e._v(" "),n("div",{staticClass:"full-range-hint-text"},[e._v("\n      Please note that full range positions may earn less fees than concentrated liquidity.\n    ")]),e._v(" "),n("div",{staticClass:"full-range-hint-btn-box"},[n("Button",{staticClass:"full-range-hint-btn",on:{click:function(t){e.isShowFullRangeHint=!e.isShowFullRangeHint}}},[e._v("I understand")])],1)]):e._e(),e._v(" "),n("button",{staticClass:"full-range",on:{click:e.fullRange}},[e._v("Full Range")])])}),o,!1,null,"10d90206",null);t.default=component.exports},1226:function(e,t,n){"use strict";n.r(t);var o=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"price-range-hint"},[o("img",{attrs:{src:n(566),alt:""}}),e._v("\n  The range you specified is invalid. The max price must be higher than the min price.\n")])}],r=n(12).default.extend({}),c=(n(1211),n(55)),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),o,!1,null,"18df2919",null);t.default=component.exports},1236:function(e,t,n){"use strict";n(1206)},1237:function(e,t,n){var o=n(50),r=n(372),c=n(562),l=o(!1),d=r(c);l.push([e.i,".gradient-btn-large[data-v-739b045e]{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:none;color:#fff}.gradient-btn-large[data-v-739b045e]:hover{background:linear-gradient(214deg,#a4fff0,#8996ff 61%,#c9c0ff 76%,#f1c3ff)}.gradient-btn-large[data-v-739b045e]:disabled{cursor:not-allowed}.gradient-btn-large[data-v-739b045e]:disabled,.gradient-btn-large[data-v-739b045e]:disabled:hover{background:hsla(0,0%,100%,.1)}.pool-container[data-v-739b045e]{width:492px;background:hsla(0,0%,100%,.06);border-radius:30px}.pool-container .form-block .add-icon[data-v-739b045e]{display:flex;align-items:center;justify-content:center;padding-top:20px}.pool-container .form-block .add-icon a[data-v-739b045e]{display:block;width:40px;height:40px;background-position:50%;background-repeat:no-repeat;background-size:100% 100%;background-image:url("+d+")}.pool-container .coin-rate[data-v-739b045e]{display:flex;justify-content:space-between;align-items:center;line-height:1;margin-bottom:20px}.pool-container .coin-rate .coin-text[data-v-739b045e]{font-weight:700;color:#fff;font-size:16px;background:linear-gradient(90deg,#59bdad,#6676f5,#9a89f9,#eba7ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.pool-container .coin-rate .tab-coin[data-v-739b045e]{display:flex;align-items:center;padding:3px;height:26px;border-radius:4px;background:hsla(0,0%,100%,.1)}.pool-container .coin-rate .tab-coin div[data-v-739b045e]{height:20px;padding:4px 10px;cursor:pointer}.pool-container .coin-rate .tab-coin div.active[data-v-739b045e]{padding:4px 12px;height:20px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:4px;cursor:pointer}.pool-container .add-liquidity-btn[data-v-739b045e]{width:100%;height:56px;background:linear-gradient(214deg,#59bdad,#6676f5 61%,#9a89f9 76%,#eba7ff);border-radius:10px;font-size:20px;font-weight:700;border:none;color:#fff;margin-top:20px}.pool-container .add-liquidity-btn[data-v-739b045e]:hover{background:linear-gradient(214deg,#a4fff0,#8996ff 61%,#c9c0ff 76%,#f1c3ff)}.pool-container .add-liquidity-btn[data-v-739b045e]:disabled{background:hsla(0,0%,100%,.1);cursor:not-allowed}.pool-container .add-liquidity-btn[data-v-739b045e]:disabled:hover{background:hsla(0,0%,100%,.1)}.pool-container .link-block[data-v-739b045e]{display:flex;align-items:center;justify-content:center;margin-top:20px}.pool-container .link-block>a[data-v-739b045e]{font-size:14px;color:#fff;display:flex;align-items:center;justify-content:center}.pool-container .link-block>a svg[data-v-739b045e]{width:20px;height:20px;fill:#fff}.pool-container .set-price-range-box[data-v-739b045e]{position:relative}.pool-container .set-price-range-box .set-price-range-loading[data-v-739b045e]{position:absolute;left:0;right:0;top:27px;bottom:0;background:rgba(51,56,59,.5);border-radius:10px;display:flex;justify-content:center;align-items:center}.pool-container-hint[data-v-739b045e]{width:492px;padding:20px;background:hsla(0,0%,100%,.03);border-radius:30px;margin:auto auto 10px;font-size:12px;color:hsla(0,0%,100%,.6);display:flex;align-items:center}.pool-container-hint img[data-v-739b045e]{width:20px;height:20px;margin-right:10px}@media screen and (max-width:750px){.pool-container[data-v-739b045e]{width:343px}.pool-container-hint[data-v-739b045e]{width:343px;margin-top:10px}}",""]),e.exports=l},1264:function(e,t,n){"use strict";n.r(t);n(66),n(52),n(65),n(72),n(56),n(83);var o=n(8),r=n(36),c=(n(549),n(98)),l=n.n(c),d=(n(212),n(137)),f=n.n(d),m=(n(33),n(268),n(570),n(1182),n(545),n(27),n(84),n(85),n(555),n(104)),h=n(86),v=n(1223),x=n(1224),C=n(97),y=n(1310),w=n(68),k=n(1204),P=n(1205),_=n(267),A=n(4),O=n(26),j=n(265),S=n(44),M=n(16),T=n(154);function L(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function K(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var I=Object(w.f)("CUSDC"),N=Object(w.f)("CUSDT"),$=m.Vue.extend({components:{WaitingHint:v.default,SuccessHint:x.default,Button:f.a,Icon:l.a},data:function(){return{showAddLiquidity:!0,tokenList:[],fromCoin:I,toCoin:N,showSetting:!1,showWaitingHint:!1,showSuccessHint:!1,currentCoinKey:"fromCoin",toCoinRate:0,showCoinSelect:!1,fixedFromCoin:!0,fromCoinAmount:"",toCoinAmount:"",direction:!0,suppling:!1,minPrice:"0",maxPrice:"∞",showFromCoinLock:!1,showToCoinLock:!1,deltaLiquity:0,showAddLiquiditySecondConfirm:!1,secondConfirmData:{},displayCurrentprice:0,existingCoins:"",currentPriceIsLoading:!0}},computed:K(K({},Object(h.e)(["wallet","farm","url","liquidity"])),{},{poolInfo:function(){var e=this;return Object.values(this.$accessor.liquidity.infos).find((function(p){var t,n,o,r;return p.coin.symbol===(null===(t=e.fromCoin)||void 0===t?void 0:t.symbol)&&p.pc.symbol===(null===(n=e.toCoin)||void 0===n?void 0:n.symbol)||p.coin.symbol===(null===(o=e.toCoin)||void 0===o?void 0:o.symbol)&&p.pc.symbol===(null===(r=e.fromCoin)||void 0===r?void 0:r.symbol)}))},insufficientBalance:function(){var e=this.$data.fromCoin&&this.$data.fromCoin.balance&&this.$data.fromCoin.balance.fixed()||"",t=this.$data.toCoin&&this.$data.toCoin.balance&&this.$data.toCoin.balance.fixed()||"",n=Object(S.b)(this.$data.fromCoinAmount,e),o=Object(S.b)(this.$data.toCoinAmount,t),r=this.showFromCoinLock,c=this.showToCoinLock;return!(r&&!c&&!o)&&(!(c&&!r&&!n)&&!!(r||c||n||o))},noEnterAmount:function(){var e=Number(this.fromCoinAmount),t=Number(this.toCoinAmount),n=this.showFromCoinLock,o=this.showToCoinLock;return!(!n||o||t)||(!(!o||n||e)||!(n||o||e&&t))},isDisabled:function(){var e=Object(S.b)(this.$data.toCoinAmount,this.$data.toCoin&&this.$data.toCoin.balance&&this.$data.toCoin.balance.fixed()),t=Object(S.b)(this.$data.fromCoinAmount,this.$data.fromCoin&&this.$data.fromCoin.balance&&this.$data.fromCoin.balance.fixed());return this.$data.showFromCoinLock&&this.$data.toCoinAmount&&this.$data.toCoin?e||!1:this.$data.showToCoinLock&&this.$data.fromCoinAmount&&this.$data.fromCoin?t||!1:!this.$data.toCoinAmount||!this.$data.fromCoinAmount||t},invalidPriceRange:function(){return Number(this.minPrice)>Number(this.maxPrice)}}),watch:{"wallet.tokenAccounts":{handler:function(e,t){this.updateCoinInfo(e)},deep:!0},poolInfo:{handler:function(e){var t,n;e?(e.coin.symbol===(null===(t=this.fromCoin)||void 0===t?void 0:t.symbol)&&e.pc.symbol===(null===(n=this.toCoin)||void 0===n?void 0:n.symbol)?this.direction=!0:this.direction=!1,this.updateAmounts(e.currentPrice,this.minPrice,this.maxPrice),this.setDisplayCurrentprice(e.currentPrice)):this.fixedFromCoin?this.toCoin=null:this.fromCoin=null},deep:!0},fromCoinAmount:function(e,t){var n=this;this.$nextTick((function(){P.b.test(Object(P.a)(e))?n.fixedFromCoin&&n.poolInfo&&n.updateAmounts(n.poolInfo.currentPrice,n.minPrice,n.maxPrice):n.fromCoinAmount=t}))},toCoinAmount:function(e,t){var n=this;this.$nextTick((function(){P.b.test(Object(P.a)(e))?!n.fixedFromCoin&&n.poolInfo&&n.updateAmounts(n.poolInfo.currentPrice,n.minPrice,n.maxPrice):n.toCoinAmount=t}))},minPrice:function(e){(Number(e)||Number(this.maxPrice))&&this.poolInfo&&this.updateAmounts(this.poolInfo.currentPrice,e,this.maxPrice)},maxPrice:function(e){(Number(e)||Number(this.minPrice))&&this.poolInfo&&this.updateAmounts(this.poolInfo.currentPrice,this.minPrice,e)}},mounted:function(){this.updateCoinInfo(this.wallet.tokenAccounts)},methods:{gt:S.b,fixD:C.b,setDisplayCurrentprice:function(e){var t=Number(Math.pow(Number(e)/Math.pow(10,12),2));this.displayCurrentprice=t,this.currentPriceIsLoading=!1},openAddLiquiditySecondConfirm:function(){var e=Number(Math.pow(Number(this.poolInfo.currentPrice)/Math.pow(10,12),2));console.log("openAddLiquiditySecondConfirm###this.poolInfo###",this.poolInfo);var t="Active";this.deltaLiquity?e>=Number(this.minPrice)&&e<=Number(this.maxPrice)?t="Active":(e>Number(this.maxPrice)||e<Number(this.minPrice))&&(t="InActive"):t="Closed",this.secondConfirmData={fromCoin:this.fromCoin,toCoin:this.toCoin,fromCoinAmount:this.fromCoinAmount,toCoinAmount:this.toCoinAmount,currentPrice:e,minPrice:this.minPrice,maxPrice:this.maxPrice,showFromCoinLock:this.showFromCoinLock,showToCoinLock:this.showToCoinLock,currentStatus:t,feeTier:this.poolInfo.fee+"%"},this.showAddLiquiditySecondConfirm=!0},closeAddLiquiditySecondConfirm:function(){this.secondConfirmData={},this.showAddLiquiditySecondConfirm=!1},priceRangeChangeMin:function(e){this.minPrice=e},priceRangeChangeMax:function(e){this.maxPrice=e},updateCoinInfo:function(e){if(this.fromCoin){var t=e[this.fromCoin.mintAddress];t&&(this.fromCoin=K(K({},this.fromCoin),t))}if(this.toCoin){var n=e[this.toCoin.mintAddress];n&&(this.toCoin=K(K({},this.toCoin),n))}},updateAmounts:function(e,t,n){Number(e),Math.pow(10,12);var o,r,c,l,d,f,m,h,v,x,y,w=Number(Math.pow(Number(e)/Math.pow(10,12),2)),k=0,P=0;if("0"===t&&"∞"===n?(x=-552648,y=552648):(this.direction?(k=Number(t),P=Number(n)):(k=1/Number(n),P=1/Number(t)),console.log("pool.vue####minPrice####",k),console.log("pool.vue####maxPrice####",P),x=Object(j.h)(Math.sqrt(k)),y=Object(j.h)(Math.sqrt(P))),"∞"!==n&&P<=k)return this.showFromCoinLock=!0,this.fromCoinAmount="",this.showToCoinLock=!0,void(this.toCoinAmount="");if(w>=k&&w<=P||"∞"===n){var _,A;this.fixedFromCoin?(_=new S.a(this.fromCoinAmount,null===(o=this.fromCoin)||void 0===o?void 0:o.decimals,!1).wei.toNumber(),A=(null===(r=this.fromCoin)||void 0===r?void 0:r.symbol)===this.poolInfo.coin.symbol&&(null===(c=this.toCoin)||void 0===c?void 0:c.symbol)===this.poolInfo.pc.symbol?0:1):(_=new S.a(this.toCoinAmount,null===(l=this.toCoin)||void 0===l?void 0:l.decimals,!1).wei.toNumber(),A=(null===(d=this.toCoin)||void 0===d?void 0:d.symbol)===this.poolInfo.coin.symbol&&(null===(f=this.fromCoin)||void 0===f?void 0:f.symbol)===this.poolInfo.pc.symbol?0:1);var O=Object(j.d)(x,y,_,new M.a(e),A),T=O.dst,L=O.delta_liquity;this.showFromCoinLock=!1,this.showToCoinLock=!1;var K=(null===(m=this.toCoin)||void 0===m?void 0:m.decimals)||6;this.fixedFromCoin?this.toCoinAmount=Object(C.b)(Math.abs(T)/Math.pow(10,K),K)||"0":this.fromCoinAmount=Object(C.b)(Math.abs(T)/Math.pow(10,K),K)||"0",this.deltaLiquity=L}else if(w>P){var I=new S.a(this.toCoinAmount,null===(h=this.toCoin)||void 0===h?void 0:h.decimals,!1).wei.toNumber(),N=Object(j.c)(x,y,I);this.showFromCoinLock=!0,this.fromCoinAmount="",this.showToCoinLock=!1,this.deltaLiquity=N}else if(w<k){var $=new S.a(this.fromCoinAmount,null===(v=this.fromCoin)||void 0===v?void 0:v.decimals,!1).wei.toNumber(),W=Object(j.b)(x,y,$);this.showFromCoinLock=!1,this.showToCoinLock=!0,this.toCoinAmount="",this.deltaLiquity=W}},openCoinSelect:function(e){var t,n;this.currentCoinKey=e,this.existingCoins="fromCoin"===e?(null===(t=this.toCoin)||void 0===t?void 0:t.symbol)||"":(null===(n=this.fromCoin)||void 0===n?void 0:n.symbol)||"",this.showCoinSelect=!0},onCoinSelect:function(e){"fromCoin"===this.currentCoinKey?this.fromCoin=e:this.toCoin=e,this.showCoinSelect=!1},maxBtnSelect:function(e){var t,n;"fromCoin"===e?(this.fixedFromCoin=!0,this.fromCoinAmount=this.fromCoin&&this.fromCoin.balance?"SOL"!==this.fromCoin.symbol?this.fromCoin.balance.fixed():String(Number(this.fromCoin.balance.fixed())-.05):"0"):(this.fixedFromCoin=!1,this.toCoinAmount=(null===(n=null===(t=this.toCoin)||void 0===t?void 0:t.balance)||void 0===n?void 0:n.fixed())||"")},changeCoinPosition:function(){this.direction=!this.direction;var e=this.fromCoin,t=this.toCoin;this.fromCoin=t,this.toCoin=e;var n=this.fromCoinAmount,o=this.toCoinAmount;this.fromCoinAmount=o,this.toCoinAmount=n},findMyNfts:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,data,r,c,l,d,i,f,m,h,v;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=[],n.next=3,Object(T.a)(t.$web3,new A.PublicKey(t.poolInfo.tokenSwapAccount),O.f);case 3:return data=n.sent,r=M.e.decode(data),c=r.user_position_index,8,M.a.fromBuffer(r.current_price).toNumber()/Math.pow(10,8),n.next=10,M.f.loadUserPosition(t.$web3,new A.PublicKey(t.poolInfo.userPositionKey),O.f,c);case 10:for(l=n.sent,d={},i=0;i<c;i++)f=l[i],d[f.nft_token_id.toString()]=f;for(m in e)h=e[m].tokenAccountAddress,d[h]&&(v=d[h],o.push(K({nftMint:new A.PublicKey(m)},v)));return n.abrupt("return",o);case 15:case"end":return n.stop()}}),n)})))()},supply:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o,r,c,l,d,f,m,h,v,x,i,w,P,S;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.findMyNfts(e.wallet.tokenAccounts);case 2:if(n=t.sent,e.suppling=!0,o=e.$web3,r=e.$wallet,c=Object.values(e.$accessor.liquidity.infos).find((function(p){var t,n,o,r;return p.coin.symbol===(null===(t=e.fromCoin)||void 0===t?void 0:t.symbol)&&p.pc.symbol===(null===(n=e.toCoin)||void 0===n?void 0:n.symbol)||p.coin.symbol===(null===(o=e.toCoin)||void 0===o?void 0:o.symbol)&&p.pc.symbol===(null===(r=e.fromCoin)||void 0===r?void 0:r.symbol)})),l=Object(y.a)(e.wallet.tokenAccounts,"".concat(e.fromCoin.mintAddress,".tokenAccountAddress")),d=Object(y.a)(e.wallet.tokenAccounts,"".concat(e.toCoin.mintAddress,".tokenAccountAddress")),f=Object(C.c)().toString(),e.$notify.info({key:f,message:"Making transaction...",description:"",duration:0,icon:e.$createElement("img",{class:{"notify-icon":!0},attrs:{src:"/tanhao@2x.png"}})}),"0"===e.minPrice&&"∞"===e.maxPrice?(m=-552648,h=552648):e.direction?(m=Object(j.h)(Math.sqrt(Number(e.minPrice))),h=Object(j.h)(Math.sqrt(Number(e.maxPrice)))):(m=Object(j.h)(Math.sqrt(1/Number(e.maxPrice))),h=Object(j.h)(Math.sqrt(1/Number(e.minPrice)))),!(n.length>0)){t.next=22;break}i=0;case 14:if(!(i<n.length)){t.next=22;break}if(n[i].lower_tick!==m||n[i].upper_tick!==h||n[i].liquity!==Number(Object(C.b)(e.deltaLiquity,0))){t.next=19;break}return v=n[i].nftMint,x=n[i].nft_token_id,t.abrupt("break",22);case 19:i++,t.next=14;break;case 22:if(v||x){t.next=30;break}return t.next=25,_.b.createMint(o,O.b,new A.PublicKey(c.authority),null,0,_.a);case 25:return w=t.sent,v=w.publicKey,t.next=29,w.createAccount(r.publicKey);case 29:x=t.sent;case 30:e.fromCoinAmount&&(P=Number(e.fromCoinAmount)*(1+Number(e.$accessor.slippage)/100)),e.toCoinAmount&&(S=Number(e.toCoinAmount)*(1+Number(e.$accessor.slippage)/100)),console.log("supply考虑滑点后####fromCoinAmount####",P),console.log("supply考虑滑点后####toCoinAmount####",S),console.log("tick_lower",m),console.log("tick_upper",h),console.log("pool.vue###this.deltaLiquity####",e.deltaLiquity),Object(k.a)(o,r,c,v,x,l,d,e.fromCoin,e.toCoin,P,S,m,h,e.deltaLiquity).then((function(t){var n,o;e.$notify.info({key:f,message:"Transaction has been sent",icon:e.$createElement("img",{class:{"notify-icon":!0},attrs:{src:"/tanhao@2x.png"}}),description:function(n){return n("div",["Confirmation is in progress.  Check your transaction on ",n("a",{attrs:{href:"".concat(e.url.explorer,"/tx/").concat(t),target:"_blank"}},"here")])}});var r="Add liquidity for ".concat(e.fromCoinAmount," ").concat(null===(n=e.fromCoin)||void 0===n?void 0:n.symbol," and ").concat(e.toCoinAmount," ").concat(null===(o=e.toCoin)||void 0===o?void 0:o.symbol);e.$accessor.transaction.sub({txid:t,description:r})})).catch((function(t){e.$notify.error({key:f,message:"Add liquidity failed",description:t.message,class:"error",icon:e.$createElement("img",{class:{"notify-icon":!0},attrs:{src:"/icon_Error@2x.png"}})})})).finally((function(){e.suppling=!1,e.fromCoinAmount="",e.toCoinAmount=""}));case 38:case"end":return t.stop()}}),t)})))()}}}),W=(n(1236),n(55)),component=Object(W.a)($,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pool-container-box"},[n("div",{staticClass:"container pool-container"},[n("div",{staticClass:"c-title"},[n("span",[e._v("Concentrated Liquidity")]),e._v(" "),n("div",{staticClass:"buttons"},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(t){e.showSetting=!0}}},[n("use",{attrs:{"xlink:href":"#icon-a-bianzu81"}})])])]),e._v(" "),e.currentPriceIsLoading?n("div",{staticClass:"price-loading"},[n("Icon",{attrs:{type:"loading"}})],1):n("div",{staticClass:"coin-rate"},[e.fromCoin&&e.toCoin?n("div",{staticClass:"coin-text"},[e.direction?n("div",[e._v("\n          1 "+e._s(e.fromCoin.symbol)+" ≈ "+e._s(e.fixD(e.displayCurrentprice,e.toCoin.decimals))+" "+e._s(e.toCoin.symbol)+"\n        ")]):n("div",[e._v("\n          1 "+e._s(e.fromCoin.symbol)+" ≈ "+e._s(e.fixD(1/e.displayCurrentprice,e.fromCoin.decimals))+" "+e._s(e.toCoin.symbol)+"\n        ")])]):e._e(),e._v(" "),e.fromCoin&&e.toCoin?n("div",{staticClass:"tab-coin"},[n("div",{class:e.direction?"active":"",on:{click:e.changeCoinPosition}},[e._v("\n          "+e._s(e.direction?e.fromCoin.symbol:e.toCoin.symbol)+"\n        ")]),e._v(" "),n("div",{class:e.direction?"":"active",on:{click:e.changeCoinPosition}},[e._v("\n          "+e._s(e.direction?e.toCoin.symbol:e.fromCoin.symbol)+"\n        ")])]):e._e()]),e._v(" "),n("div",{staticClass:"form-block"},[n("CoinBlock",{attrs:{"coin-name":e.fromCoin?e.fromCoin.symbol:"",balance:e.fromCoin?e.fromCoin.balance:null,"show-lock":e.showFromCoinLock},on:{onInput:function(t){return e.fromCoinAmount=t},onFocus:function(){e.fixedFromCoin=!0},onSelect:function(t){return e.openCoinSelect("fromCoin")},onMax:function(t){return e.maxBtnSelect("fromCoin")}},model:{value:e.fromCoinAmount,callback:function(t){e.fromCoinAmount=t},expression:"fromCoinAmount"}}),e._v(" "),e._m(0),e._v(" "),n("CoinBlock",{attrs:{"coin-name":e.toCoin?e.toCoin.symbol:"",balance:e.toCoin?e.toCoin.balance:null,"show-lock":e.showToCoinLock},on:{onInput:function(t){return e.toCoinAmount=t},onFocus:function(){e.fixedFromCoin=!1},onSelect:function(t){return e.openCoinSelect("toCoin")},onMax:function(t){return e.maxBtnSelect("toCoin")}},model:{value:e.toCoinAmount,callback:function(t){e.toCoinAmount=t},expression:"toCoinAmount"}})],1),e._v(" "),n("div",{staticClass:"set-price-range-box"},[n("SetPriceRange",{attrs:{"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price":e.poolInfo&&e.poolInfo.currentPrice||0,direction:e.direction},on:{onChangeMin:e.priceRangeChangeMin,onChangeMax:e.priceRangeChangeMax}}),e._v(" "),e.currentPriceIsLoading?n("div",{staticClass:"set-price-range-loading"},[n("Icon",{attrs:{type:"loading"}})],1):e._e()],1),e._v(" "),e.invalidPriceRange?n("PriceRangeHint"):e._e(),e._v(" "),e.wallet.connected?n("Button",{staticClass:"add-liquidity-btn",attrs:{disabled:e.suppling||e.isDisabled||e.noEnterAmount||e.invalidPriceRange,loading:e.suppling},on:{click:e.openAddLiquiditySecondConfirm}},[e._v("\n      "+e._s(e.noEnterAmount?"Enter an amount":e.insufficientBalance?"Insufficient balance":"Add Liquidity")+"\n    ")]):n("Button",{staticClass:"add-liquidity-btn",on:{click:e.$accessor.wallet.openModal}},[e._v("Connect Wallet")]),e._v(" "),e.wallet.connected?n("div",{staticClass:"link-block"},[n("nuxt-link",{attrs:{to:"/position"}},[n("span",[e._v("My Position")]),e._v(" "),n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-a-bianzu18"}})])])],1):e._e(),e._v(" "),e.showSetting?n("Setting",{on:{onClose:function(){return e.showSetting=!1}}}):e._e(),e._v(" "),e.showWaitingHint?n("WaitingHint",{on:{onClose:function(){return e.showWaitingHint=!1}}}):e._e(),e._v(" "),e.showSuccessHint?n("SuccessHint",{on:{onClose:function(){return e.showSuccessHint=!1}}}):e._e(),e._v(" "),e.showCoinSelect?n("CoinSelect",{attrs:{"existing-coins":e.existingCoins},on:{onClose:function(){return e.showCoinSelect=!1},onSelect:e.onCoinSelect}}):e._e(),e._v(" "),e.showAddLiquiditySecondConfirm?n("AddLiquidityConfirm",{attrs:{"min-price":e.minPrice,"max-price":e.maxPrice,"second-confirm-data":e.secondConfirmData},on:{supply:e.supply,onClose:e.closeAddLiquiditySecondConfirm}}):e._e()],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"add-icon"},[t("a")])}],!1,null,"739b045e",null);t.default=component.exports;installComponents(component,{CoinBlock:n(1184).default,SetPriceRange:n(1225).default,PriceRangeHint:n(1226).default,Setting:n(1155).default,CoinSelect:n(1185).default,AddLiquidityConfirm:n(1227).default})},1321:function(e,t,n){"use strict";n.r(t);var o=n(1264).default,r=n(55),component=Object(r.a)(o,undefined,undefined,!1,null,null,null);t.default=component.exports}}]);